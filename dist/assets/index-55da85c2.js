function WB(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function KB(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bf={},HB={get exports(){return bf},set exports(e){bf=e}},hg={},z={},GB={get exports(){return z},set exports(e){z=e}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dh=Symbol.for("react.element"),QB=Symbol.for("react.portal"),YB=Symbol.for("react.fragment"),XB=Symbol.for("react.strict_mode"),JB=Symbol.for("react.profiler"),ZB=Symbol.for("react.provider"),e$=Symbol.for("react.context"),t$=Symbol.for("react.forward_ref"),n$=Symbol.for("react.suspense"),r$=Symbol.for("react.memo"),i$=Symbol.for("react.lazy"),PN=Symbol.iterator;function o$(e){return e===null||typeof e!="object"?null:(e=PN&&e[PN]||e["@@iterator"],typeof e=="function"?e:null)}var MO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},FO=Object.assign,UO={};function Tl(e,t,n){this.props=e,this.context=t,this.refs=UO,this.updater=n||MO}Tl.prototype.isReactComponent={};Tl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Tl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function jO(){}jO.prototype=Tl.prototype;function Eb(e,t,n){this.props=e,this.context=t,this.refs=UO,this.updater=n||MO}var bb=Eb.prototype=new jO;bb.constructor=Eb;FO(bb,Tl.prototype);bb.isPureReactComponent=!0;var ON=Array.isArray,VO=Object.prototype.hasOwnProperty,Ib={current:null},BO={key:!0,ref:!0,__self:!0,__source:!0};function $O(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)VO.call(t,r)&&!BO.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:dh,type:e,key:s,ref:a,props:i,_owner:Ib.current}}function s$(e,t){return{$$typeof:dh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Tb(e){return typeof e=="object"&&e!==null&&e.$$typeof===dh}function a$(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var xN=/\/+/g;function s_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?a$(""+e.key):t.toString(36)}function Np(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case dh:case QB:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+s_(a,0):r,ON(i)?(n="",e!=null&&(n=e.replace(xN,"$&/")+"/"),Np(i,t,n,"",function(h){return h})):i!=null&&(Tb(i)&&(i=s$(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(xN,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",ON(e))for(var l=0;l<e.length;l++){s=e[l];var c=r+s_(s,l);a+=Np(s,t,n,c,i)}else if(c=o$(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=r+s_(s,l++),a+=Np(s,t,n,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Yd(e,t,n){if(e==null)return e;var r=[],i=0;return Np(e,r,"","",function(s){return t.call(n,s,i++)}),r}function u$(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var In={current:null},Ap={transition:null},l$={ReactCurrentDispatcher:In,ReactCurrentBatchConfig:Ap,ReactCurrentOwner:Ib};be.Children={map:Yd,forEach:function(e,t,n){Yd(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Yd(e,function(){t++}),t},toArray:function(e){return Yd(e,function(t){return t})||[]},only:function(e){if(!Tb(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};be.Component=Tl;be.Fragment=YB;be.Profiler=JB;be.PureComponent=Eb;be.StrictMode=XB;be.Suspense=n$;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l$;be.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=FO({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=Ib.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)VO.call(t,c)&&!BO.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:dh,type:e.type,key:i,ref:s,props:r,_owner:a}};be.createContext=function(e){return e={$$typeof:e$,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ZB,_context:e},e.Consumer=e};be.createElement=$O;be.createFactory=function(e){var t=$O.bind(null,e);return t.type=e,t};be.createRef=function(){return{current:null}};be.forwardRef=function(e){return{$$typeof:t$,render:e}};be.isValidElement=Tb;be.lazy=function(e){return{$$typeof:i$,_payload:{_status:-1,_result:e},_init:u$}};be.memo=function(e,t){return{$$typeof:r$,type:e,compare:t===void 0?null:t}};be.startTransition=function(e){var t=Ap.transition;Ap.transition={};try{e()}finally{Ap.transition=t}};be.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};be.useCallback=function(e,t){return In.current.useCallback(e,t)};be.useContext=function(e){return In.current.useContext(e)};be.useDebugValue=function(){};be.useDeferredValue=function(e){return In.current.useDeferredValue(e)};be.useEffect=function(e,t){return In.current.useEffect(e,t)};be.useId=function(){return In.current.useId()};be.useImperativeHandle=function(e,t,n){return In.current.useImperativeHandle(e,t,n)};be.useInsertionEffect=function(e,t){return In.current.useInsertionEffect(e,t)};be.useLayoutEffect=function(e,t){return In.current.useLayoutEffect(e,t)};be.useMemo=function(e,t){return In.current.useMemo(e,t)};be.useReducer=function(e,t,n){return In.current.useReducer(e,t,n)};be.useRef=function(e){return In.current.useRef(e)};be.useState=function(e){return In.current.useState(e)};be.useSyncExternalStore=function(e,t,n){return In.current.useSyncExternalStore(e,t,n)};be.useTransition=function(){return In.current.useTransition()};be.version="18.2.0";(function(e){e.exports=be})(GB);const qO=KB(z),yw=WB({__proto__:null,default:qO},[z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c$=z,f$=Symbol.for("react.element"),h$=Symbol.for("react.fragment"),d$=Object.prototype.hasOwnProperty,p$=c$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,v$={key:!0,ref:!0,__self:!0,__source:!0};function zO(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)d$.call(t,r)&&!v$.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:f$,type:e,key:s,ref:a,props:i,_owner:p$.current}}hg.Fragment=h$;hg.jsx=zO;hg.jsxs=zO;(function(e){e.exports=hg})(HB);const g$=bf.Fragment,ue=bf.jsx,Xn=bf.jsxs;var _w={},ww={},m$={get exports(){return ww},set exports(e){ww=e}},ar={},Ew={},y$={get exports(){return Ew},set exports(e){Ew=e}},WO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,oe){var se=W.length;W.push(oe);e:for(;0<se;){var Ve=se-1>>>1,ot=W[Ve];if(0<i(ot,oe))W[Ve]=oe,W[se]=ot,se=Ve;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var oe=W[0],se=W.pop();if(se!==oe){W[0]=se;e:for(var Ve=0,ot=W.length,gs=ot>>>1;Ve<gs;){var ei=2*(Ve+1)-1,Yl=W[ei],Pr=ei+1,ms=W[Pr];if(0>i(Yl,se))Pr<ot&&0>i(ms,Yl)?(W[Ve]=ms,W[Pr]=se,Ve=Pr):(W[Ve]=Yl,W[ei]=se,Ve=ei);else if(Pr<ot&&0>i(ms,se))W[Ve]=ms,W[Pr]=se,Ve=Pr;else break e}}return oe}function i(W,oe){var se=W.sortIndex-oe.sortIndex;return se!==0?se:W.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],h=[],p=1,v=null,m=3,y=!1,w=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(W){for(var oe=n(h);oe!==null;){if(oe.callback===null)r(h);else if(oe.startTime<=W)r(h),oe.sortIndex=oe.expirationTime,t(c,oe);else break;oe=n(h)}}function P(W){if(b=!1,C(W),!w)if(n(c)!==null)w=!0,ki(D);else{var oe=n(h);oe!==null&&$a(P,oe.startTime-W)}}function D(W,oe){w=!1,b&&(b=!1,I(M),M=-1),y=!0;var se=m;try{for(C(oe),v=n(c);v!==null&&(!(v.expirationTime>oe)||W&&!Ft());){var Ve=v.callback;if(typeof Ve=="function"){v.callback=null,m=v.priorityLevel;var ot=Ve(v.expirationTime<=oe);oe=e.unstable_now(),typeof ot=="function"?v.callback=ot:v===n(c)&&r(c),C(oe)}else r(c);v=n(c)}if(v!==null)var gs=!0;else{var ei=n(h);ei!==null&&$a(P,ei.startTime-oe),gs=!1}return gs}finally{v=null,m=se,y=!1}}var O=!1,B=null,M=-1,ae=5,A=-1;function Ft(){return!(e.unstable_now()-A<ae)}function Rr(){if(B!==null){var W=e.unstable_now();A=W;var oe=!0;try{oe=B(!0,W)}finally{oe?ps():(O=!1,B=null)}}else O=!1}var ps;if(typeof T=="function")ps=function(){T(Rr)};else if(typeof MessageChannel<"u"){var Ba=new MessageChannel,vs=Ba.port2;Ba.port1.onmessage=Rr,ps=function(){vs.postMessage(null)}}else ps=function(){S(Rr,0)};function ki(W){B=W,O||(O=!0,ps())}function $a(W,oe){M=S(function(){W(e.unstable_now())},oe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,ki(D))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(W){switch(m){case 1:case 2:case 3:var oe=3;break;default:oe=m}var se=m;m=oe;try{return W()}finally{m=se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,oe){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var se=m;m=W;try{return oe()}finally{m=se}},e.unstable_scheduleCallback=function(W,oe,se){var Ve=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Ve+se:Ve):se=Ve,W){case 1:var ot=-1;break;case 2:ot=250;break;case 5:ot=1073741823;break;case 4:ot=1e4;break;default:ot=5e3}return ot=se+ot,W={id:p++,callback:oe,priorityLevel:W,startTime:se,expirationTime:ot,sortIndex:-1},se>Ve?(W.sortIndex=se,t(h,W),n(c)===null&&W===n(h)&&(b?(I(M),M=-1):b=!0,$a(P,se-Ve))):(W.sortIndex=ot,t(c,W),w||y||(w=!0,ki(D))),W},e.unstable_shouldYield=Ft,e.unstable_wrapCallback=function(W){var oe=m;return function(){var se=m;m=oe;try{return W.apply(this,arguments)}finally{m=se}}}})(WO);(function(e){e.exports=WO})(y$);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KO=z,nr=Ew;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var HO=new Set,If={};function Na(e,t){Hu(e,t),Hu(e+"Capture",t)}function Hu(e,t){for(If[e]=t,e=0;e<t.length;e++)HO.add(t[e])}var Ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bw=Object.prototype.hasOwnProperty,_$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,DN={},LN={};function w$(e){return bw.call(LN,e)?!0:bw.call(DN,e)?!1:_$.test(e)?LN[e]=!0:(DN[e]=!0,!1)}function E$(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function b$(e,t,n,r){if(t===null||typeof t>"u"||E$(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Tn(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ht[e]=new Tn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ht[t]=new Tn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ht[e]=new Tn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ht[e]=new Tn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ht[e]=new Tn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ht[e]=new Tn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ht[e]=new Tn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ht[e]=new Tn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ht[e]=new Tn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Sb=/[\-:]([a-z])/g;function Cb(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Sb,Cb);Ht[t]=new Tn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Sb,Cb);Ht[t]=new Tn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Sb,Cb);Ht[t]=new Tn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ht[e]=new Tn(e,1,!1,e.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new Tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ht[e]=new Tn(e,1,!1,e.toLowerCase(),null,!0,!0)});function kb(e,t,n,r){var i=Ht.hasOwnProperty(t)?Ht[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(b$(t,n,i,r)&&(n=null),r||i===null?w$(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var eo=KO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xd=Symbol.for("react.element"),bu=Symbol.for("react.portal"),Iu=Symbol.for("react.fragment"),Nb=Symbol.for("react.strict_mode"),Iw=Symbol.for("react.profiler"),GO=Symbol.for("react.provider"),QO=Symbol.for("react.context"),Ab=Symbol.for("react.forward_ref"),Tw=Symbol.for("react.suspense"),Sw=Symbol.for("react.suspense_list"),Rb=Symbol.for("react.memo"),wo=Symbol.for("react.lazy"),YO=Symbol.for("react.offscreen"),MN=Symbol.iterator;function xc(e){return e===null||typeof e!="object"?null:(e=MN&&e[MN]||e["@@iterator"],typeof e=="function"?e:null)}var tt=Object.assign,a_;function Gc(e){if(a_===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);a_=t&&t[1]||""}return`
`+a_+e}var u_=!1;function l_(e,t){if(!e||u_)return"";u_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{u_=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Gc(e):""}function I$(e){switch(e.tag){case 5:return Gc(e.type);case 16:return Gc("Lazy");case 13:return Gc("Suspense");case 19:return Gc("SuspenseList");case 0:case 2:case 15:return e=l_(e.type,!1),e;case 11:return e=l_(e.type.render,!1),e;case 1:return e=l_(e.type,!0),e;default:return""}}function Cw(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Iu:return"Fragment";case bu:return"Portal";case Iw:return"Profiler";case Nb:return"StrictMode";case Tw:return"Suspense";case Sw:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case QO:return(e.displayName||"Context")+".Consumer";case GO:return(e._context.displayName||"Context")+".Provider";case Ab:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Rb:return t=e.displayName||null,t!==null?t:Cw(e.type)||"Memo";case wo:t=e._payload,e=e._init;try{return Cw(e(t))}catch{}}return null}function T$(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cw(t);case 8:return t===Nb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Go(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function XO(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function S$(e){var t=XO(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jd(e){e._valueTracker||(e._valueTracker=S$(e))}function JO(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=XO(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Gp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function kw(e,t){var n=t.checked;return tt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function FN(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Go(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ZO(e,t){t=t.checked,t!=null&&kb(e,"checked",t,!1)}function Nw(e,t){ZO(e,t);var n=Go(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Aw(e,t.type,n):t.hasOwnProperty("defaultValue")&&Aw(e,t.type,Go(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function UN(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Aw(e,t,n){(t!=="number"||Gp(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Qc=Array.isArray;function Mu(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Go(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Rw(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return tt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jN(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(Qc(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Go(n)}}function ex(e,t){var n=Go(t.value),r=Go(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function VN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pw(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zd,nx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Zd=Zd||document.createElement("div"),Zd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Zd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Tf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ef={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},C$=["Webkit","ms","Moz","O"];Object.keys(ef).forEach(function(e){C$.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ef[t]=ef[e]})});function rx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ef.hasOwnProperty(e)&&ef[e]?(""+t).trim():t+"px"}function ix(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=rx(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var k$=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ow(e,t){if(t){if(k$[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function xw(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dw=null;function Pb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Lw=null,Fu=null,Uu=null;function BN(e){if(e=gh(e)){if(typeof Lw!="function")throw Error(V(280));var t=e.stateNode;t&&(t=mg(t),Lw(e.stateNode,e.type,t))}}function ox(e){Fu?Uu?Uu.push(e):Uu=[e]:Fu=e}function sx(){if(Fu){var e=Fu,t=Uu;if(Uu=Fu=null,BN(e),t)for(e=0;e<t.length;e++)BN(t[e])}}function ax(e,t){return e(t)}function ux(){}var c_=!1;function lx(e,t,n){if(c_)return e(t,n);c_=!0;try{return ax(e,t,n)}finally{c_=!1,(Fu!==null||Uu!==null)&&(ux(),sx())}}function Sf(e,t){var n=e.stateNode;if(n===null)return null;var r=mg(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var Mw=!1;if(Ki)try{var Dc={};Object.defineProperty(Dc,"passive",{get:function(){Mw=!0}}),window.addEventListener("test",Dc,Dc),window.removeEventListener("test",Dc,Dc)}catch{Mw=!1}function N$(e,t,n,r,i,s,a,l,c){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(p){this.onError(p)}}var tf=!1,Qp=null,Yp=!1,Fw=null,A$={onError:function(e){tf=!0,Qp=e}};function R$(e,t,n,r,i,s,a,l,c){tf=!1,Qp=null,N$.apply(A$,arguments)}function P$(e,t,n,r,i,s,a,l,c){if(R$.apply(this,arguments),tf){if(tf){var h=Qp;tf=!1,Qp=null}else throw Error(V(198));Yp||(Yp=!0,Fw=h)}}function Aa(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function cx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $N(e){if(Aa(e)!==e)throw Error(V(188))}function O$(e){var t=e.alternate;if(!t){if(t=Aa(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return $N(i),e;if(s===r)return $N(i),t;s=s.sibling}throw Error(V(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function fx(e){return e=O$(e),e!==null?hx(e):null}function hx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hx(e);if(t!==null)return t;e=e.sibling}return null}var dx=nr.unstable_scheduleCallback,qN=nr.unstable_cancelCallback,x$=nr.unstable_shouldYield,D$=nr.unstable_requestPaint,lt=nr.unstable_now,L$=nr.unstable_getCurrentPriorityLevel,Ob=nr.unstable_ImmediatePriority,px=nr.unstable_UserBlockingPriority,Xp=nr.unstable_NormalPriority,M$=nr.unstable_LowPriority,vx=nr.unstable_IdlePriority,dg=null,pi=null;function F$(e){if(pi&&typeof pi.onCommitFiberRoot=="function")try{pi.onCommitFiberRoot(dg,e,void 0,(e.current.flags&128)===128)}catch{}}var Gr=Math.clz32?Math.clz32:V$,U$=Math.log,j$=Math.LN2;function V$(e){return e>>>=0,e===0?32:31-(U$(e)/j$|0)|0}var ep=64,tp=4194304;function Yc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jp(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=Yc(l):(s&=a,s!==0&&(r=Yc(s)))}else a=n&~i,a!==0?r=Yc(a):s!==0&&(r=Yc(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Gr(t),i=1<<n,r|=e[n],t&=~i;return r}function B$(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $$(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Gr(s),l=1<<a,c=i[a];c===-1?(!(l&n)||l&r)&&(i[a]=B$(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function Uw(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gx(){var e=ep;return ep<<=1,!(ep&4194240)&&(ep=64),e}function f_(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ph(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Gr(t),e[t]=n}function q$(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Gr(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function xb(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Gr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var xe=0;function mx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yx,Db,_x,wx,Ex,jw=!1,np=[],Do=null,Lo=null,Mo=null,Cf=new Map,kf=new Map,Io=[],z$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zN(e,t){switch(e){case"focusin":case"focusout":Do=null;break;case"dragenter":case"dragleave":Lo=null;break;case"mouseover":case"mouseout":Mo=null;break;case"pointerover":case"pointerout":Cf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kf.delete(t.pointerId)}}function Lc(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=gh(t),t!==null&&Db(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function W$(e,t,n,r,i){switch(t){case"focusin":return Do=Lc(Do,e,t,n,r,i),!0;case"dragenter":return Lo=Lc(Lo,e,t,n,r,i),!0;case"mouseover":return Mo=Lc(Mo,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Cf.set(s,Lc(Cf.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,kf.set(s,Lc(kf.get(s)||null,e,t,n,r,i)),!0}return!1}function bx(e){var t=Hs(e.target);if(t!==null){var n=Aa(t);if(n!==null){if(t=n.tag,t===13){if(t=cx(n),t!==null){e.blockedOn=t,Ex(e.priority,function(){_x(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vw(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Dw=r,n.target.dispatchEvent(r),Dw=null}else return t=gh(n),t!==null&&Db(t),e.blockedOn=n,!1;t.shift()}return!0}function WN(e,t,n){Rp(e)&&n.delete(t)}function K$(){jw=!1,Do!==null&&Rp(Do)&&(Do=null),Lo!==null&&Rp(Lo)&&(Lo=null),Mo!==null&&Rp(Mo)&&(Mo=null),Cf.forEach(WN),kf.forEach(WN)}function Mc(e,t){e.blockedOn===t&&(e.blockedOn=null,jw||(jw=!0,nr.unstable_scheduleCallback(nr.unstable_NormalPriority,K$)))}function Nf(e){function t(i){return Mc(i,e)}if(0<np.length){Mc(np[0],e);for(var n=1;n<np.length;n++){var r=np[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Do!==null&&Mc(Do,e),Lo!==null&&Mc(Lo,e),Mo!==null&&Mc(Mo,e),Cf.forEach(t),kf.forEach(t),n=0;n<Io.length;n++)r=Io[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Io.length&&(n=Io[0],n.blockedOn===null);)bx(n),n.blockedOn===null&&Io.shift()}var ju=eo.ReactCurrentBatchConfig,Zp=!0;function H$(e,t,n,r){var i=xe,s=ju.transition;ju.transition=null;try{xe=1,Lb(e,t,n,r)}finally{xe=i,ju.transition=s}}function G$(e,t,n,r){var i=xe,s=ju.transition;ju.transition=null;try{xe=4,Lb(e,t,n,r)}finally{xe=i,ju.transition=s}}function Lb(e,t,n,r){if(Zp){var i=Vw(e,t,n,r);if(i===null)E_(e,t,r,ev,n),zN(e,r);else if(W$(i,e,t,n,r))r.stopPropagation();else if(zN(e,r),t&4&&-1<z$.indexOf(e)){for(;i!==null;){var s=gh(i);if(s!==null&&yx(s),s=Vw(e,t,n,r),s===null&&E_(e,t,r,ev,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else E_(e,t,r,null,n)}}var ev=null;function Vw(e,t,n,r){if(ev=null,e=Pb(r),e=Hs(e),e!==null)if(t=Aa(e),t===null)e=null;else if(n=t.tag,n===13){if(e=cx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ev=e,null}function Ix(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(L$()){case Ob:return 1;case px:return 4;case Xp:case M$:return 16;case vx:return 536870912;default:return 16}default:return 16}}var Ao=null,Mb=null,Pp=null;function Tx(){if(Pp)return Pp;var e,t=Mb,n=t.length,r,i="value"in Ao?Ao.value:Ao.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return Pp=i.slice(e,1<r?1-r:void 0)}function Op(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rp(){return!0}function KN(){return!1}function ur(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?rp:KN,this.isPropagationStopped=KN,this}return tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rp)},persist:function(){},isPersistent:rp}),t}var Sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fb=ur(Sl),vh=tt({},Sl,{view:0,detail:0}),Q$=ur(vh),h_,d_,Fc,pg=tt({},vh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ub,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fc&&(Fc&&e.type==="mousemove"?(h_=e.screenX-Fc.screenX,d_=e.screenY-Fc.screenY):d_=h_=0,Fc=e),h_)},movementY:function(e){return"movementY"in e?e.movementY:d_}}),HN=ur(pg),Y$=tt({},pg,{dataTransfer:0}),X$=ur(Y$),J$=tt({},vh,{relatedTarget:0}),p_=ur(J$),Z$=tt({},Sl,{animationName:0,elapsedTime:0,pseudoElement:0}),eq=ur(Z$),tq=tt({},Sl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nq=ur(tq),rq=tt({},Sl,{data:0}),GN=ur(rq),iq={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oq={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aq(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sq[e])?!!t[e]:!1}function Ub(){return aq}var uq=tt({},vh,{key:function(e){if(e.key){var t=iq[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Op(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?oq[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ub,charCode:function(e){return e.type==="keypress"?Op(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Op(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lq=ur(uq),cq=tt({},pg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),QN=ur(cq),fq=tt({},vh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ub}),hq=ur(fq),dq=tt({},Sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),pq=ur(dq),vq=tt({},pg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gq=ur(vq),mq=[9,13,27,32],jb=Ki&&"CompositionEvent"in window,nf=null;Ki&&"documentMode"in document&&(nf=document.documentMode);var yq=Ki&&"TextEvent"in window&&!nf,Sx=Ki&&(!jb||nf&&8<nf&&11>=nf),YN=String.fromCharCode(32),XN=!1;function Cx(e,t){switch(e){case"keyup":return mq.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Tu=!1;function _q(e,t){switch(e){case"compositionend":return kx(t);case"keypress":return t.which!==32?null:(XN=!0,YN);case"textInput":return e=t.data,e===YN&&XN?null:e;default:return null}}function wq(e,t){if(Tu)return e==="compositionend"||!jb&&Cx(e,t)?(e=Tx(),Pp=Mb=Ao=null,Tu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sx&&t.locale!=="ko"?null:t.data;default:return null}}var Eq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function JN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Eq[e.type]:t==="textarea"}function Nx(e,t,n,r){ox(r),t=tv(t,"onChange"),0<t.length&&(n=new Fb("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var rf=null,Af=null;function bq(e){jx(e,0)}function vg(e){var t=ku(e);if(JO(t))return e}function Iq(e,t){if(e==="change")return t}var Ax=!1;if(Ki){var v_;if(Ki){var g_="oninput"in document;if(!g_){var ZN=document.createElement("div");ZN.setAttribute("oninput","return;"),g_=typeof ZN.oninput=="function"}v_=g_}else v_=!1;Ax=v_&&(!document.documentMode||9<document.documentMode)}function eA(){rf&&(rf.detachEvent("onpropertychange",Rx),Af=rf=null)}function Rx(e){if(e.propertyName==="value"&&vg(Af)){var t=[];Nx(t,Af,e,Pb(e)),lx(bq,t)}}function Tq(e,t,n){e==="focusin"?(eA(),rf=t,Af=n,rf.attachEvent("onpropertychange",Rx)):e==="focusout"&&eA()}function Sq(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vg(Af)}function Cq(e,t){if(e==="click")return vg(t)}function kq(e,t){if(e==="input"||e==="change")return vg(t)}function Nq(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jr=typeof Object.is=="function"?Object.is:Nq;function Rf(e,t){if(Jr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!bw.call(t,i)||!Jr(e[i],t[i]))return!1}return!0}function tA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nA(e,t){var n=tA(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tA(n)}}function Px(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Px(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ox(){for(var e=window,t=Gp();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Gp(e.document)}return t}function Vb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Aq(e){var t=Ox(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Px(n.ownerDocument.documentElement,n)){if(r!==null&&Vb(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=nA(n,s);var a=nA(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Rq=Ki&&"documentMode"in document&&11>=document.documentMode,Su=null,Bw=null,of=null,$w=!1;function rA(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$w||Su==null||Su!==Gp(r)||(r=Su,"selectionStart"in r&&Vb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),of&&Rf(of,r)||(of=r,r=tv(Bw,"onSelect"),0<r.length&&(t=new Fb("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Su)))}function ip(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cu={animationend:ip("Animation","AnimationEnd"),animationiteration:ip("Animation","AnimationIteration"),animationstart:ip("Animation","AnimationStart"),transitionend:ip("Transition","TransitionEnd")},m_={},xx={};Ki&&(xx=document.createElement("div").style,"AnimationEvent"in window||(delete Cu.animationend.animation,delete Cu.animationiteration.animation,delete Cu.animationstart.animation),"TransitionEvent"in window||delete Cu.transitionend.transition);function gg(e){if(m_[e])return m_[e];if(!Cu[e])return e;var t=Cu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in xx)return m_[e]=t[n];return e}var Dx=gg("animationend"),Lx=gg("animationiteration"),Mx=gg("animationstart"),Fx=gg("transitionend"),Ux=new Map,iA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function is(e,t){Ux.set(e,t),Na(t,[e])}for(var y_=0;y_<iA.length;y_++){var __=iA[y_],Pq=__.toLowerCase(),Oq=__[0].toUpperCase()+__.slice(1);is(Pq,"on"+Oq)}is(Dx,"onAnimationEnd");is(Lx,"onAnimationIteration");is(Mx,"onAnimationStart");is("dblclick","onDoubleClick");is("focusin","onFocus");is("focusout","onBlur");is(Fx,"onTransitionEnd");Hu("onMouseEnter",["mouseout","mouseover"]);Hu("onMouseLeave",["mouseout","mouseover"]);Hu("onPointerEnter",["pointerout","pointerover"]);Hu("onPointerLeave",["pointerout","pointerover"]);Na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Na("onBeforeInput",["compositionend","keypress","textInput","paste"]);Na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xq=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xc));function oA(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,P$(r,t,void 0,e),e.currentTarget=null}function jx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;oA(i,l,h),s=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,h=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;oA(i,l,h),s=c}}}if(Yp)throw e=Fw,Yp=!1,Fw=null,e}function Be(e,t){var n=t[Hw];n===void 0&&(n=t[Hw]=new Set);var r=e+"__bubble";n.has(r)||(Vx(t,e,2,!1),n.add(r))}function w_(e,t,n){var r=0;t&&(r|=4),Vx(n,e,r,t)}var op="_reactListening"+Math.random().toString(36).slice(2);function Pf(e){if(!e[op]){e[op]=!0,HO.forEach(function(n){n!=="selectionchange"&&(xq.has(n)||w_(n,!1,e),w_(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[op]||(t[op]=!0,w_("selectionchange",!1,t))}}function Vx(e,t,n,r){switch(Ix(t)){case 1:var i=H$;break;case 4:i=G$;break;default:i=Lb}n=i.bind(null,t,n,e),i=void 0,!Mw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function E_(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Hs(l),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}l=l.parentNode}}r=r.return}lx(function(){var h=s,p=Pb(n),v=[];e:{var m=Ux.get(e);if(m!==void 0){var y=Fb,w=e;switch(e){case"keypress":if(Op(n)===0)break e;case"keydown":case"keyup":y=lq;break;case"focusin":w="focus",y=p_;break;case"focusout":w="blur",y=p_;break;case"beforeblur":case"afterblur":y=p_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=HN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=X$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=hq;break;case Dx:case Lx:case Mx:y=eq;break;case Fx:y=pq;break;case"scroll":y=Q$;break;case"wheel":y=gq;break;case"copy":case"cut":case"paste":y=nq;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=QN}var b=(t&4)!==0,S=!b&&e==="scroll",I=b?m!==null?m+"Capture":null:m;b=[];for(var T=h,C;T!==null;){C=T;var P=C.stateNode;if(C.tag===5&&P!==null&&(C=P,I!==null&&(P=Sf(T,I),P!=null&&b.push(Of(T,P,C)))),S)break;T=T.return}0<b.length&&(m=new y(m,w,null,n,p),v.push({event:m,listeners:b}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&n!==Dw&&(w=n.relatedTarget||n.fromElement)&&(Hs(w)||w[Hi]))break e;if((y||m)&&(m=p.window===p?p:(m=p.ownerDocument)?m.defaultView||m.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=h,w=w?Hs(w):null,w!==null&&(S=Aa(w),w!==S||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=h),y!==w)){if(b=HN,P="onMouseLeave",I="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(b=QN,P="onPointerLeave",I="onPointerEnter",T="pointer"),S=y==null?m:ku(y),C=w==null?m:ku(w),m=new b(P,T+"leave",y,n,p),m.target=S,m.relatedTarget=C,P=null,Hs(p)===h&&(b=new b(I,T+"enter",w,n,p),b.target=C,b.relatedTarget=S,P=b),S=P,y&&w)t:{for(b=y,I=w,T=0,C=b;C;C=pu(C))T++;for(C=0,P=I;P;P=pu(P))C++;for(;0<T-C;)b=pu(b),T--;for(;0<C-T;)I=pu(I),C--;for(;T--;){if(b===I||I!==null&&b===I.alternate)break t;b=pu(b),I=pu(I)}b=null}else b=null;y!==null&&sA(v,m,y,b,!1),w!==null&&S!==null&&sA(v,S,w,b,!0)}}e:{if(m=h?ku(h):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var D=Iq;else if(JN(m))if(Ax)D=kq;else{D=Sq;var O=Tq}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(D=Cq);if(D&&(D=D(e,h))){Nx(v,D,n,p);break e}O&&O(e,m,h),e==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&Aw(m,"number",m.value)}switch(O=h?ku(h):window,e){case"focusin":(JN(O)||O.contentEditable==="true")&&(Su=O,Bw=h,of=null);break;case"focusout":of=Bw=Su=null;break;case"mousedown":$w=!0;break;case"contextmenu":case"mouseup":case"dragend":$w=!1,rA(v,n,p);break;case"selectionchange":if(Rq)break;case"keydown":case"keyup":rA(v,n,p)}var B;if(jb)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Tu?Cx(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(Sx&&n.locale!=="ko"&&(Tu||M!=="onCompositionStart"?M==="onCompositionEnd"&&Tu&&(B=Tx()):(Ao=p,Mb="value"in Ao?Ao.value:Ao.textContent,Tu=!0)),O=tv(h,M),0<O.length&&(M=new GN(M,e,null,n,p),v.push({event:M,listeners:O}),B?M.data=B:(B=kx(n),B!==null&&(M.data=B)))),(B=yq?_q(e,n):wq(e,n))&&(h=tv(h,"onBeforeInput"),0<h.length&&(p=new GN("onBeforeInput","beforeinput",null,n,p),v.push({event:p,listeners:h}),p.data=B))}jx(v,t)})}function Of(e,t,n){return{instance:e,listener:t,currentTarget:n}}function tv(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Sf(e,n),s!=null&&r.unshift(Of(e,s,i)),s=Sf(e,t),s!=null&&r.push(Of(e,s,i))),e=e.return}return r}function pu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sA(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,h=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&h!==null&&(l=h,i?(c=Sf(n,s),c!=null&&a.unshift(Of(n,c,l))):i||(c=Sf(n,s),c!=null&&a.push(Of(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Dq=/\r\n?/g,Lq=/\u0000|\uFFFD/g;function aA(e){return(typeof e=="string"?e:""+e).replace(Dq,`
`).replace(Lq,"")}function sp(e,t,n){if(t=aA(t),aA(e)!==t&&n)throw Error(V(425))}function nv(){}var qw=null,zw=null;function Ww(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kw=typeof setTimeout=="function"?setTimeout:void 0,Mq=typeof clearTimeout=="function"?clearTimeout:void 0,uA=typeof Promise=="function"?Promise:void 0,Fq=typeof queueMicrotask=="function"?queueMicrotask:typeof uA<"u"?function(e){return uA.resolve(null).then(e).catch(Uq)}:Kw;function Uq(e){setTimeout(function(){throw e})}function b_(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Nf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Nf(t)}function Fo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function lA(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Cl=Math.random().toString(36).slice(2),hi="__reactFiber$"+Cl,xf="__reactProps$"+Cl,Hi="__reactContainer$"+Cl,Hw="__reactEvents$"+Cl,jq="__reactListeners$"+Cl,Vq="__reactHandles$"+Cl;function Hs(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Hi]||n[hi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=lA(e);e!==null;){if(n=e[hi])return n;e=lA(e)}return t}e=n,n=e.parentNode}return null}function gh(e){return e=e[hi]||e[Hi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ku(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function mg(e){return e[xf]||null}var Gw=[],Nu=-1;function os(e){return{current:e}}function qe(e){0>Nu||(e.current=Gw[Nu],Gw[Nu]=null,Nu--)}function Ue(e,t){Nu++,Gw[Nu]=e.current,e.current=t}var Qo={},an=os(Qo),Mn=os(!1),fa=Qo;function Gu(e,t){var n=e.type.contextTypes;if(!n)return Qo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Fn(e){return e=e.childContextTypes,e!=null}function rv(){qe(Mn),qe(an)}function cA(e,t,n){if(an.current!==Qo)throw Error(V(168));Ue(an,t),Ue(Mn,n)}function Bx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(V(108,T$(e)||"Unknown",i));return tt({},n,r)}function iv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qo,fa=an.current,Ue(an,e),Ue(Mn,Mn.current),!0}function fA(e,t,n){var r=e.stateNode;if(!r)throw Error(V(169));n?(e=Bx(e,t,fa),r.__reactInternalMemoizedMergedChildContext=e,qe(Mn),qe(an),Ue(an,e)):qe(Mn),Ue(Mn,n)}var Fi=null,yg=!1,I_=!1;function $x(e){Fi===null?Fi=[e]:Fi.push(e)}function Bq(e){yg=!0,$x(e)}function ss(){if(!I_&&Fi!==null){I_=!0;var e=0,t=xe;try{var n=Fi;for(xe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Fi=null,yg=!1}catch(i){throw Fi!==null&&(Fi=Fi.slice(e+1)),dx(Ob,ss),i}finally{xe=t,I_=!1}}return null}var Au=[],Ru=0,ov=null,sv=0,dr=[],pr=0,ha=null,Ui=1,ji="";function Vs(e,t){Au[Ru++]=sv,Au[Ru++]=ov,ov=e,sv=t}function qx(e,t,n){dr[pr++]=Ui,dr[pr++]=ji,dr[pr++]=ha,ha=e;var r=Ui;e=ji;var i=32-Gr(r)-1;r&=~(1<<i),n+=1;var s=32-Gr(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ui=1<<32-Gr(t)+i|n<<i|r,ji=s+e}else Ui=1<<s|n<<i|r,ji=e}function Bb(e){e.return!==null&&(Vs(e,1),qx(e,1,0))}function $b(e){for(;e===ov;)ov=Au[--Ru],Au[Ru]=null,sv=Au[--Ru],Au[Ru]=null;for(;e===ha;)ha=dr[--pr],dr[pr]=null,ji=dr[--pr],dr[pr]=null,Ui=dr[--pr],dr[pr]=null}var tr=null,Jn=null,Ke=!1,Kr=null;function zx(e,t){var n=vr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function hA(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tr=e,Jn=Fo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tr=e,Jn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ha!==null?{id:Ui,overflow:ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=vr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,tr=e,Jn=null,!0):!1;default:return!1}}function Qw(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Yw(e){if(Ke){var t=Jn;if(t){var n=t;if(!hA(e,t)){if(Qw(e))throw Error(V(418));t=Fo(n.nextSibling);var r=tr;t&&hA(e,t)?zx(r,n):(e.flags=e.flags&-4097|2,Ke=!1,tr=e)}}else{if(Qw(e))throw Error(V(418));e.flags=e.flags&-4097|2,Ke=!1,tr=e}}}function dA(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tr=e}function ap(e){if(e!==tr)return!1;if(!Ke)return dA(e),Ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ww(e.type,e.memoizedProps)),t&&(t=Jn)){if(Qw(e))throw Wx(),Error(V(418));for(;t;)zx(e,t),t=Fo(t.nextSibling)}if(dA(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Jn=Fo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Jn=null}}else Jn=tr?Fo(e.stateNode.nextSibling):null;return!0}function Wx(){for(var e=Jn;e;)e=Fo(e.nextSibling)}function Qu(){Jn=tr=null,Ke=!1}function qb(e){Kr===null?Kr=[e]:Kr.push(e)}var $q=eo.ReactCurrentBatchConfig;function qr(e,t){if(e&&e.defaultProps){t=tt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var av=os(null),uv=null,Pu=null,zb=null;function Wb(){zb=Pu=uv=null}function Kb(e){var t=av.current;qe(av),e._currentValue=t}function Xw(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Vu(e,t){uv=e,zb=Pu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Dn=!0),e.firstContext=null)}function Tr(e){var t=e._currentValue;if(zb!==e)if(e={context:e,memoizedValue:t,next:null},Pu===null){if(uv===null)throw Error(V(308));Pu=e,uv.dependencies={lanes:0,firstContext:e}}else Pu=Pu.next=e;return t}var Gs=null;function Hb(e){Gs===null?Gs=[e]:Gs.push(e)}function Kx(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Hb(t)):(n.next=i.next,i.next=n),t.interleaved=n,Gi(e,r)}function Gi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Eo=!1;function Gb(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $i(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Uo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Gi(e,n)}return i=r.interleaved,i===null?(t.next=t,Hb(r)):(t.next=i.next,i.next=t),r.interleaved=t,Gi(e,n)}function xp(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xb(e,n)}}function pA(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function lv(e,t,n,r){var i=e.updateQueue;Eo=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,h=c.next;c.next=null,a===null?s=h:a.next=h,a=c;var p=e.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==a&&(l===null?p.firstBaseUpdate=h:l.next=h,p.lastBaseUpdate=c))}if(s!==null){var v=i.baseState;a=0,p=h=c=null,l=s;do{var m=l.lane,y=l.eventTime;if((r&m)===m){p!==null&&(p=p.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,b=l;switch(m=t,y=n,b.tag){case 1:if(w=b.payload,typeof w=="function"){v=w.call(y,v,m);break e}v=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=b.payload,m=typeof w=="function"?w.call(y,v,m):w,m==null)break e;v=tt({},v,m);break e;case 2:Eo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(h=p=y,c=v):p=p.next=y,a|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(p===null&&(c=v),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=p,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);pa|=a,e.lanes=a,e.memoizedState=v}}function vA(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(V(191,i));i.call(r)}}}var Gx=new KO.Component().refs;function Jw(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:tt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var _g={isMounted:function(e){return(e=e._reactInternals)?Aa(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=wn(),i=Vo(e),s=$i(r,i);s.payload=t,n!=null&&(s.callback=n),t=Uo(e,s,i),t!==null&&(Qr(t,e,i,r),xp(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=wn(),i=Vo(e),s=$i(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Uo(e,s,i),t!==null&&(Qr(t,e,i,r),xp(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=wn(),r=Vo(e),i=$i(n,r);i.tag=2,t!=null&&(i.callback=t),t=Uo(e,i,r),t!==null&&(Qr(t,e,r,n),xp(t,e,r))}};function gA(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Rf(n,r)||!Rf(i,s):!0}function Qx(e,t,n){var r=!1,i=Qo,s=t.contextType;return typeof s=="object"&&s!==null?s=Tr(s):(i=Fn(t)?fa:an.current,r=t.contextTypes,s=(r=r!=null)?Gu(e,i):Qo),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_g,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function mA(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&_g.enqueueReplaceState(t,t.state,null)}function Zw(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Gx,Gb(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Tr(s):(s=Fn(t)?fa:an.current,i.context=Gu(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Jw(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&_g.enqueueReplaceState(i,i.state,null),lv(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Uc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var l=i.refs;l===Gx&&(l=i.refs={}),a===null?delete l[s]:l[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function up(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yA(e){var t=e._init;return t(e._payload)}function Yx(e){function t(I,T){if(e){var C=I.deletions;C===null?(I.deletions=[T],I.flags|=16):C.push(T)}}function n(I,T){if(!e)return null;for(;T!==null;)t(I,T),T=T.sibling;return null}function r(I,T){for(I=new Map;T!==null;)T.key!==null?I.set(T.key,T):I.set(T.index,T),T=T.sibling;return I}function i(I,T){return I=Bo(I,T),I.index=0,I.sibling=null,I}function s(I,T,C){return I.index=C,e?(C=I.alternate,C!==null?(C=C.index,C<T?(I.flags|=2,T):C):(I.flags|=2,T)):(I.flags|=1048576,T)}function a(I){return e&&I.alternate===null&&(I.flags|=2),I}function l(I,T,C,P){return T===null||T.tag!==6?(T=R_(C,I.mode,P),T.return=I,T):(T=i(T,C),T.return=I,T)}function c(I,T,C,P){var D=C.type;return D===Iu?p(I,T,C.props.children,P,C.key):T!==null&&(T.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===wo&&yA(D)===T.type)?(P=i(T,C.props),P.ref=Uc(I,T,C),P.return=I,P):(P=jp(C.type,C.key,C.props,null,I.mode,P),P.ref=Uc(I,T,C),P.return=I,P)}function h(I,T,C,P){return T===null||T.tag!==4||T.stateNode.containerInfo!==C.containerInfo||T.stateNode.implementation!==C.implementation?(T=P_(C,I.mode,P),T.return=I,T):(T=i(T,C.children||[]),T.return=I,T)}function p(I,T,C,P,D){return T===null||T.tag!==7?(T=ra(C,I.mode,P,D),T.return=I,T):(T=i(T,C),T.return=I,T)}function v(I,T,C){if(typeof T=="string"&&T!==""||typeof T=="number")return T=R_(""+T,I.mode,C),T.return=I,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Xd:return C=jp(T.type,T.key,T.props,null,I.mode,C),C.ref=Uc(I,null,T),C.return=I,C;case bu:return T=P_(T,I.mode,C),T.return=I,T;case wo:var P=T._init;return v(I,P(T._payload),C)}if(Qc(T)||xc(T))return T=ra(T,I.mode,C,null),T.return=I,T;up(I,T)}return null}function m(I,T,C,P){var D=T!==null?T.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return D!==null?null:l(I,T,""+C,P);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Xd:return C.key===D?c(I,T,C,P):null;case bu:return C.key===D?h(I,T,C,P):null;case wo:return D=C._init,m(I,T,D(C._payload),P)}if(Qc(C)||xc(C))return D!==null?null:p(I,T,C,P,null);up(I,C)}return null}function y(I,T,C,P,D){if(typeof P=="string"&&P!==""||typeof P=="number")return I=I.get(C)||null,l(T,I,""+P,D);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Xd:return I=I.get(P.key===null?C:P.key)||null,c(T,I,P,D);case bu:return I=I.get(P.key===null?C:P.key)||null,h(T,I,P,D);case wo:var O=P._init;return y(I,T,C,O(P._payload),D)}if(Qc(P)||xc(P))return I=I.get(C)||null,p(T,I,P,D,null);up(T,P)}return null}function w(I,T,C,P){for(var D=null,O=null,B=T,M=T=0,ae=null;B!==null&&M<C.length;M++){B.index>M?(ae=B,B=null):ae=B.sibling;var A=m(I,B,C[M],P);if(A===null){B===null&&(B=ae);break}e&&B&&A.alternate===null&&t(I,B),T=s(A,T,M),O===null?D=A:O.sibling=A,O=A,B=ae}if(M===C.length)return n(I,B),Ke&&Vs(I,M),D;if(B===null){for(;M<C.length;M++)B=v(I,C[M],P),B!==null&&(T=s(B,T,M),O===null?D=B:O.sibling=B,O=B);return Ke&&Vs(I,M),D}for(B=r(I,B);M<C.length;M++)ae=y(B,I,M,C[M],P),ae!==null&&(e&&ae.alternate!==null&&B.delete(ae.key===null?M:ae.key),T=s(ae,T,M),O===null?D=ae:O.sibling=ae,O=ae);return e&&B.forEach(function(Ft){return t(I,Ft)}),Ke&&Vs(I,M),D}function b(I,T,C,P){var D=xc(C);if(typeof D!="function")throw Error(V(150));if(C=D.call(C),C==null)throw Error(V(151));for(var O=D=null,B=T,M=T=0,ae=null,A=C.next();B!==null&&!A.done;M++,A=C.next()){B.index>M?(ae=B,B=null):ae=B.sibling;var Ft=m(I,B,A.value,P);if(Ft===null){B===null&&(B=ae);break}e&&B&&Ft.alternate===null&&t(I,B),T=s(Ft,T,M),O===null?D=Ft:O.sibling=Ft,O=Ft,B=ae}if(A.done)return n(I,B),Ke&&Vs(I,M),D;if(B===null){for(;!A.done;M++,A=C.next())A=v(I,A.value,P),A!==null&&(T=s(A,T,M),O===null?D=A:O.sibling=A,O=A);return Ke&&Vs(I,M),D}for(B=r(I,B);!A.done;M++,A=C.next())A=y(B,I,M,A.value,P),A!==null&&(e&&A.alternate!==null&&B.delete(A.key===null?M:A.key),T=s(A,T,M),O===null?D=A:O.sibling=A,O=A);return e&&B.forEach(function(Rr){return t(I,Rr)}),Ke&&Vs(I,M),D}function S(I,T,C,P){if(typeof C=="object"&&C!==null&&C.type===Iu&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Xd:e:{for(var D=C.key,O=T;O!==null;){if(O.key===D){if(D=C.type,D===Iu){if(O.tag===7){n(I,O.sibling),T=i(O,C.props.children),T.return=I,I=T;break e}}else if(O.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===wo&&yA(D)===O.type){n(I,O.sibling),T=i(O,C.props),T.ref=Uc(I,O,C),T.return=I,I=T;break e}n(I,O);break}else t(I,O);O=O.sibling}C.type===Iu?(T=ra(C.props.children,I.mode,P,C.key),T.return=I,I=T):(P=jp(C.type,C.key,C.props,null,I.mode,P),P.ref=Uc(I,T,C),P.return=I,I=P)}return a(I);case bu:e:{for(O=C.key;T!==null;){if(T.key===O)if(T.tag===4&&T.stateNode.containerInfo===C.containerInfo&&T.stateNode.implementation===C.implementation){n(I,T.sibling),T=i(T,C.children||[]),T.return=I,I=T;break e}else{n(I,T);break}else t(I,T);T=T.sibling}T=P_(C,I.mode,P),T.return=I,I=T}return a(I);case wo:return O=C._init,S(I,T,O(C._payload),P)}if(Qc(C))return w(I,T,C,P);if(xc(C))return b(I,T,C,P);up(I,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,T!==null&&T.tag===6?(n(I,T.sibling),T=i(T,C),T.return=I,I=T):(n(I,T),T=R_(C,I.mode,P),T.return=I,I=T),a(I)):n(I,T)}return S}var Yu=Yx(!0),Xx=Yx(!1),mh={},vi=os(mh),Df=os(mh),Lf=os(mh);function Qs(e){if(e===mh)throw Error(V(174));return e}function Qb(e,t){switch(Ue(Lf,t),Ue(Df,e),Ue(vi,mh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pw(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Pw(t,e)}qe(vi),Ue(vi,t)}function Xu(){qe(vi),qe(Df),qe(Lf)}function Jx(e){Qs(Lf.current);var t=Qs(vi.current),n=Pw(t,e.type);t!==n&&(Ue(Df,e),Ue(vi,n))}function Yb(e){Df.current===e&&(qe(vi),qe(Df))}var Xe=os(0);function cv(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var T_=[];function Xb(){for(var e=0;e<T_.length;e++)T_[e]._workInProgressVersionPrimary=null;T_.length=0}var Dp=eo.ReactCurrentDispatcher,S_=eo.ReactCurrentBatchConfig,da=0,et=null,Et=null,Rt=null,fv=!1,sf=!1,Mf=0,qq=0;function Qt(){throw Error(V(321))}function Jb(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jr(e[n],t[n]))return!1;return!0}function Zb(e,t,n,r,i,s){if(da=s,et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Dp.current=e===null||e.memoizedState===null?Hq:Gq,e=n(r,i),sf){s=0;do{if(sf=!1,Mf=0,25<=s)throw Error(V(301));s+=1,Rt=Et=null,t.updateQueue=null,Dp.current=Qq,e=n(r,i)}while(sf)}if(Dp.current=hv,t=Et!==null&&Et.next!==null,da=0,Rt=Et=et=null,fv=!1,t)throw Error(V(300));return e}function eI(){var e=Mf!==0;return Mf=0,e}function ci(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?et.memoizedState=Rt=e:Rt=Rt.next=e,Rt}function Sr(){if(Et===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=Et.next;var t=Rt===null?et.memoizedState:Rt.next;if(t!==null)Rt=t,Et=e;else{if(e===null)throw Error(V(310));Et=e,e={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Rt===null?et.memoizedState=Rt=e:Rt=Rt.next=e}return Rt}function Ff(e,t){return typeof t=="function"?t(e):t}function C_(e){var t=Sr(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=Et,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,c=null,h=s;do{var p=h.lane;if((da&p)===p)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var v={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=v,a=r):c=c.next=v,et.lanes|=p,pa|=p}h=h.next}while(h!==null&&h!==s);c===null?a=r:c.next=l,Jr(r,t.memoizedState)||(Dn=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,et.lanes|=s,pa|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function k_(e){var t=Sr(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);Jr(s,t.memoizedState)||(Dn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Zx(){}function eD(e,t){var n=et,r=Sr(),i=t(),s=!Jr(r.memoizedState,i);if(s&&(r.memoizedState=i,Dn=!0),r=r.queue,tI(rD.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Rt!==null&&Rt.memoizedState.tag&1){if(n.flags|=2048,Uf(9,nD.bind(null,n,r,i,t),void 0,null),Lt===null)throw Error(V(349));da&30||tD(n,t,i)}return i}function tD(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function nD(e,t,n,r){t.value=n,t.getSnapshot=r,iD(t)&&oD(e)}function rD(e,t,n){return n(function(){iD(t)&&oD(e)})}function iD(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jr(e,n)}catch{return!0}}function oD(e){var t=Gi(e,1);t!==null&&Qr(t,e,1,-1)}function _A(e){var t=ci();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ff,lastRenderedState:e},t.queue=e,e=e.dispatch=Kq.bind(null,et,e),[t.memoizedState,e]}function Uf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function sD(){return Sr().memoizedState}function Lp(e,t,n,r){var i=ci();et.flags|=e,i.memoizedState=Uf(1|t,n,void 0,r===void 0?null:r)}function wg(e,t,n,r){var i=Sr();r=r===void 0?null:r;var s=void 0;if(Et!==null){var a=Et.memoizedState;if(s=a.destroy,r!==null&&Jb(r,a.deps)){i.memoizedState=Uf(t,n,s,r);return}}et.flags|=e,i.memoizedState=Uf(1|t,n,s,r)}function wA(e,t){return Lp(8390656,8,e,t)}function tI(e,t){return wg(2048,8,e,t)}function aD(e,t){return wg(4,2,e,t)}function uD(e,t){return wg(4,4,e,t)}function lD(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cD(e,t,n){return n=n!=null?n.concat([e]):null,wg(4,4,lD.bind(null,t,e),n)}function nI(){}function fD(e,t){var n=Sr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Jb(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function hD(e,t){var n=Sr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Jb(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function dD(e,t,n){return da&21?(Jr(n,t)||(n=gx(),et.lanes|=n,pa|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Dn=!0),e.memoizedState=n)}function zq(e,t){var n=xe;xe=n!==0&&4>n?n:4,e(!0);var r=S_.transition;S_.transition={};try{e(!1),t()}finally{xe=n,S_.transition=r}}function pD(){return Sr().memoizedState}function Wq(e,t,n){var r=Vo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vD(e))gD(t,n);else if(n=Kx(e,t,n,r),n!==null){var i=wn();Qr(n,e,r,i),mD(n,t,r)}}function Kq(e,t,n){var r=Vo(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vD(e))gD(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,Jr(l,a)){var c=t.interleaved;c===null?(i.next=i,Hb(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=Kx(e,t,i,r),n!==null&&(i=wn(),Qr(n,e,r,i),mD(n,t,r))}}function vD(e){var t=e.alternate;return e===et||t!==null&&t===et}function gD(e,t){sf=fv=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function mD(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xb(e,n)}}var hv={readContext:Tr,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},Hq={readContext:Tr,useCallback:function(e,t){return ci().memoizedState=[e,t===void 0?null:t],e},useContext:Tr,useEffect:wA,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Lp(4194308,4,lD.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Lp(4194308,4,e,t)},useInsertionEffect:function(e,t){return Lp(4,2,e,t)},useMemo:function(e,t){var n=ci();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ci();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wq.bind(null,et,e),[r.memoizedState,e]},useRef:function(e){var t=ci();return e={current:e},t.memoizedState=e},useState:_A,useDebugValue:nI,useDeferredValue:function(e){return ci().memoizedState=e},useTransition:function(){var e=_A(!1),t=e[0];return e=zq.bind(null,e[1]),ci().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=et,i=ci();if(Ke){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),Lt===null)throw Error(V(349));da&30||tD(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,wA(rD.bind(null,r,s,e),[e]),r.flags|=2048,Uf(9,nD.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ci(),t=Lt.identifierPrefix;if(Ke){var n=ji,r=Ui;n=(r&~(1<<32-Gr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Mf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=qq++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Gq={readContext:Tr,useCallback:fD,useContext:Tr,useEffect:tI,useImperativeHandle:cD,useInsertionEffect:aD,useLayoutEffect:uD,useMemo:hD,useReducer:C_,useRef:sD,useState:function(){return C_(Ff)},useDebugValue:nI,useDeferredValue:function(e){var t=Sr();return dD(t,Et.memoizedState,e)},useTransition:function(){var e=C_(Ff)[0],t=Sr().memoizedState;return[e,t]},useMutableSource:Zx,useSyncExternalStore:eD,useId:pD,unstable_isNewReconciler:!1},Qq={readContext:Tr,useCallback:fD,useContext:Tr,useEffect:tI,useImperativeHandle:cD,useInsertionEffect:aD,useLayoutEffect:uD,useMemo:hD,useReducer:k_,useRef:sD,useState:function(){return k_(Ff)},useDebugValue:nI,useDeferredValue:function(e){var t=Sr();return Et===null?t.memoizedState=e:dD(t,Et.memoizedState,e)},useTransition:function(){var e=k_(Ff)[0],t=Sr().memoizedState;return[e,t]},useMutableSource:Zx,useSyncExternalStore:eD,useId:pD,unstable_isNewReconciler:!1};function Ju(e,t){try{var n="",r=t;do n+=I$(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function N_(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function eE(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Yq=typeof WeakMap=="function"?WeakMap:Map;function yD(e,t,n){n=$i(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){pv||(pv=!0,cE=r),eE(e,t)},n}function _D(e,t,n){n=$i(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){eE(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){eE(e,t),typeof r!="function"&&(jo===null?jo=new Set([this]):jo.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function EA(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Yq;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=cz.bind(null,e,t,n),t.then(e,e))}function bA(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function IA(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$i(-1,1),t.tag=2,Uo(n,t,1))),n.lanes|=1),e)}var Xq=eo.ReactCurrentOwner,Dn=!1;function dn(e,t,n,r){t.child=e===null?Xx(t,null,n,r):Yu(t,e.child,n,r)}function TA(e,t,n,r,i){n=n.render;var s=t.ref;return Vu(t,i),r=Zb(e,t,n,r,s,i),n=eI(),e!==null&&!Dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qi(e,t,i)):(Ke&&n&&Bb(t),t.flags|=1,dn(e,t,r,i),t.child)}function SA(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!cI(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,wD(e,t,s,r,i)):(e=jp(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Rf,n(a,r)&&e.ref===t.ref)return Qi(e,t,i)}return t.flags|=1,e=Bo(s,r),e.ref=t.ref,e.return=t,t.child=e}function wD(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Rf(s,r)&&e.ref===t.ref)if(Dn=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Dn=!0);else return t.lanes=e.lanes,Qi(e,t,i)}return tE(e,t,n,r,i)}function ED(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(xu,Hn),Hn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ue(xu,Hn),Hn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ue(xu,Hn),Hn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ue(xu,Hn),Hn|=r;return dn(e,t,i,n),t.child}function bD(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function tE(e,t,n,r,i){var s=Fn(n)?fa:an.current;return s=Gu(t,s),Vu(t,i),n=Zb(e,t,n,r,s,i),r=eI(),e!==null&&!Dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qi(e,t,i)):(Ke&&r&&Bb(t),t.flags|=1,dn(e,t,n,i),t.child)}function CA(e,t,n,r,i){if(Fn(n)){var s=!0;iv(t)}else s=!1;if(Vu(t,i),t.stateNode===null)Mp(e,t),Qx(t,n,r),Zw(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=Tr(h):(h=Fn(n)?fa:an.current,h=Gu(t,h));var p=n.getDerivedStateFromProps,v=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";v||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==h)&&mA(t,a,r,h),Eo=!1;var m=t.memoizedState;a.state=m,lv(t,r,a,i),c=t.memoizedState,l!==r||m!==c||Mn.current||Eo?(typeof p=="function"&&(Jw(t,n,p,r),c=t.memoizedState),(l=Eo||gA(t,n,l,r,m,c,h))?(v||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=h,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Hx(e,t),l=t.memoizedProps,h=t.type===t.elementType?l:qr(t.type,l),a.props=h,v=t.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Tr(c):(c=Fn(n)?fa:an.current,c=Gu(t,c));var y=n.getDerivedStateFromProps;(p=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==v||m!==c)&&mA(t,a,r,c),Eo=!1,m=t.memoizedState,a.state=m,lv(t,r,a,i);var w=t.memoizedState;l!==v||m!==w||Mn.current||Eo?(typeof y=="function"&&(Jw(t,n,y,r),w=t.memoizedState),(h=Eo||gA(t,n,h,r,m,w,c)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),a.props=r,a.state=w,a.context=c,r=h):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return nE(e,t,n,r,s,i)}function nE(e,t,n,r,i,s){bD(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&fA(t,n,!1),Qi(e,t,s);r=t.stateNode,Xq.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Yu(t,e.child,null,s),t.child=Yu(t,null,l,s)):dn(e,t,l,s),t.memoizedState=r.state,i&&fA(t,n,!0),t.child}function ID(e){var t=e.stateNode;t.pendingContext?cA(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cA(e,t.context,!1),Qb(e,t.containerInfo)}function kA(e,t,n,r,i){return Qu(),qb(i),t.flags|=256,dn(e,t,n,r),t.child}var rE={dehydrated:null,treeContext:null,retryLane:0};function iE(e){return{baseLanes:e,cachePool:null,transitions:null}}function TD(e,t,n){var r=t.pendingProps,i=Xe.current,s=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ue(Xe,i&1),e===null)return Yw(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Ig(a,r,0,null),e=ra(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=iE(n),t.memoizedState=rE,e):rI(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Jq(e,t,a,r,l,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Bo(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Bo(l,s):(s=ra(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?iE(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=rE,r}return s=e.child,e=s.sibling,r=Bo(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function rI(e,t){return t=Ig({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function lp(e,t,n,r){return r!==null&&qb(r),Yu(t,e.child,null,n),e=rI(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jq(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=N_(Error(V(422))),lp(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Ig({mode:"visible",children:r.children},i,0,null),s=ra(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Yu(t,e.child,null,a),t.child.memoizedState=iE(a),t.memoizedState=rE,s);if(!(t.mode&1))return lp(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(V(419)),r=N_(s,r,void 0),lp(e,t,a,r)}if(l=(a&e.childLanes)!==0,Dn||l){if(r=Lt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Gi(e,i),Qr(r,e,i,-1))}return lI(),r=N_(Error(V(421))),lp(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=fz.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Jn=Fo(i.nextSibling),tr=t,Ke=!0,Kr=null,e!==null&&(dr[pr++]=Ui,dr[pr++]=ji,dr[pr++]=ha,Ui=e.id,ji=e.overflow,ha=t),t=rI(t,r.children),t.flags|=4096,t)}function NA(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Xw(e.return,t,n)}function A_(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function SD(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(dn(e,t,r.children,n),r=Xe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&NA(e,n,t);else if(e.tag===19)NA(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ue(Xe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&cv(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),A_(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&cv(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}A_(t,!0,n,null,s);break;case"together":A_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Mp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),pa|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=Bo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Bo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Zq(e,t,n){switch(t.tag){case 3:ID(t),Qu();break;case 5:Jx(t);break;case 1:Fn(t.type)&&iv(t);break;case 4:Qb(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ue(av,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ue(Xe,Xe.current&1),t.flags|=128,null):n&t.child.childLanes?TD(e,t,n):(Ue(Xe,Xe.current&1),e=Qi(e,t,n),e!==null?e.sibling:null);Ue(Xe,Xe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return SD(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ue(Xe,Xe.current),r)break;return null;case 22:case 23:return t.lanes=0,ED(e,t,n)}return Qi(e,t,n)}var CD,oE,kD,ND;CD=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};oE=function(){};kD=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qs(vi.current);var s=null;switch(n){case"input":i=kw(e,i),r=kw(e,r),s=[];break;case"select":i=tt({},i,{value:void 0}),r=tt({},r,{value:void 0}),s=[];break;case"textarea":i=Rw(e,i),r=Rw(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=nv)}Ow(n,r);var a;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(If.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(If.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&Be("scroll",e),s||l===c||(s=[])):(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}};ND=function(e,t,n,r){n!==r&&(t.flags|=4)};function jc(e,t){if(!Ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ez(e,t,n){var r=t.pendingProps;switch($b(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(t),null;case 1:return Fn(t.type)&&rv(),Yt(t),null;case 3:return r=t.stateNode,Xu(),qe(Mn),qe(an),Xb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ap(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Kr!==null&&(dE(Kr),Kr=null))),oE(e,t),Yt(t),null;case 5:Yb(t);var i=Qs(Lf.current);if(n=t.type,e!==null&&t.stateNode!=null)kD(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(V(166));return Yt(t),null}if(e=Qs(vi.current),ap(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[xf]=s,e=(t.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(i=0;i<Xc.length;i++)Be(Xc[i],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":FN(r,s),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Be("invalid",r);break;case"textarea":jN(r,s),Be("invalid",r)}Ow(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&sp(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&sp(r.textContent,l,e),i=["children",""+l]):If.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Be("scroll",r)}switch(n){case"input":Jd(r),UN(r,s,!0);break;case"textarea":Jd(r),VN(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=nv)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tx(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[hi]=t,e[xf]=r,CD(e,t,!1,!1),t.stateNode=e;e:{switch(a=xw(n,r),n){case"dialog":Be("cancel",e),Be("close",e),i=r;break;case"iframe":case"object":case"embed":Be("load",e),i=r;break;case"video":case"audio":for(i=0;i<Xc.length;i++)Be(Xc[i],e);i=r;break;case"source":Be("error",e),i=r;break;case"img":case"image":case"link":Be("error",e),Be("load",e),i=r;break;case"details":Be("toggle",e),i=r;break;case"input":FN(e,r),i=kw(e,r),Be("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=tt({},r,{value:void 0}),Be("invalid",e);break;case"textarea":jN(e,r),i=Rw(e,r),Be("invalid",e);break;default:i=r}Ow(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?ix(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&nx(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Tf(e,c):typeof c=="number"&&Tf(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(If.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Be("scroll",e):c!=null&&kb(e,s,c,a))}switch(n){case"input":Jd(e),UN(e,r,!1);break;case"textarea":Jd(e),VN(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Go(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Mu(e,!!r.multiple,s,!1):r.defaultValue!=null&&Mu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=nv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Yt(t),null;case 6:if(e&&t.stateNode!=null)ND(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(V(166));if(n=Qs(Lf.current),Qs(vi.current),ap(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&(e=tr,e!==null))switch(e.tag){case 3:sp(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sp(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hi]=t,t.stateNode=r}return Yt(t),null;case 13:if(qe(Xe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ke&&Jn!==null&&t.mode&1&&!(t.flags&128))Wx(),Qu(),t.flags|=98560,s=!1;else if(s=ap(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(V(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(V(317));s[hi]=t}else Qu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Yt(t),s=!1}else Kr!==null&&(dE(Kr),Kr=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Xe.current&1?It===0&&(It=3):lI())),t.updateQueue!==null&&(t.flags|=4),Yt(t),null);case 4:return Xu(),oE(e,t),e===null&&Pf(t.stateNode.containerInfo),Yt(t),null;case 10:return Kb(t.type._context),Yt(t),null;case 17:return Fn(t.type)&&rv(),Yt(t),null;case 19:if(qe(Xe),s=t.memoizedState,s===null)return Yt(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)jc(s,!1);else{if(It!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=cv(e),a!==null){for(t.flags|=128,jc(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ue(Xe,Xe.current&1|2),t.child}e=e.sibling}s.tail!==null&&lt()>Zu&&(t.flags|=128,r=!0,jc(s,!1),t.lanes=4194304)}else{if(!r)if(e=cv(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),jc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Ke)return Yt(t),null}else 2*lt()-s.renderingStartTime>Zu&&n!==1073741824&&(t.flags|=128,r=!0,jc(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=lt(),t.sibling=null,n=Xe.current,Ue(Xe,r?n&1|2:n&1),t):(Yt(t),null);case 22:case 23:return uI(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Hn&1073741824&&(Yt(t),t.subtreeFlags&6&&(t.flags|=8192)):Yt(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function tz(e,t){switch($b(t),t.tag){case 1:return Fn(t.type)&&rv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xu(),qe(Mn),qe(an),Xb(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Yb(t),null;case 13:if(qe(Xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));Qu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qe(Xe),null;case 4:return Xu(),null;case 10:return Kb(t.type._context),null;case 22:case 23:return uI(),null;case 24:return null;default:return null}}var cp=!1,Zt=!1,nz=typeof WeakSet=="function"?WeakSet:Set,G=null;function Ou(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rt(e,t,r)}else n.current=null}function sE(e,t,n){try{n()}catch(r){rt(e,t,r)}}var AA=!1;function rz(e,t){if(qw=Zp,e=Ox(),Vb(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,h=0,p=0,v=e,m=null;t:for(;;){for(var y;v!==n||i!==0&&v.nodeType!==3||(l=a+i),v!==s||r!==0&&v.nodeType!==3||(c=a+r),v.nodeType===3&&(a+=v.nodeValue.length),(y=v.firstChild)!==null;)m=v,v=y;for(;;){if(v===e)break t;if(m===n&&++h===i&&(l=a),m===s&&++p===r&&(c=a),(y=v.nextSibling)!==null)break;v=m,m=v.parentNode}v=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(zw={focusedElem:e,selectionRange:n},Zp=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var b=w.memoizedProps,S=w.memoizedState,I=t.stateNode,T=I.getSnapshotBeforeUpdate(t.elementType===t.type?b:qr(t.type,b),S);I.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(P){rt(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return w=AA,AA=!1,w}function af(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&sE(t,n,s)}i=i.next}while(i!==r)}}function Eg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function aE(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function AD(e){var t=e.alternate;t!==null&&(e.alternate=null,AD(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[hi],delete t[xf],delete t[Hw],delete t[jq],delete t[Vq])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function RD(e){return e.tag===5||e.tag===3||e.tag===4}function RA(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||RD(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function uE(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=nv));else if(r!==4&&(e=e.child,e!==null))for(uE(e,t,n),e=e.sibling;e!==null;)uE(e,t,n),e=e.sibling}function lE(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(lE(e,t,n),e=e.sibling;e!==null;)lE(e,t,n),e=e.sibling}var Vt=null,Wr=!1;function po(e,t,n){for(n=n.child;n!==null;)PD(e,t,n),n=n.sibling}function PD(e,t,n){if(pi&&typeof pi.onCommitFiberUnmount=="function")try{pi.onCommitFiberUnmount(dg,n)}catch{}switch(n.tag){case 5:Zt||Ou(n,t);case 6:var r=Vt,i=Wr;Vt=null,po(e,t,n),Vt=r,Wr=i,Vt!==null&&(Wr?(e=Vt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Vt.removeChild(n.stateNode));break;case 18:Vt!==null&&(Wr?(e=Vt,n=n.stateNode,e.nodeType===8?b_(e.parentNode,n):e.nodeType===1&&b_(e,n),Nf(e)):b_(Vt,n.stateNode));break;case 4:r=Vt,i=Wr,Vt=n.stateNode.containerInfo,Wr=!0,po(e,t,n),Vt=r,Wr=i;break;case 0:case 11:case 14:case 15:if(!Zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&sE(n,t,a),i=i.next}while(i!==r)}po(e,t,n);break;case 1:if(!Zt&&(Ou(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){rt(n,t,l)}po(e,t,n);break;case 21:po(e,t,n);break;case 22:n.mode&1?(Zt=(r=Zt)||n.memoizedState!==null,po(e,t,n),Zt=r):po(e,t,n);break;default:po(e,t,n)}}function PA(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new nz),t.forEach(function(r){var i=hz.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function jr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Vt=l.stateNode,Wr=!1;break e;case 3:Vt=l.stateNode.containerInfo,Wr=!0;break e;case 4:Vt=l.stateNode.containerInfo,Wr=!0;break e}l=l.return}if(Vt===null)throw Error(V(160));PD(s,a,i),Vt=null,Wr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){rt(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)OD(t,e),t=t.sibling}function OD(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jr(t,e),li(e),r&4){try{af(3,e,e.return),Eg(3,e)}catch(b){rt(e,e.return,b)}try{af(5,e,e.return)}catch(b){rt(e,e.return,b)}}break;case 1:jr(t,e),li(e),r&512&&n!==null&&Ou(n,n.return);break;case 5:if(jr(t,e),li(e),r&512&&n!==null&&Ou(n,n.return),e.flags&32){var i=e.stateNode;try{Tf(i,"")}catch(b){rt(e,e.return,b)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&ZO(i,s),xw(l,a);var h=xw(l,s);for(a=0;a<c.length;a+=2){var p=c[a],v=c[a+1];p==="style"?ix(i,v):p==="dangerouslySetInnerHTML"?nx(i,v):p==="children"?Tf(i,v):kb(i,p,v,h)}switch(l){case"input":Nw(i,s);break;case"textarea":ex(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Mu(i,!!s.multiple,y,!1):m!==!!s.multiple&&(s.defaultValue!=null?Mu(i,!!s.multiple,s.defaultValue,!0):Mu(i,!!s.multiple,s.multiple?[]:"",!1))}i[xf]=s}catch(b){rt(e,e.return,b)}}break;case 6:if(jr(t,e),li(e),r&4){if(e.stateNode===null)throw Error(V(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(b){rt(e,e.return,b)}}break;case 3:if(jr(t,e),li(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Nf(t.containerInfo)}catch(b){rt(e,e.return,b)}break;case 4:jr(t,e),li(e);break;case 13:jr(t,e),li(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(sI=lt())),r&4&&PA(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Zt=(h=Zt)||p,jr(t,e),Zt=h):jr(t,e),li(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!p&&e.mode&1)for(G=e,p=e.child;p!==null;){for(v=G=p;G!==null;){switch(m=G,y=m.child,m.tag){case 0:case 11:case 14:case 15:af(4,m,m.return);break;case 1:Ou(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(b){rt(r,n,b)}}break;case 5:Ou(m,m.return);break;case 22:if(m.memoizedState!==null){xA(v);continue}}y!==null?(y.return=m,G=y):xA(v)}p=p.sibling}e:for(p=null,v=e;;){if(v.tag===5){if(p===null){p=v;try{i=v.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=v.stateNode,c=v.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=rx("display",a))}catch(b){rt(e,e.return,b)}}}else if(v.tag===6){if(p===null)try{v.stateNode.nodeValue=h?"":v.memoizedProps}catch(b){rt(e,e.return,b)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;p===v&&(p=null),v=v.return}p===v&&(p=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:jr(t,e),li(e),r&4&&PA(e);break;case 21:break;default:jr(t,e),li(e)}}function li(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(RD(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Tf(i,""),r.flags&=-33);var s=RA(e);lE(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=RA(e);uE(e,l,a);break;default:throw Error(V(161))}}catch(c){rt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function iz(e,t,n){G=e,xD(e)}function xD(e,t,n){for(var r=(e.mode&1)!==0;G!==null;){var i=G,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||cp;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Zt;l=cp;var h=Zt;if(cp=a,(Zt=c)&&!h)for(G=i;G!==null;)a=G,c=a.child,a.tag===22&&a.memoizedState!==null?DA(i):c!==null?(c.return=a,G=c):DA(i);for(;s!==null;)G=s,xD(s),s=s.sibling;G=i,cp=l,Zt=h}OA(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,G=s):OA(e)}}function OA(e){for(;G!==null;){var t=G;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Zt||Eg(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Zt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:qr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&vA(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}vA(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var v=p.dehydrated;v!==null&&Nf(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}Zt||t.flags&512&&aE(t)}catch(m){rt(t,t.return,m)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function xA(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function DA(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Eg(4,t)}catch(c){rt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){rt(t,i,c)}}var s=t.return;try{aE(t)}catch(c){rt(t,s,c)}break;case 5:var a=t.return;try{aE(t)}catch(c){rt(t,a,c)}}}catch(c){rt(t,t.return,c)}if(t===e){G=null;break}var l=t.sibling;if(l!==null){l.return=t.return,G=l;break}G=t.return}}var oz=Math.ceil,dv=eo.ReactCurrentDispatcher,iI=eo.ReactCurrentOwner,Er=eo.ReactCurrentBatchConfig,Te=0,Lt=null,pt=null,zt=0,Hn=0,xu=os(0),It=0,jf=null,pa=0,bg=0,oI=0,uf=null,Pn=null,sI=0,Zu=1/0,Li=null,pv=!1,cE=null,jo=null,fp=!1,Ro=null,vv=0,lf=0,fE=null,Fp=-1,Up=0;function wn(){return Te&6?lt():Fp!==-1?Fp:Fp=lt()}function Vo(e){return e.mode&1?Te&2&&zt!==0?zt&-zt:$q.transition!==null?(Up===0&&(Up=gx()),Up):(e=xe,e!==0||(e=window.event,e=e===void 0?16:Ix(e.type)),e):1}function Qr(e,t,n,r){if(50<lf)throw lf=0,fE=null,Error(V(185));ph(e,n,r),(!(Te&2)||e!==Lt)&&(e===Lt&&(!(Te&2)&&(bg|=n),It===4&&To(e,zt)),Un(e,r),n===1&&Te===0&&!(t.mode&1)&&(Zu=lt()+500,yg&&ss()))}function Un(e,t){var n=e.callbackNode;$$(e,t);var r=Jp(e,e===Lt?zt:0);if(r===0)n!==null&&qN(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&qN(n),t===1)e.tag===0?Bq(LA.bind(null,e)):$x(LA.bind(null,e)),Fq(function(){!(Te&6)&&ss()}),n=null;else{switch(mx(r)){case 1:n=Ob;break;case 4:n=px;break;case 16:n=Xp;break;case 536870912:n=vx;break;default:n=Xp}n=BD(n,DD.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function DD(e,t){if(Fp=-1,Up=0,Te&6)throw Error(V(327));var n=e.callbackNode;if(Bu()&&e.callbackNode!==n)return null;var r=Jp(e,e===Lt?zt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=gv(e,r);else{t=r;var i=Te;Te|=2;var s=MD();(Lt!==e||zt!==t)&&(Li=null,Zu=lt()+500,na(e,t));do try{uz();break}catch(l){LD(e,l)}while(1);Wb(),dv.current=s,Te=i,pt!==null?t=0:(Lt=null,zt=0,t=It)}if(t!==0){if(t===2&&(i=Uw(e),i!==0&&(r=i,t=hE(e,i))),t===1)throw n=jf,na(e,0),To(e,r),Un(e,lt()),n;if(t===6)To(e,r);else{if(i=e.current.alternate,!(r&30)&&!sz(i)&&(t=gv(e,r),t===2&&(s=Uw(e),s!==0&&(r=s,t=hE(e,s))),t===1))throw n=jf,na(e,0),To(e,r),Un(e,lt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(V(345));case 2:Bs(e,Pn,Li);break;case 3:if(To(e,r),(r&130023424)===r&&(t=sI+500-lt(),10<t)){if(Jp(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){wn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Kw(Bs.bind(null,e,Pn,Li),t);break}Bs(e,Pn,Li);break;case 4:if(To(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Gr(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*oz(r/1960))-r,10<r){e.timeoutHandle=Kw(Bs.bind(null,e,Pn,Li),r);break}Bs(e,Pn,Li);break;case 5:Bs(e,Pn,Li);break;default:throw Error(V(329))}}}return Un(e,lt()),e.callbackNode===n?DD.bind(null,e):null}function hE(e,t){var n=uf;return e.current.memoizedState.isDehydrated&&(na(e,t).flags|=256),e=gv(e,t),e!==2&&(t=Pn,Pn=n,t!==null&&dE(t)),e}function dE(e){Pn===null?Pn=e:Pn.push.apply(Pn,e)}function sz(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Jr(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function To(e,t){for(t&=~oI,t&=~bg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Gr(t),r=1<<n;e[n]=-1,t&=~r}}function LA(e){if(Te&6)throw Error(V(327));Bu();var t=Jp(e,0);if(!(t&1))return Un(e,lt()),null;var n=gv(e,t);if(e.tag!==0&&n===2){var r=Uw(e);r!==0&&(t=r,n=hE(e,r))}if(n===1)throw n=jf,na(e,0),To(e,t),Un(e,lt()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bs(e,Pn,Li),Un(e,lt()),null}function aI(e,t){var n=Te;Te|=1;try{return e(t)}finally{Te=n,Te===0&&(Zu=lt()+500,yg&&ss())}}function va(e){Ro!==null&&Ro.tag===0&&!(Te&6)&&Bu();var t=Te;Te|=1;var n=Er.transition,r=xe;try{if(Er.transition=null,xe=1,e)return e()}finally{xe=r,Er.transition=n,Te=t,!(Te&6)&&ss()}}function uI(){Hn=xu.current,qe(xu)}function na(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Mq(n)),pt!==null)for(n=pt.return;n!==null;){var r=n;switch($b(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&rv();break;case 3:Xu(),qe(Mn),qe(an),Xb();break;case 5:Yb(r);break;case 4:Xu();break;case 13:qe(Xe);break;case 19:qe(Xe);break;case 10:Kb(r.type._context);break;case 22:case 23:uI()}n=n.return}if(Lt=e,pt=e=Bo(e.current,null),zt=Hn=t,It=0,jf=null,oI=bg=pa=0,Pn=uf=null,Gs!==null){for(t=0;t<Gs.length;t++)if(n=Gs[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Gs=null}return e}function LD(e,t){do{var n=pt;try{if(Wb(),Dp.current=hv,fv){for(var r=et.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}fv=!1}if(da=0,Rt=Et=et=null,sf=!1,Mf=0,iI.current=null,n===null||n.return===null){It=1,jf=t,pt=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=zt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,p=l,v=p.tag;if(!(p.mode&1)&&(v===0||v===11||v===15)){var m=p.alternate;m?(p.updateQueue=m.updateQueue,p.memoizedState=m.memoizedState,p.lanes=m.lanes):(p.updateQueue=null,p.memoizedState=null)}var y=bA(a);if(y!==null){y.flags&=-257,IA(y,a,l,s,t),y.mode&1&&EA(s,h,t),t=y,c=h;var w=t.updateQueue;if(w===null){var b=new Set;b.add(c),t.updateQueue=b}else w.add(c);break e}else{if(!(t&1)){EA(s,h,t),lI();break e}c=Error(V(426))}}else if(Ke&&l.mode&1){var S=bA(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),IA(S,a,l,s,t),qb(Ju(c,l));break e}}s=c=Ju(c,l),It!==4&&(It=2),uf===null?uf=[s]:uf.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var I=yD(s,c,t);pA(s,I);break e;case 1:l=c;var T=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof T.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(jo===null||!jo.has(C)))){s.flags|=65536,t&=-t,s.lanes|=t;var P=_D(s,l,t);pA(s,P);break e}}s=s.return}while(s!==null)}UD(n)}catch(D){t=D,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(1)}function MD(){var e=dv.current;return dv.current=hv,e===null?hv:e}function lI(){(It===0||It===3||It===2)&&(It=4),Lt===null||!(pa&268435455)&&!(bg&268435455)||To(Lt,zt)}function gv(e,t){var n=Te;Te|=2;var r=MD();(Lt!==e||zt!==t)&&(Li=null,na(e,t));do try{az();break}catch(i){LD(e,i)}while(1);if(Wb(),Te=n,dv.current=r,pt!==null)throw Error(V(261));return Lt=null,zt=0,It}function az(){for(;pt!==null;)FD(pt)}function uz(){for(;pt!==null&&!x$();)FD(pt)}function FD(e){var t=VD(e.alternate,e,Hn);e.memoizedProps=e.pendingProps,t===null?UD(e):pt=t,iI.current=null}function UD(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=tz(n,t),n!==null){n.flags&=32767,pt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{It=6,pt=null;return}}else if(n=ez(n,t,Hn),n!==null){pt=n;return}if(t=t.sibling,t!==null){pt=t;return}pt=t=e}while(t!==null);It===0&&(It=5)}function Bs(e,t,n){var r=xe,i=Er.transition;try{Er.transition=null,xe=1,lz(e,t,n,r)}finally{Er.transition=i,xe=r}return null}function lz(e,t,n,r){do Bu();while(Ro!==null);if(Te&6)throw Error(V(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(q$(e,s),e===Lt&&(pt=Lt=null,zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fp||(fp=!0,BD(Xp,function(){return Bu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Er.transition,Er.transition=null;var a=xe;xe=1;var l=Te;Te|=4,iI.current=null,rz(e,n),OD(n,e),Aq(zw),Zp=!!qw,zw=qw=null,e.current=n,iz(n),D$(),Te=l,xe=a,Er.transition=s}else e.current=n;if(fp&&(fp=!1,Ro=e,vv=i),s=e.pendingLanes,s===0&&(jo=null),F$(n.stateNode),Un(e,lt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(pv)throw pv=!1,e=cE,cE=null,e;return vv&1&&e.tag!==0&&Bu(),s=e.pendingLanes,s&1?e===fE?lf++:(lf=0,fE=e):lf=0,ss(),null}function Bu(){if(Ro!==null){var e=mx(vv),t=Er.transition,n=xe;try{if(Er.transition=null,xe=16>e?16:e,Ro===null)var r=!1;else{if(e=Ro,Ro=null,vv=0,Te&6)throw Error(V(331));var i=Te;for(Te|=4,G=e.current;G!==null;){var s=G,a=s.child;if(G.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(G=h;G!==null;){var p=G;switch(p.tag){case 0:case 11:case 15:af(8,p,s)}var v=p.child;if(v!==null)v.return=p,G=v;else for(;G!==null;){p=G;var m=p.sibling,y=p.return;if(AD(p),p===h){G=null;break}if(m!==null){m.return=y,G=m;break}G=y}}}var w=s.alternate;if(w!==null){var b=w.child;if(b!==null){w.child=null;do{var S=b.sibling;b.sibling=null,b=S}while(b!==null)}}G=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,G=a;else e:for(;G!==null;){if(s=G,s.flags&2048)switch(s.tag){case 0:case 11:case 15:af(9,s,s.return)}var I=s.sibling;if(I!==null){I.return=s.return,G=I;break e}G=s.return}}var T=e.current;for(G=T;G!==null;){a=G;var C=a.child;if(a.subtreeFlags&2064&&C!==null)C.return=a,G=C;else e:for(a=T;G!==null;){if(l=G,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Eg(9,l)}}catch(D){rt(l,l.return,D)}if(l===a){G=null;break e}var P=l.sibling;if(P!==null){P.return=l.return,G=P;break e}G=l.return}}if(Te=i,ss(),pi&&typeof pi.onPostCommitFiberRoot=="function")try{pi.onPostCommitFiberRoot(dg,e)}catch{}r=!0}return r}finally{xe=n,Er.transition=t}}return!1}function MA(e,t,n){t=Ju(n,t),t=yD(e,t,1),e=Uo(e,t,1),t=wn(),e!==null&&(ph(e,1,t),Un(e,t))}function rt(e,t,n){if(e.tag===3)MA(e,e,n);else for(;t!==null;){if(t.tag===3){MA(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jo===null||!jo.has(r))){e=Ju(n,e),e=_D(t,e,1),t=Uo(t,e,1),e=wn(),t!==null&&(ph(t,1,e),Un(t,e));break}}t=t.return}}function cz(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=wn(),e.pingedLanes|=e.suspendedLanes&n,Lt===e&&(zt&n)===n&&(It===4||It===3&&(zt&130023424)===zt&&500>lt()-sI?na(e,0):oI|=n),Un(e,t)}function jD(e,t){t===0&&(e.mode&1?(t=tp,tp<<=1,!(tp&130023424)&&(tp=4194304)):t=1);var n=wn();e=Gi(e,t),e!==null&&(ph(e,t,n),Un(e,n))}function fz(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),jD(e,n)}function hz(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(t),jD(e,n)}var VD;VD=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Mn.current)Dn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Dn=!1,Zq(e,t,n);Dn=!!(e.flags&131072)}else Dn=!1,Ke&&t.flags&1048576&&qx(t,sv,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Mp(e,t),e=t.pendingProps;var i=Gu(t,an.current);Vu(t,n),i=Zb(null,t,r,e,i,n);var s=eI();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fn(r)?(s=!0,iv(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gb(t),i.updater=_g,t.stateNode=i,i._reactInternals=t,Zw(t,r,e,n),t=nE(null,t,r,!0,s,n)):(t.tag=0,Ke&&s&&Bb(t),dn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Mp(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=pz(r),e=qr(r,e),i){case 0:t=tE(null,t,r,e,n);break e;case 1:t=CA(null,t,r,e,n);break e;case 11:t=TA(null,t,r,e,n);break e;case 14:t=SA(null,t,r,qr(r.type,e),n);break e}throw Error(V(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qr(r,i),tE(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qr(r,i),CA(e,t,r,i,n);case 3:e:{if(ID(t),e===null)throw Error(V(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Hx(e,t),lv(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Ju(Error(V(423)),t),t=kA(e,t,r,n,i);break e}else if(r!==i){i=Ju(Error(V(424)),t),t=kA(e,t,r,n,i);break e}else for(Jn=Fo(t.stateNode.containerInfo.firstChild),tr=t,Ke=!0,Kr=null,n=Xx(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qu(),r===i){t=Qi(e,t,n);break e}dn(e,t,r,n)}t=t.child}return t;case 5:return Jx(t),e===null&&Yw(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,Ww(r,i)?a=null:s!==null&&Ww(r,s)&&(t.flags|=32),bD(e,t),dn(e,t,a,n),t.child;case 6:return e===null&&Yw(t),null;case 13:return TD(e,t,n);case 4:return Qb(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Yu(t,null,r,n):dn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qr(r,i),TA(e,t,r,i,n);case 7:return dn(e,t,t.pendingProps,n),t.child;case 8:return dn(e,t,t.pendingProps.children,n),t.child;case 12:return dn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ue(av,r._currentValue),r._currentValue=a,s!==null)if(Jr(s.value,a)){if(s.children===i.children&&!Mn.current){t=Qi(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=$i(-1,n&-n),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?c.next=c:(c.next=p.next,p.next=c),h.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Xw(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(V(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Xw(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}dn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Vu(t,n),i=Tr(i),r=r(i),t.flags|=1,dn(e,t,r,n),t.child;case 14:return r=t.type,i=qr(r,t.pendingProps),i=qr(r.type,i),SA(e,t,r,i,n);case 15:return wD(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qr(r,i),Mp(e,t),t.tag=1,Fn(r)?(e=!0,iv(t)):e=!1,Vu(t,n),Qx(t,r,i),Zw(t,r,i,n),nE(null,t,r,!0,e,n);case 19:return SD(e,t,n);case 22:return ED(e,t,n)}throw Error(V(156,t.tag))};function BD(e,t){return dx(e,t)}function dz(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(e,t,n,r){return new dz(e,t,n,r)}function cI(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pz(e){if(typeof e=="function")return cI(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ab)return 11;if(e===Rb)return 14}return 2}function Bo(e,t){var n=e.alternate;return n===null?(n=vr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jp(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")cI(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Iu:return ra(n.children,i,s,t);case Nb:a=8,i|=8;break;case Iw:return e=vr(12,n,t,i|2),e.elementType=Iw,e.lanes=s,e;case Tw:return e=vr(13,n,t,i),e.elementType=Tw,e.lanes=s,e;case Sw:return e=vr(19,n,t,i),e.elementType=Sw,e.lanes=s,e;case YO:return Ig(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case GO:a=10;break e;case QO:a=9;break e;case Ab:a=11;break e;case Rb:a=14;break e;case wo:a=16,r=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=vr(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function ra(e,t,n,r){return e=vr(7,e,r,t),e.lanes=n,e}function Ig(e,t,n,r){return e=vr(22,e,r,t),e.elementType=YO,e.lanes=n,e.stateNode={isHidden:!1},e}function R_(e,t,n){return e=vr(6,e,null,t),e.lanes=n,e}function P_(e,t,n){return t=vr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vz(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=f_(0),this.expirationTimes=f_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=f_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function fI(e,t,n,r,i,s,a,l,c){return e=new vz(e,t,n,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=vr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gb(s),e}function gz(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function $D(e){if(!e)return Qo;e=e._reactInternals;e:{if(Aa(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(Fn(n))return Bx(e,n,t)}return t}function qD(e,t,n,r,i,s,a,l,c){return e=fI(n,r,!0,e,i,s,a,l,c),e.context=$D(null),n=e.current,r=wn(),i=Vo(n),s=$i(r,i),s.callback=t??null,Uo(n,s,i),e.current.lanes=i,ph(e,i,r),Un(e,r),e}function Tg(e,t,n,r){var i=t.current,s=wn(),a=Vo(i);return n=$D(n),t.context===null?t.context=n:t.pendingContext=n,t=$i(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Uo(i,t,a),e!==null&&(Qr(e,i,a,s),xp(e,i,a)),a}function mv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function FA(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function hI(e,t){FA(e,t),(e=e.alternate)&&FA(e,t)}function mz(){return null}var zD=typeof reportError=="function"?reportError:function(e){console.error(e)};function dI(e){this._internalRoot=e}Sg.prototype.render=dI.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));Tg(e,t,null,null)};Sg.prototype.unmount=dI.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;va(function(){Tg(null,e,null,null)}),t[Hi]=null}};function Sg(e){this._internalRoot=e}Sg.prototype.unstable_scheduleHydration=function(e){if(e){var t=wx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Io.length&&t!==0&&t<Io[n].priority;n++);Io.splice(n,0,e),n===0&&bx(e)}};function pI(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Cg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function UA(){}function yz(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=mv(a);s.call(h)}}var a=qD(t,r,e,0,null,!1,!1,"",UA);return e._reactRootContainer=a,e[Hi]=a.current,Pf(e.nodeType===8?e.parentNode:e),va(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=mv(c);l.call(h)}}var c=fI(e,0,!1,null,null,!1,!1,"",UA);return e._reactRootContainer=c,e[Hi]=c.current,Pf(e.nodeType===8?e.parentNode:e),va(function(){Tg(t,c,n,r)}),c}function kg(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=mv(a);l.call(c)}}Tg(t,a,e,i)}else a=yz(n,t,e,i,r);return mv(a)}yx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Yc(t.pendingLanes);n!==0&&(xb(t,n|1),Un(t,lt()),!(Te&6)&&(Zu=lt()+500,ss()))}break;case 13:va(function(){var r=Gi(e,1);if(r!==null){var i=wn();Qr(r,e,1,i)}}),hI(e,1)}};Db=function(e){if(e.tag===13){var t=Gi(e,134217728);if(t!==null){var n=wn();Qr(t,e,134217728,n)}hI(e,134217728)}};_x=function(e){if(e.tag===13){var t=Vo(e),n=Gi(e,t);if(n!==null){var r=wn();Qr(n,e,t,r)}hI(e,t)}};wx=function(){return xe};Ex=function(e,t){var n=xe;try{return xe=e,t()}finally{xe=n}};Lw=function(e,t,n){switch(t){case"input":if(Nw(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=mg(r);if(!i)throw Error(V(90));JO(r),Nw(r,i)}}}break;case"textarea":ex(e,n);break;case"select":t=n.value,t!=null&&Mu(e,!!n.multiple,t,!1)}};ax=aI;ux=va;var _z={usingClientEntryPoint:!1,Events:[gh,ku,mg,ox,sx,aI]},Vc={findFiberByHostInstance:Hs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},wz={bundleType:Vc.bundleType,version:Vc.version,rendererPackageName:Vc.rendererPackageName,rendererConfig:Vc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:eo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fx(e),e===null?null:e.stateNode},findFiberByHostInstance:Vc.findFiberByHostInstance||mz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hp.isDisabled&&hp.supportsFiber)try{dg=hp.inject(wz),pi=hp}catch{}}ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_z;ar.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pI(t))throw Error(V(200));return gz(e,t,null,n)};ar.createRoot=function(e,t){if(!pI(e))throw Error(V(299));var n=!1,r="",i=zD;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=fI(e,1,!1,null,null,n,!1,r,i),e[Hi]=t.current,Pf(e.nodeType===8?e.parentNode:e),new dI(t)};ar.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=fx(t),e=e===null?null:e.stateNode,e};ar.flushSync=function(e){return va(e)};ar.hydrate=function(e,t,n){if(!Cg(t))throw Error(V(200));return kg(null,e,t,!0,n)};ar.hydrateRoot=function(e,t,n){if(!pI(e))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=zD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=qD(t,null,e,1,n??null,i,!1,s,a),e[Hi]=t.current,Pf(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Sg(t)};ar.render=function(e,t,n){if(!Cg(t))throw Error(V(200));return kg(null,e,t,!1,n)};ar.unmountComponentAtNode=function(e){if(!Cg(e))throw Error(V(40));return e._reactRootContainer?(va(function(){kg(null,null,e,!1,function(){e._reactRootContainer=null,e[Hi]=null})}),!0):!1};ar.unstable_batchedUpdates=aI;ar.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Cg(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return kg(e,t,n,!1,r)};ar.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=ar})(m$);var jA=ww;_w.createRoot=jA.createRoot,_w.hydrateRoot=jA.hydrateRoot;/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vf(){return Vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vf.apply(this,arguments)}var Po;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Po||(Po={}));const VA="popstate";function Ez(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:a,hash:l}=r.location;return pE("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:yv(i)}return Iz(t,n,null,e)}function gt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vI(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function bz(){return Math.random().toString(36).substr(2,8)}function BA(e,t){return{usr:e.state,key:e.key,idx:t}}function pE(e,t,n,r){return n===void 0&&(n=null),Vf({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?kl(t):t,{state:n,key:t&&t.key||r||bz()})}function yv(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function kl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Iz(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l=Po.Pop,c=null,h=p();h==null&&(h=0,a.replaceState(Vf({},a.state,{idx:h}),""));function p(){return(a.state||{idx:null}).idx}function v(){l=Po.Pop;let S=p(),I=S==null?null:S-h;h=S,c&&c({action:l,location:b.location,delta:I})}function m(S,I){l=Po.Push;let T=pE(b.location,S,I);n&&n(T,S),h=p()+1;let C=BA(T,h),P=b.createHref(T);try{a.pushState(C,"",P)}catch{i.location.assign(P)}s&&c&&c({action:l,location:b.location,delta:1})}function y(S,I){l=Po.Replace;let T=pE(b.location,S,I);n&&n(T,S),h=p();let C=BA(T,h),P=b.createHref(T);a.replaceState(C,"",P),s&&c&&c({action:l,location:b.location,delta:0})}function w(S){let I=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof S=="string"?S:yv(S);return gt(I,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,I)}let b={get action(){return l},get location(){return e(i,a)},listen(S){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(VA,v),c=S,()=>{i.removeEventListener(VA,v),c=null}},createHref(S){return t(i,S)},createURL:w,encodeLocation(S){let I=w(S);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:m,replace:y,go(S){return a.go(S)}};return b}var $A;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})($A||($A={}));function Tz(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?kl(t):t,i=gI(r.pathname||"/",n);if(i==null)return null;let s=WD(e);Sz(s);let a=null;for(let l=0;a==null&&l<s.length;++l)a=Dz(s[l],Fz(i));return a}function WD(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(gt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=$o([r,c.relativePath]),p=n.concat(c);s.children&&s.children.length>0&&(gt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),WD(s.children,t,p,h)),!(s.path==null&&!s.index)&&t.push({path:h,score:Oz(h,s.index),routesMeta:p})};return e.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let c of KD(s.path))i(s,a,c)}),t}function KD(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=KD(r.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Sz(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:xz(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Cz=/^:\w+$/,kz=3,Nz=2,Az=1,Rz=10,Pz=-2,qA=e=>e==="*";function Oz(e,t){let n=e.split("/"),r=n.length;return n.some(qA)&&(r+=Pz),t&&(r+=Nz),n.filter(i=>!qA(i)).reduce((i,s)=>i+(Cz.test(s)?kz:s===""?Az:Rz),r)}function xz(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Dz(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",p=Lz({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h);if(!p)return null;Object.assign(r,p.params);let v=l.route;s.push({params:r,pathname:$o([i,p.pathname]),pathnameBase:Bz($o([i,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(i=$o([i,p.pathnameBase]))}return s}function Lz(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Mz(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,p,v)=>{if(p==="*"){let m=l[v]||"";a=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}return h[p]=Uz(l[v]||"",p),h},{}),pathname:s,pathnameBase:a,pattern:e}}function Mz(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),vI(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(a,l)=>(r.push(l),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Fz(e){try{return decodeURI(e)}catch(t){return vI(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Uz(e,t){try{return decodeURIComponent(e)}catch(n){return vI(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function gI(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function jz(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?kl(e):e;return{pathname:n?n.startsWith("/")?n:Vz(n,t):t,search:$z(r),hash:qz(i)}}function Vz(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function O_(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function HD(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function GD(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=kl(e):(i=Vf({},e),gt(!i.pathname||!i.pathname.includes("?"),O_("?","pathname","search",i)),gt(!i.pathname||!i.pathname.includes("#"),O_("#","pathname","hash",i)),gt(!i.search||!i.search.includes("#"),O_("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,l;if(r||a==null)l=n;else{let v=t.length-1;if(a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),v-=1;i.pathname=m.join("/")}l=v>=0?t[v]:"/"}let c=jz(i,l),h=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||p)&&(c.pathname+="/"),c}const $o=e=>e.join("/").replace(/\/\/+/g,"/"),Bz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$z=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,qz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function zz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const Kz=typeof Object.is=="function"?Object.is:Wz,{useState:Hz,useEffect:Gz,useLayoutEffect:Qz,useDebugValue:Yz}=yw;function Xz(e,t,n){const r=t(),[{inst:i},s]=Hz({inst:{value:r,getSnapshot:t}});return Qz(()=>{i.value=r,i.getSnapshot=t,x_(i)&&s({inst:i})},[e,r,t]),Gz(()=>(x_(i)&&s({inst:i}),e(()=>{x_(i)&&s({inst:i})})),[e]),Yz(r),r}function x_(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!Kz(n,r)}catch{return!0}}function Jz(e,t,n){return t()}const Zz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",e6=!Zz,t6=e6?Jz:Xz;"useSyncExternalStore"in yw&&(e=>e.useSyncExternalStore)(yw);const QD=z.createContext(null),Ng=z.createContext(null),Nl=z.createContext(null),Ag=z.createContext(null),Al=z.createContext({outlet:null,matches:[]}),YD=z.createContext(null);function vE(){return vE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vE.apply(this,arguments)}function n6(e,t){let{relative:n}=t===void 0?{}:t;Rl()||gt(!1);let{basename:r,navigator:i}=z.useContext(Nl),{hash:s,pathname:a,search:l}=mI(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:$o([r,a])),i.createHref({pathname:c,search:l,hash:s})}function Rl(){return z.useContext(Ag)!=null}function yh(){return Rl()||gt(!1),z.useContext(Ag).location}function XD(){Rl()||gt(!1);let{basename:e,navigator:t}=z.useContext(Nl),{matches:n}=z.useContext(Al),{pathname:r}=yh(),i=JSON.stringify(HD(n).map(l=>l.pathnameBase)),s=z.useRef(!1);return z.useEffect(()=>{s.current=!0}),z.useCallback(function(l,c){if(c===void 0&&(c={}),!s.current)return;if(typeof l=="number"){t.go(l);return}let h=GD(l,JSON.parse(i),r,c.relative==="path");e!=="/"&&(h.pathname=h.pathname==="/"?e:$o([e,h.pathname])),(c.replace?t.replace:t.push)(h,c.state,c)},[e,t,i,r])}function mI(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=z.useContext(Al),{pathname:i}=yh(),s=JSON.stringify(HD(r).map(a=>a.pathnameBase));return z.useMemo(()=>GD(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function r6(e,t){Rl()||gt(!1);let{navigator:n}=z.useContext(Nl),r=z.useContext(Ng),{matches:i}=z.useContext(Al),s=i[i.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=yh(),h;if(t){var p;let b=typeof t=="string"?kl(t):t;l==="/"||(p=b.pathname)!=null&&p.startsWith(l)||gt(!1),h=b}else h=c;let v=h.pathname||"/",m=l==="/"?v:v.slice(l.length)||"/",y=Tz(e,{pathname:m}),w=a6(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:$o([l,n.encodeLocation?n.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:$o([l,n.encodeLocation?n.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r||void 0);return t&&w?z.createElement(Ag.Provider,{value:{location:vE({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Po.Pop}},w):w}function i6(){let e=f6(),t=zz(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},t),n?z.createElement("pre",{style:i},n):null,s)}class o6 extends z.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?z.createElement(Al.Provider,{value:this.props.routeContext},z.createElement(YD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function s6(e){let{routeContext:t,match:n,children:r}=e,i=z.useContext(QD);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),z.createElement(Al.Provider,{value:t},r)}function a6(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let r=e,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(a=>a.route.id&&(i==null?void 0:i[a.route.id]));s>=0||gt(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,a,l)=>{let c=a.route.id?i==null?void 0:i[a.route.id]:null,h=null;n&&(a.route.ErrorBoundary?h=z.createElement(a.route.ErrorBoundary,null):a.route.errorElement?h=a.route.errorElement:h=z.createElement(i6,null));let p=t.concat(r.slice(0,l+1)),v=()=>{let m=s;return c?m=h:a.route.Component?m=z.createElement(a.route.Component,null):a.route.element&&(m=a.route.element),z.createElement(s6,{match:a,routeContext:{outlet:s,matches:p},children:m})};return n&&(a.route.ErrorBoundary||a.route.errorElement||l===0)?z.createElement(o6,{location:n.location,component:h,error:c,children:v(),routeContext:{outlet:null,matches:p}}):v()},null)}var zA;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(zA||(zA={}));var _v;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(_v||(_v={}));function u6(e){let t=z.useContext(Ng);return t||gt(!1),t}function l6(e){let t=z.useContext(Al);return t||gt(!1),t}function c6(e){let t=l6(),n=t.matches[t.matches.length-1];return n.route.id||gt(!1),n.route.id}function f6(){var e;let t=z.useContext(YD),n=u6(_v.UseRouteError),r=c6(_v.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function D_(e){let{to:t,replace:n,state:r,relative:i}=e;Rl()||gt(!1);let s=z.useContext(Ng),a=XD();return z.useEffect(()=>{s&&s.navigation.state!=="idle"||a(t,{replace:n,state:r,relative:i})}),null}function $s(e){gt(!1)}function h6(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Po.Pop,navigator:s,static:a=!1}=e;Rl()&&gt(!1);let l=t.replace(/^\/*/,"/"),c=z.useMemo(()=>({basename:l,navigator:s,static:a}),[l,s,a]);typeof r=="string"&&(r=kl(r));let{pathname:h="/",search:p="",hash:v="",state:m=null,key:y="default"}=r,w=z.useMemo(()=>{let b=gI(h,l);return b==null?null:{location:{pathname:b,search:p,hash:v,state:m,key:y},navigationType:i}},[l,h,p,v,m,y,i]);return w==null?null:z.createElement(Nl.Provider,{value:c},z.createElement(Ag.Provider,{children:n,value:w}))}function d6(e){let{children:t,location:n}=e,r=z.useContext(QD),i=r&&!t?r.router.routes:gE(t);return r6(i,n)}var WA;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(WA||(WA={}));new Promise(()=>{});function gE(e,t){t===void 0&&(t=[]);let n=[];return z.Children.forEach(e,(r,i)=>{if(!z.isValidElement(r))return;let s=[...t,i];if(r.type===z.Fragment){n.push.apply(n,gE(r.props.children,s));return}r.type!==$s&&gt(!1),!r.props.index||!r.props.children||gt(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=gE(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wv(){return wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wv.apply(this,arguments)}function JD(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function p6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function v6(e,t){return e.button===0&&(!t||t==="_self")&&!p6(e)}const g6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],m6=["aria-current","caseSensitive","className","end","style","to","children"];function y6(e){let{basename:t,children:n,window:r}=e,i=z.useRef();i.current==null&&(i.current=Ez({window:r,v5Compat:!0}));let s=i.current,[a,l]=z.useState({action:s.action,location:s.location});return z.useLayoutEffect(()=>s.listen(l),[s]),z.createElement(h6,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s})}const _6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",w6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,E6=z.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:l,target:c,to:h,preventScrollReset:p}=t,v=JD(t,g6),{basename:m}=z.useContext(Nl),y,w=!1;if(typeof h=="string"&&w6.test(h)&&(y=h,_6)){let T=new URL(window.location.href),C=h.startsWith("//")?new URL(T.protocol+h):new URL(h),P=gI(C.pathname,m);C.origin===T.origin&&P!=null?h=P+C.search+C.hash:w=!0}let b=n6(h,{relative:i}),S=b6(h,{replace:a,state:l,target:c,preventScrollReset:p,relative:i});function I(T){r&&r(T),T.defaultPrevented||S(T)}return z.createElement("a",wv({},v,{href:y||b,onClick:w||s?r:I,ref:n,target:c}))}),L_=z.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:a=!1,style:l,to:c,children:h}=t,p=JD(t,m6),v=mI(c,{relative:p.relative}),m=yh(),y=z.useContext(Ng),{navigator:w}=z.useContext(Nl),b=w.encodeLocation?w.encodeLocation(v).pathname:v.pathname,S=m.pathname,I=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(S=S.toLowerCase(),I=I?I.toLowerCase():null,b=b.toLowerCase());let T=S===b||!a&&S.startsWith(b)&&S.charAt(b.length)==="/",C=I!=null&&(I===b||!a&&I.startsWith(b)&&I.charAt(b.length)==="/"),P=T?r:void 0,D;typeof s=="function"?D=s({isActive:T,isPending:C}):D=[s,T?"active":null,C?"pending":null].filter(Boolean).join(" ");let O=typeof l=="function"?l({isActive:T,isPending:C}):l;return z.createElement(E6,wv({},p,{"aria-current":P,className:D,ref:n,style:O,to:c}),typeof h=="function"?h({isActive:T,isPending:C}):h)});var KA;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(KA||(KA={}));var HA;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(HA||(HA={}));function b6(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a}=t===void 0?{}:t,l=XD(),c=yh(),h=mI(e,{relative:a});return z.useCallback(p=>{if(v6(p,n)){p.preventDefault();let v=r!==void 0?r:yv(c)===yv(h);l(e,{replace:v,state:i,preventScrollReset:s,relative:a})}},[c,l,h,r,i,n,e,s,a])}var mE=function(e,t){return mE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},mE(e,t)};function H(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");mE(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Me=function(){return Me=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Me.apply(this,arguments)};function R(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{h(r.next(p))}catch(v){a(v)}}function c(p){try{h(r.throw(p))}catch(v){a(v)}}function h(p){p.done?s(p.value):i(p.value).then(l,c)}h((r=r.apply(e,t||[])).next())})}function N(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(h){return function(p){return c([h,p])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(p){h=[6,p],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function Mt(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function $t(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function me(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZD={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $=function(e,t){if(!e)throw Pl(t)},Pl=function(e){return new Error("Firebase Database ("+ZD.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eL=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},I6=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){var s=e[n++],a=e[n++],l=e[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{var s=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return t.join("")},Bf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var s=e[i],a=i+1<e.length,l=a?e[i+1]:0,c=i+2<e.length,h=c?e[i+2]:0,p=s>>2,v=(s&3)<<4|l>>4,m=(l&15)<<2|h>>6,y=h&63;c||(y=64,a||(m=64)),r.push(n[p],n[v],n[m],n[y])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(eL(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):I6(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var s=n[e.charAt(i++)],a=i<e.length,l=a?n[e.charAt(i)]:0;++i;var c=i<e.length,h=c?n[e.charAt(i)]:64;++i;var p=i<e.length,v=p?n[e.charAt(i)]:64;if(++i,s==null||l==null||h==null||v==null)throw Error();var m=s<<2|l>>4;if(r.push(m),h!==64){var y=l<<4&240|h>>2;if(r.push(y),v!==64){var w=h<<6&192|v;r.push(w)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},T6=function(e){var t=eL(e);return Bf.encodeByteArray(t,!0)},GA=function(e){try{return Bf.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(e){return $f(void 0,e)}function $f(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!S6(r)||(e[r]=$f(e[r],t[r]));return e}function S6(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xn=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Me({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[Bf.encodeString(JSON.stringify(n),!1),Bf.encodeString(JSON.stringify(a),!1),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ga())}function C6(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function k6(){return typeof self=="object"&&self.self===self}function _I(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function rL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function N6(){return ga().indexOf("Electron/")>=0}function A6(){var e=ga();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function R6(){return ga().indexOf("MSAppHost/")>=0}function iL(){return ZD.NODE_ADMIN===!0}function wI(){return"indexedDB"in self&&indexedDB!=null}function EI(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(s){t(s)}})}function oL(){return!(!navigator||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P6="FirebaseError",Ol=function(e){H(t,e);function t(n,r,i){var s=e.call(this,r)||this;return s.code=n,s.customData=i,s.name=P6,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,as.prototype.create),s}return t}(Error),as=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},s=this.service+"/"+t,a=this.errors[t],l=a?O6(a,i):"Error",c=this.serviceName+": "+l+" ("+s+").",h=new Ol(s,c,i);return h},e}();function O6(e,t){return e.replace(x6,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var x6=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(e){return JSON.parse(e)}function bt(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sL=function(e){var t={},n={},r={},i="";try{var s=e.split(".");t=qf(GA(s[0])||""),n=qf(GA(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},D6=function(e){var t=sL(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},L6=function(e){var t=sL(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ma(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function yE(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ev(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M6(e){for(var t=[],n=function(c,h){Array.isArray(h)?h.forEach(function(p){t.push(encodeURIComponent(c)+"="+encodeURIComponent(p))}):t.push(encodeURIComponent(c)+"="+encodeURIComponent(h))},r=0,i=Object.entries(e);r<i.length;r++){var s=i[r],a=s[0],l=s[1];n(a,l)}return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var F6=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,n){n||(n=0);var r=this.W_;if(typeof t=="string")for(var i=0;i<16;i++)r[i]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(var i=16;i<80;i++){var s=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(s<<1|s>>>31)&4294967295}for(var a=this.chain_[0],l=this.chain_[1],c=this.chain_[2],h=this.chain_[3],p=this.chain_[4],v,m,i=0;i<80;i++){i<40?i<20?(v=h^l&(c^h),m=1518500249):(v=l^c^h,m=1859775393):i<60?(v=l&c|h&(l|c),m=2400959708):(v=l^c^h,m=3395469782);var s=(a<<5|a>>>27)+v+p+m+r[i]&4294967295;p=h,h=c,c=(l<<30|l>>>2)&4294967295,l=a,a=s}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295},e.prototype.update=function(t,n){if(t!=null){n===void 0&&(n=t.length);for(var r=n-this.blockSize,i=0,s=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[a]=t.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=t[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}},e.prototype.digest=function(){var t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var s=24;s>=0;s-=8)t[i]=this.chain_[r]>>s&255,++i;return t},e}();function U6(e,t){var n=new j6(e,t);return n.subscribe.bind(n)}var j6=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");V6(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=M_),s.error===void 0&&(s.error=M_),s.complete===void 0&&(s.complete=M_);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?s.error(i.finalError):s.complete()}catch{}}),this.observers.push(s),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function V6(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function M_(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=n===0?"none":"no more than "+n),i){var s=e+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function jn(e,t){return e+" failed: "+t+" argument "}function Pt(e,t,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(jn(e,t)+"must be a valid function.")}function QA(e,t,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(jn(e,t)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B6=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,$(r<e.length,"Surrogate pair missing trail surrogate.");var a=e.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Rg=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $6=1e3,q6=2,z6=4*60*60*1e3,W6=.5;function _E(e,t,n){t===void 0&&(t=$6),n===void 0&&(n=q6);var r=t*Math.pow(n,e),i=Math.round(W6*r*(Math.random()-.5)*2);return Math.min(z6,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(e){return e&&e._delegate?e._delegate:e}var $n=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aL=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return e.prototype.get=function(t){t===void 0&&(t=_o);var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new xn;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n=Me({identifier:_o,optional:!1},t),r=n.identifier,i=n.optional,s=this.normalizeInstanceIdentifier(r);if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(H6(t))try{this.getOrInitializeService({instanceIdentifier:_o})}catch{}try{for(var i=Mt(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=$t(s.value,2),l=a[0],c=a[1],h=this.normalizeInstanceIdentifier(l);try{var p=this.getOrInitializeService({instanceIdentifier:h});c.resolve(p)}catch{}}}catch(v){n={error:v}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=_o),this.instancesDeferred.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return R(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(me(me([],$t(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),$t(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=_o),this.instances.has(t)},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var i=t.instanceIdentifier,s=i===void 0?_o:i,a=t.options,l=a===void 0?{}:a,c=this.normalizeInstanceIdentifier(s);if(this.isInitialized(c))throw Error(this.name+"("+c+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var h=this.getOrInitializeService({instanceIdentifier:c,options:l});try{for(var p=Mt(this.instancesDeferred.entries()),v=p.next();!v.done;v=p.next()){var m=$t(v.value,2),y=m[0],w=m[1],b=this.normalizeInstanceIdentifier(y);c===b&&w.resolve(h)}}catch(S){n={error:S}}finally{try{v&&!v.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}return this.invokeOnInitCallbacks(h,c),h},e.prototype.onInit=function(t){var n=this;return this.onInitCallbacks.add(t),function(){n.onInitCallbacks.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,i;try{for(var s=Mt(this.onInitCallbacks),a=s.next();!a.done;a=s.next()){var l=a.value;try{l(t,n)}catch{}}}catch(c){r={error:c}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,i=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:K6(n),options:i}),this.instances.set(n,s),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:_o:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function K6(e){return e===_o?void 0:e}function H6(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uL=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new aL(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function $r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var js,bI=[],ge;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ge||(ge={}));var lL={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},G6=ge.INFO,Q6=(js={},js[ge.DEBUG]="log",js[ge.VERBOSE]="log",js[ge.INFO]="info",js[ge.WARN]="warn",js[ge.ERROR]="error",js),Y6=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),s=Q6[t];if(s)console[s].apply(console,$r(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},xl=function(){function e(t){this.name=t,this._logLevel=G6,this._logHandler=Y6,this._userLogHandler=null,bI.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in ge))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?lL[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,$r([this,ge.DEBUG],t)),this._logHandler.apply(this,$r([this,ge.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,$r([this,ge.VERBOSE],t)),this._logHandler.apply(this,$r([this,ge.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,$r([this,ge.INFO],t)),this._logHandler.apply(this,$r([this,ge.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,$r([this,ge.WARN],t)),this._logHandler.apply(this,$r([this,ge.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,$r([this,ge.ERROR],t)),this._logHandler.apply(this,$r([this,ge.ERROR],t))},e}();function X6(e){bI.forEach(function(t){t.setLogLevel(e)})}function J6(e,t){for(var n=function(a){var l=null;t&&t.level&&(l=lL[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(c,h){for(var p=[],v=2;v<arguments.length;v++)p[v-2]=arguments[v];var m=p.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");h>=(l??c.logLevel)&&e({level:ge[h].toLowerCase(),message:m,args:p,type:c.name})}},r=0,i=bI;r<i.length;r++){var s=i[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vo,Z6=(vo={},vo["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",vo["bad-app-name"]="Illegal App name: '{$appName}",vo["duplicate-app"]="Firebase App named '{$appName}' already exists",vo["app-deleted"]="Firebase App named '{$appName}' already deleted",vo["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",vo["invalid-log-argument"]="First argument to `onLog` must be null or a function.",vo),_u=new as("app","Firebase",Z6),cL="@firebase/app",eW="0.6.21",tW="@firebase/analytics",nW="@firebase/app-check",rW="@firebase/auth",iW="@firebase/database",oW="@firebase/functions",sW="@firebase/installations",aW="@firebase/messaging",uW="@firebase/performance",lW="@firebase/remote-config",cW="@firebase/storage",fW="@firebase/firestore",hW="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt,bv="[DEFAULT]",dW=(Xt={},Xt[cL]="fire-core",Xt[tW]="fire-analytics",Xt[nW]="fire-app-check",Xt[rW]="fire-auth",Xt[iW]="fire-rtdb",Xt[oW]="fire-fn",Xt[sW]="fire-iid",Xt[aW]="fire-fcm",Xt[uW]="fire-perf",Xt[lW]="fire-rc",Xt[cW]="fire-gcs",Xt[fW]="fire-fst",Xt["fire-js"]="fire-js",Xt[hW]="fire-js-all",Xt);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var el=new xl("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vp=function(){function e(t,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=tL(t),this.container=new uL(n.name),this._addComponent(new $n("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return i._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){return n===void 0&&(n=bv),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=bv),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){el.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw _u.create("app-deleted",{appName:this.name_})},e}();Vp.prototype.name&&Vp.prototype.options||Vp.prototype.delete||console.log("dc");var pW="8.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vW(e){var t={},n=new Map,r={__esModule:!0,initializeApp:a,app:s,registerVersion:h,setLogLevel:X6,onLog:p,apps:null,SDK_VERSION:pW,INTERNAL:{registerComponent:c,removeApp:i,components:n,useAsService:v}};r.default=r,Object.defineProperty(r,"apps",{get:l});function i(m){delete t[m]}function s(m){if(m=m||bv,!rr(t,m))throw _u.create("no-app",{appName:m});return t[m]}s.App=e;function a(m,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var w=y;y={name:w}}var b=y;b.name===void 0&&(b.name=bv);var S=b.name;if(typeof S!="string"||!S)throw _u.create("bad-app-name",{appName:String(S)});if(rr(t,S))throw _u.create("duplicate-app",{appName:S});var I=new e(m,b,r);return t[S]=I,I}function l(){return Object.keys(t).map(function(m){return t[m]})}function c(m){var y=m.name;if(n.has(y))return el.debug("There were multiple attempts to register component "+y+"."),m.type==="PUBLIC"?r[y]:null;if(n.set(y,m),m.type==="PUBLIC"){var w=function(T){if(T===void 0&&(T=s()),typeof T[y]!="function")throw _u.create("invalid-app-argument",{appName:y});return T[y]()};m.serviceProps!==void 0&&$f(w,m.serviceProps),r[y]=w,e.prototype[y]=function(){for(var T=[],C=0;C<arguments.length;C++)T[C]=arguments[C];var P=this._getService.bind(this,y);return P.apply(this,m.multipleInstances?T:[])}}for(var b=0,S=Object.keys(t);b<S.length;b++){var I=S[b];t[I]._addComponent(m)}return m.type==="PUBLIC"?r[y]:null}function h(m,y,w){var b,S=(b=dW[m])!==null&&b!==void 0?b:m;w&&(S+="-"+w);var I=S.match(/\s|\//),T=y.match(/\s|\//);if(I||T){var C=['Unable to register library "'+S+'" with version "'+y+'":'];I&&C.push('library name "'+S+'" contains illegal characters (whitespace or "/")'),I&&T&&C.push("and"),T&&C.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),el.warn(C.join(" "));return}c(new $n(S+"-version",function(){return{library:S,version:y}},"VERSION"))}function p(m,y){if(m!==null&&typeof m!="function")throw _u.create("invalid-log-argument");J6(m,y)}function v(m,y){if(y==="serverAuth")return null;var w=y;return w}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(){var e=vW(Vp);e.INTERNAL=Me(Me({},e.INTERNAL),{createFirebaseNamespace:fL,extendNamespace:t,createSubscribe:U6,ErrorFactory:as,deepExtend:$f});function t(n){$f(e,n)}return e}var II=fL();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gW=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(mW(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function mW(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yW(e,t){e.INTERNAL.registerComponent(new $n("platform-logger",function(n){return new gW(n)},"PRIVATE")),e.registerVersion(cL,eW,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(k6()&&self.firebase!==void 0){el.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var YA=self.firebase.SDK_VERSION;YA&&YA.indexOf("LITE")>=0&&el.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var _W=II.initializeApp;II.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return C6()&&el.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),_W.apply(void 0,e)};var Z=II;yW(Z);(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){o!=Array.prototype&&o!=Object.prototype&&(o[u]=f.value)};function n(o){o=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,o];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}return globalThis}var r=n(this);function i(o,u){if(u){var f=r;o=o.split(".");for(var d=0;d<o.length-1;d++){var g=o[d];g in f||(f[g]={}),f=f[g]}o=o[o.length-1],d=f[o],u=u(d),u!=d&&u!=null&&t(f,o,{configurable:!0,writable:!0,value:u})}}function s(o){var u=0;return function(){return u<o.length?{done:!1,value:o[u++]}:{done:!0}}}function a(o){var u=typeof Symbol<"u"&&Symbol.iterator&&o[Symbol.iterator];return u?u.call(o):{next:s(o)}}i("Promise",function(o){function u(E){this.b=0,this.c=void 0,this.a=[];var k=this.f();try{E(k.resolve,k.reject)}catch(L){k.reject(L)}}function f(){this.a=null}function d(E){return E instanceof u?E:new u(function(k){k(E)})}if(o)return o;f.prototype.b=function(E){if(this.a==null){this.a=[];var k=this;this.c(function(){k.g()})}this.a.push(E)};var g=r.setTimeout;f.prototype.c=function(E){g(E,0)},f.prototype.g=function(){for(;this.a&&this.a.length;){var E=this.a;this.a=[];for(var k=0;k<E.length;++k){var L=E[k];E[k]=null;try{L()}catch(F){this.f(F)}}}this.a=null},f.prototype.f=function(E){this.c(function(){throw E})},u.prototype.f=function(){function E(F){return function(ie){L||(L=!0,F.call(k,ie))}}var k=this,L=!1;return{resolve:E(this.m),reject:E(this.g)}},u.prototype.m=function(E){if(E===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(E instanceof u)this.s(E);else{e:switch(typeof E){case"object":var k=E!=null;break e;case"function":k=!0;break e;default:k=!1}k?this.v(E):this.h(E)}},u.prototype.v=function(E){var k=void 0;try{k=E.then}catch(L){this.g(L);return}typeof k=="function"?this.u(k,E):this.h(E)},u.prototype.g=function(E){this.i(2,E)},u.prototype.h=function(E){this.i(1,E)},u.prototype.i=function(E,k){if(this.b!=0)throw Error("Cannot settle("+E+", "+k+"): Promise already settled in state"+this.b);this.b=E,this.c=k,this.l()},u.prototype.l=function(){if(this.a!=null){for(var E=0;E<this.a.length;++E)_.b(this.a[E]);this.a=null}};var _=new f;return u.prototype.s=function(E){var k=this.f();E.Qa(k.resolve,k.reject)},u.prototype.u=function(E,k){var L=this.f();try{E.call(k,L.resolve,L.reject)}catch(F){L.reject(F)}},u.prototype.then=function(E,k){function L(Se,Nt){return typeof Se=="function"?function(xi){try{F(Se(xi))}catch(o_){ie(o_)}}:Nt}var F,ie,Re=new u(function(Se,Nt){F=Se,ie=Nt});return this.Qa(L(E,F),L(k,ie)),Re},u.prototype.catch=function(E){return this.then(void 0,E)},u.prototype.Qa=function(E,k){function L(){switch(F.b){case 1:E(F.c);break;case 2:k(F.c);break;default:throw Error("Unexpected state: "+F.b)}}var F=this;this.a==null?_.b(L):this.a.push(L)},u.resolve=d,u.reject=function(E){return new u(function(k,L){L(E)})},u.race=function(E){return new u(function(k,L){for(var F=a(E),ie=F.next();!ie.done;ie=F.next())d(ie.value).Qa(k,L)})},u.all=function(E){var k=a(E),L=k.next();return L.done?d([]):new u(function(F,ie){function Re(xi){return function(o_){Se[xi]=o_,Nt--,Nt==0&&F(Se)}}var Se=[],Nt=0;do Se.push(void 0),Nt++,d(L.value).Qa(Re(Se.length-1),ie),L=k.next();while(!L.done)})},u});var l=l||{},c=this||self,h=/^[\w+/_-]+[=]{0,2}$/,p=null;function v(o){return(o=o.querySelector&&o.querySelector("script[nonce]"))&&(o=o.nonce||o.getAttribute("nonce"))&&h.test(o)?o:""}function m(){}function y(o){var u=typeof o;return u!="object"?u:o?Array.isArray(o)?"array":u:"null"}function w(o){var u=y(o);return u=="array"||u=="object"&&typeof o.length=="number"}function b(o){return y(o)=="function"}function S(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function I(o){return Object.prototype.hasOwnProperty.call(o,T)&&o[T]||(o[T]=++C)}var T="closure_uid_"+(1e9*Math.random()>>>0),C=0;function P(o,u,f){return o.call.apply(o.bind,arguments)}function D(o,u,f){if(!o)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,d),o.apply(u,g)}}return function(){return o.apply(u,arguments)}}function O(o,u,f){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?O=P:O=D,O.apply(null,arguments)}function B(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var d=f.slice();return d.push.apply(d,arguments),o.apply(this,d)}}function M(o,u){function f(){}f.prototype=u.prototype,o.ab=u.prototype,o.prototype=new f,o.prototype.constructor=o}function ae(o){return o}function A(o,u,f){this.code=Rr+o,this.message=u||ps[o]||"",this.a=f||null}M(A,Error),A.prototype.w=function(){var o={code:this.code,message:this.message};return this.a&&(o.serverResponse=this.a),o},A.prototype.toJSON=function(){return this.w()};function Ft(o){var u=o&&o.code;return u?new A(u.substring(Rr.length),o.message,o.serverResponse):null}var Rr="auth/",ps={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Ba={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function vs(o){for(var u in Ba)if(Ba[u].id===o)return o=Ba[u],{firebaseEndpoint:o.Ta,secureTokenEndpoint:o.Za,identityPlatformEndpoint:o.Wa};return null}var ki;ki=vs("__EID__")?"__EID__":void 0;function $a(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function W(o){if(Error.captureStackTrace)Error.captureStackTrace(this,W);else{var u=Error().stack;u&&(this.stack=u)}o&&(this.message=String(o))}M(W,Error),W.prototype.name="CustomError";function oe(o,u){o=o.split("%s");for(var f="",d=o.length-1,g=0;g<d;g++)f+=o[g]+(g<u.length?u[g]:"%s");W.call(this,f+o[d])}M(oe,W),oe.prototype.name="AssertionError";function se(o,u){throw new oe("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}function Ve(o,u){this.c=o,this.f=u,this.b=0,this.a=null}Ve.prototype.get=function(){if(0<this.b){this.b--;var o=this.a;this.a=o.next,o.next=null}else o=this.c();return o};function ot(o,u){o.f(u),100>o.b&&(o.b++,u.next=o.a,o.a=u)}function gs(){this.b=this.a=null}var ei=new Ve(function(){return new Pr},function(o){o.reset()});gs.prototype.add=function(o,u){var f=ei.get();f.set(o,u),this.b?this.b.next=f:this.a=f,this.b=f};function Yl(){var o=p1,u=null;return o.a&&(u=o.a,o.a=o.a.next,o.a||(o.b=null),u.next=null),u}function Pr(){this.next=this.b=this.a=null}Pr.prototype.set=function(o,u){this.a=o,this.b=u,this.next=null},Pr.prototype.reset=function(){this.next=this.b=this.a=null};var ms=Array.prototype.indexOf?function(o,u){return Array.prototype.indexOf.call(o,u,void 0)}:function(o,u){if(typeof o=="string")return typeof u!="string"||u.length!=1?-1:o.indexOf(u,0);for(var f=0;f<o.length;f++)if(f in o&&o[f]===u)return f;return-1},Qe=Array.prototype.forEach?function(o,u,f){Array.prototype.forEach.call(o,u,f)}:function(o,u,f){for(var d=o.length,g=typeof o=="string"?o.split(""):o,_=0;_<d;_++)_ in g&&u.call(f,g[_],_,o)};function $4(o,u){for(var f=typeof o=="string"?o.split(""):o,d=o.length-1;0<=d;--d)d in f&&u.call(void 0,f[d],d,o)}var q4=Array.prototype.filter?function(o,u){return Array.prototype.filter.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=[],g=0,_=typeof o=="string"?o.split(""):o,E=0;E<f;E++)if(E in _){var k=_[E];u.call(void 0,k,E,o)&&(d[g++]=k)}return d},Qh=Array.prototype.map?function(o,u){return Array.prototype.map.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=Array(f),g=typeof o=="string"?o.split(""):o,_=0;_<f;_++)_ in g&&(d[_]=u.call(void 0,g[_],_,o));return d},z4=Array.prototype.some?function(o,u){return Array.prototype.some.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=typeof o=="string"?o.split(""):o,g=0;g<f;g++)if(g in d&&u.call(void 0,d[g],g,o))return!0;return!1};function W4(o){e:{for(var u=Tj,f=o.length,d=typeof o=="string"?o.split(""):o,g=0;g<f;g++)if(g in d&&u.call(void 0,d[g],g,o)){u=g;break e}u=-1}return 0>u?null:typeof o=="string"?o.charAt(u):o[u]}function Ni(o,u){return 0<=ms(o,u)}function Yh(o,u){u=ms(o,u);var f;return(f=0<=u)&&Array.prototype.splice.call(o,u,1),f}function Or(o,u){var f=0;$4(o,function(d,g){u.call(void 0,d,g,o)&&Array.prototype.splice.call(o,g,1).length==1&&f++})}function Om(o){return Array.prototype.concat.apply([],arguments)}function ys(o){var u=o.length;if(0<u){for(var f=Array(u),d=0;d<u;d++)f[d]=o[d];return f}return[]}var qS=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},K4=/&/g,H4=/</g,G4=/>/g,Q4=/"/g,Y4=/'/g,X4=/\x00/g,J4=/[\x00&<>"']/;function Fe(o,u){return o.indexOf(u)!=-1}function xm(o,u){return o<u?-1:o>u?1:0}var qa;e:{var zS=c.navigator;if(zS){var WS=zS.userAgent;if(WS){qa=WS;break e}}qa=""}function yt(o){return Fe(qa,o)}function KS(o,u){for(var f in o)u.call(void 0,o[f],f,o)}function _s(o){for(var u in o)return!1;return!0}function io(o){var u={},f;for(f in o)u[f]=o[f];return u}var HS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Cn(o,u){for(var f,d,g=1;g<arguments.length;g++){d=arguments[g];for(f in d)o[f]=d[f];for(var _=0;_<HS.length;_++)f=HS[_],Object.prototype.hasOwnProperty.call(d,f)&&(o[f]=d[f])}}function GS(o,u){e:{try{var f=o&&o.ownerDocument,d=f&&(f.defaultView||f.parentWindow);if(d=d||c,d.Element&&d.Location){var g=d;break e}}catch{}g=null}if(g&&typeof g[u]<"u"&&(!o||!(o instanceof g[u])&&(o instanceof g.Location||o instanceof g.Element))){if(S(o))try{var _=o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o)}catch{_="<object could not be stringified>"}else _=o===void 0?"undefined":o===null?"null":typeof o;se("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,_)}}function ti(o,u){this.a=o===Xh&&u||"",this.b=QS}ti.prototype.sa=!0,ti.prototype.ra=function(){return this.a},ti.prototype.toString=function(){return"Const{"+this.a+"}"};function Dm(o){return o instanceof ti&&o.constructor===ti&&o.b===QS?o.a:(se("expected object of type Const, got '"+o+"'"),"type_error:Const")}var QS={},Xh={},Jh;function YS(){if(Jh===void 0){var o=null,u=c.trustedTypes;if(u&&u.createPolicy){try{o=u.createPolicy("goog#html",{createHTML:ae,createScript:ae,createScriptURL:ae})}catch(f){c.console&&c.console.error(f.message)}Jh=o}else Jh=o}return Jh}function za(o,u){this.a=u===JS?o:""}za.prototype.sa=!0,za.prototype.ra=function(){return this.a.toString()},za.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function XS(o){return o instanceof za&&o.constructor===za?o.a:(se("expected object of type TrustedResourceUrl, got '"+o+"' of type "+y(o)),"type_error:TrustedResourceUrl")}function Lm(o,u){var f=Dm(o);if(!e3.test(f))throw Error("Invalid TrustedResourceUrl format: "+f);return o=f.replace(Z4,function(d,g){if(!Object.prototype.hasOwnProperty.call(u,g))throw Error('Found marker, "'+g+'", in format string, "'+f+'", but no valid label mapping found in args: '+JSON.stringify(u));return d=u[g],d instanceof ti?Dm(d):encodeURIComponent(String(d))}),t3(o)}var Z4=/%{(\w+)}/g,e3=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,JS={};function t3(o){var u=YS();return o=u?u.createScriptURL(o):o,new za(o,JS)}function kn(o,u){this.a=u===Xl?o:""}kn.prototype.sa=!0,kn.prototype.ra=function(){return this.a.toString()},kn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Zh(o){return o instanceof kn&&o.constructor===kn?o.a:(se("expected object of type SafeUrl, got '"+o+"' of type "+y(o)),"type_error:SafeUrl")}var n3=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,r3=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,ZS=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function e1(o){if(o instanceof kn)return o;if(o=typeof o=="object"&&o.sa?o.ra():String(o),ZS.test(o))o=new kn(o,Xl);else{o=String(o),o=o.replace(/(%0A|%0D)/g,"");var u=o.match(r3);o=u&&n3.test(u[1])?new kn(o,Xl):null}return o}function t1(o){return o instanceof kn?o:(o=typeof o=="object"&&o.sa?o.ra():String(o),ZS.test(o)||(o="about:invalid#zClosurez"),new kn(o,Xl))}var Xl={},n1=new kn("about:invalid#zClosurez",Xl);function Wa(o,u,f){this.a=f===r1?o:""}Wa.prototype.sa=!0,Wa.prototype.ra=function(){return this.a.toString()},Wa.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function i3(o){return o instanceof Wa&&o.constructor===Wa?o.a:(se("expected object of type SafeHtml, got '"+o+"' of type "+y(o)),"type_error:SafeHtml")}var r1={};function o3(o,u){GS(o,"HTMLScriptElement"),o.src=XS(u),(u=o.ownerDocument&&o.ownerDocument.defaultView)&&u!=c?u=v(u.document):(p===null&&(p=v(c.document)),u=p),u&&o.setAttribute("nonce",u)}function i1(o,u,f,d){return o=o instanceof kn?o:t1(o),u=u||c,f=f instanceof ti?Dm(f):f||"",u.open(Zh(o),f,d,void 0)}function o1(o,u){for(var f=o.split("%s"),d="",g=Array.prototype.slice.call(arguments,1);g.length&&1<f.length;)d+=f.shift()+g.shift();return d+f.join("%s")}function Mm(o){return J4.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(K4,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(H4,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(G4,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(Q4,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(Y4,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(X4,"&#0;"))),o}function Fm(o){return Fm[" "](o),o}Fm[" "]=m;function s3(o,u){var f=c3;return Object.prototype.hasOwnProperty.call(f,o)?f[o]:f[o]=u(o)}var a3=yt("Opera"),xr=yt("Trident")||yt("MSIE"),s1=yt("Edge"),u3=s1||xr,a1=yt("Gecko")&&!(Fe(qa.toLowerCase(),"webkit")&&!yt("Edge"))&&!(yt("Trident")||yt("MSIE"))&&!yt("Edge"),l3=Fe(qa.toLowerCase(),"webkit")&&!yt("Edge");function u1(){var o=c.document;return o?o.documentMode:void 0}var ed;e:{var Um="",jm=function(){var o=qa;if(a1)return/rv:([^\);]+)(\)|;)/.exec(o);if(s1)return/Edge\/([\d\.]+)/.exec(o);if(xr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(l3)return/WebKit\/(\S+)/.exec(o);if(a3)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(jm&&(Um=jm?jm[1]:""),xr){var Vm=u1();if(Vm!=null&&Vm>parseFloat(Um)){ed=String(Vm);break e}}ed=Um}var c3={};function l1(o){return s3(o,function(){for(var u=0,f=qS(String(ed)).split("."),d=qS(String(o)).split("."),g=Math.max(f.length,d.length),_=0;u==0&&_<g;_++){var E=f[_]||"",k=d[_]||"";do{if(E=/(\d*)(\D*)(.*)/.exec(E)||["","","",""],k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""],E[0].length==0&&k[0].length==0)break;u=xm(E[1].length==0?0:parseInt(E[1],10),k[1].length==0?0:parseInt(k[1],10))||xm(E[2].length==0,k[2].length==0)||xm(E[2],k[2]),E=E[3],k=k[3]}while(u==0)}return 0<=u})}var Bm;if(c.document&&xr){var c1=u1();Bm=c1||parseInt(ed,10)||void 0}else Bm=void 0;var oo=Bm;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var f3=!xr||9<=Number(oo);function Jl(o){var u=document;return typeof o=="string"?u.getElementById(o):o}function f1(o,u){KS(u,function(f,d){f&&typeof f=="object"&&f.sa&&(f=f.ra()),d=="style"?o.style.cssText=f:d=="class"?o.className=f:d=="for"?o.htmlFor=f:h1.hasOwnProperty(d)?o.setAttribute(h1[d],f):d.lastIndexOf("aria-",0)==0||d.lastIndexOf("data-",0)==0?o.setAttribute(d,f):o[d]=f})}var h1={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function h3(o,u,f){var d=arguments,g=document,_=String(d[0]),E=d[1];if(!f3&&E&&(E.name||E.type)){if(_=["<",_],E.name&&_.push(' name="',Mm(E.name),'"'),E.type){_.push(' type="',Mm(E.type),'"');var k={};Cn(k,E),delete k.type,E=k}_.push(">"),_=_.join("")}return _=td(g,_),E&&(typeof E=="string"?_.className=E:Array.isArray(E)?_.className=E.join(" "):f1(_,E)),2<d.length&&d3(g,_,d),_}function d3(o,u,f){function d(k){k&&u.appendChild(typeof k=="string"?o.createTextNode(k):k)}for(var g=2;g<f.length;g++){var _=f[g];if(!w(_)||S(_)&&0<_.nodeType)d(_);else{e:{if(_&&typeof _.length=="number"){if(S(_)){var E=typeof _.item=="function"||typeof _.item=="string";break e}if(b(_)){E=typeof _.item=="function";break e}}E=!1}Qe(E?ys(_):_,d)}}}function td(o,u){return u=String(u),o.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),o.createElement(u)}function d1(o){c.setTimeout(function(){throw o},0)}var $m;function p3(){var o=c.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!yt("Presto")&&(o=function(){var g=td(document,"IFRAME");g.style.display="none",document.documentElement.appendChild(g);var _=g.contentWindow;g=_.document,g.open(),g.close();var E="callImmediate"+Math.random(),k=_.location.protocol=="file:"?"*":_.location.protocol+"//"+_.location.host;g=O(function(L){(k=="*"||L.origin==k)&&L.data==E&&this.port1.onmessage()},this),_.addEventListener("message",g,!1),this.port1={},this.port2={postMessage:function(){_.postMessage(E,k)}}}),typeof o<"u"&&!yt("Trident")&&!yt("MSIE")){var u=new o,f={},d=f;return u.port1.onmessage=function(){if(f.next!==void 0){f=f.next;var g=f.Gb;f.Gb=null,g()}},function(g){d.next={Gb:g},d=d.next,u.port2.postMessage(0)}}return function(g){c.setTimeout(g,0)}}function nd(o,u){rd||v3(),qm||(rd(),qm=!0),p1.add(o,u)}var rd;function v3(){if(c.Promise&&c.Promise.resolve){var o=c.Promise.resolve(void 0);rd=function(){o.then(v1)}}else rd=function(){var u=v1;!b(c.setImmediate)||c.Window&&c.Window.prototype&&!yt("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?($m||($m=p3()),$m(u)):c.setImmediate(u)}}var qm=!1,p1=new gs;function v1(){for(var o;o=Yl();){try{o.a.call(o.b)}catch(u){d1(u)}ot(ei,o)}qm=!1}function ye(o,u){if(this.a=ws,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,o!=m)try{var f=this;o.call(u,function(d){Es(f,Zl,d)},function(d){if(!(d instanceof Ka))try{throw d instanceof Error?d:Error("Promise rejected.")}catch{}Es(f,Ai,d)})}catch(d){Es(this,Ai,d)}}var ws=0,Zl=2,Ai=3;function g1(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}g1.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var m1=new Ve(function(){return new g1},function(o){o.reset()});function zm(o,u,f){var d=m1.get();return d.g=o,d.b=u,d.f=f,d}function te(o){if(o instanceof ye)return o;var u=new ye(m);return Es(u,Zl,o),u}function ze(o){return new ye(function(u,f){f(o)})}function y1(o,u,f){b1(o,u,f,null)||nd(B(u,o))}function g3(o){return new ye(function(u,f){var d=o.length,g=[];if(d)for(var _=function(F,ie){d--,g[F]=ie,d==0&&u(g)},E=function(F){f(F)},k=0,L;k<o.length;k++)L=o[k],y1(L,B(_,k),E);else u(g)})}function _1(o){return new ye(function(u){var f=o.length,d=[];if(f)for(var g=function(k,L,F){f--,d[k]=L?{Pb:!0,value:F}:{Pb:!1,reason:F},f==0&&u(d)},_=0,E;_<o.length;_++)E=o[_],y1(E,B(g,_,!0),B(g,_,!1));else u(d)})}ye.prototype.then=function(o,u,f){return E1(this,b(o)?o:null,b(u)?u:null,f)},ye.prototype.$goog_Thenable=!0,e=ye.prototype,e.oa=function(o,u){return o=zm(o,o,u),o.c=!0,Wm(this,o),this},e.o=function(o,u){return E1(this,null,o,u)},e.cancel=function(o){if(this.a==ws){var u=new Ka(o);nd(function(){w1(this,u)},this)}};function w1(o,u){if(o.a==ws)if(o.c){var f=o.c;if(f.b){for(var d=0,g=null,_=null,E=f.b;E&&(E.c||(d++,E.a==o&&(g=E),!(g&&1<d)));E=E.next)g||(_=E);g&&(f.a==ws&&d==1?w1(f,u):(_?(d=_,d.next==f.f&&(f.f=d),d.next=d.next.next):T1(f),S1(f,g,Ai,u)))}o.c=null}else Es(o,Ai,u)}function Wm(o,u){o.b||o.a!=Zl&&o.a!=Ai||I1(o),o.f?o.f.next=u:o.b=u,o.f=u}function E1(o,u,f,d){var g=zm(null,null,null);return g.a=new ye(function(_,E){g.g=u?function(k){try{var L=u.call(d,k);_(L)}catch(F){E(F)}}:_,g.b=f?function(k){try{var L=f.call(d,k);L===void 0&&k instanceof Ka?E(k):_(L)}catch(F){E(F)}}:E}),g.a.c=o,Wm(o,g),g.a}e.$c=function(o){this.a=ws,Es(this,Zl,o)},e.ad=function(o){this.a=ws,Es(this,Ai,o)};function Es(o,u,f){o.a==ws&&(o===f&&(u=Ai,f=new TypeError("Promise cannot resolve to itself")),o.a=1,b1(f,o.$c,o.ad,o)||(o.i=f,o.a=u,o.c=null,I1(o),u!=Ai||f instanceof Ka||y3(o,f)))}function b1(o,u,f,d){if(o instanceof ye)return Wm(o,zm(u||m,f||null,d)),!0;if($a(o))return o.then(u,f,d),!0;if(S(o))try{var g=o.then;if(b(g))return m3(o,g,u,f,d),!0}catch(_){return f.call(d,_),!0}return!1}function m3(o,u,f,d,g){function _(L){k||(k=!0,d.call(g,L))}function E(L){k||(k=!0,f.call(g,L))}var k=!1;try{u.call(o,E,_)}catch(L){_(L)}}function I1(o){o.h||(o.h=!0,nd(o.gc,o))}function T1(o){var u=null;return o.b&&(u=o.b,o.b=u.next,u.next=null),o.b||(o.f=null),u}e.gc=function(){for(var o;o=T1(this);)S1(this,o,this.a,this.i);this.h=!1};function S1(o,u,f,d){if(f==Ai&&u.b&&!u.c)for(;o&&o.g;o=o.c)o.g=!1;if(u.a)u.a.c=null,C1(u,f,d);else try{u.c?u.g.call(u.f):C1(u,f,d)}catch(g){k1.call(null,g)}ot(m1,u)}function C1(o,u,f){u==Zl?o.g.call(o.f,f):o.b&&o.b.call(o.f,f)}function y3(o,u){o.g=!0,nd(function(){o.g&&k1.call(null,u)})}var k1=d1;function Ka(o){W.call(this,o)}M(Ka,W),Ka.prototype.name="cancel";function id(){this.xa=this.xa,this.pa=this.pa}var _3=0;id.prototype.xa=!1;function N1(o){!o.xa&&(o.xa=!0,o.Da(),_3!=0)&&I(o)}id.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var w3=Object.freeze||function(o){return o},A1=!xr||9<=Number(oo),E3=xr&&!l1("9"),b3=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{c.addEventListener("test",m,u),c.removeEventListener("test",m,u)}catch{}return o}();function Nn(o,u){this.type=o,this.b=this.target=u,this.defaultPrevented=!1}Nn.prototype.preventDefault=function(){this.defaultPrevented=!0};function bs(o,u){if(Nn.call(this,o?o.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var f=this.type=o.type,d=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.b=u,u=o.relatedTarget){if(a1){e:{try{Fm(u.nodeName);var g=!0;break e}catch{}g=!1}g||(u=null)}}else f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement);this.relatedTarget=u,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:I3[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}M(bs,Nn);var I3=w3({2:"touch",3:"pen",4:"mouse"});bs.prototype.preventDefault=function(){bs.ab.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,E3)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}},bs.prototype.g=function(){return this.a};var ec="closure_listenable_"+(1e6*Math.random()|0),T3=0;function S3(o,u,f,d,g){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!d,this.Va=g,this.key=++T3,this.va=this.Pa=!1}function od(o){o.va=!0,o.listener=null,o.proxy=null,o.src=null,o.Va=null}function sd(o){this.src=o,this.a={},this.b=0}sd.prototype.add=function(o,u,f,d,g){var _=o.toString();o=this.a[_],o||(o=this.a[_]=[],this.b++);var E=Hm(o,u,d,g);return-1<E?(u=o[E],f||(u.Pa=!1)):(u=new S3(u,this.src,_,!!d,g),u.Pa=f,o.push(u)),u};function Km(o,u){var f=u.type;f in o.a&&Yh(o.a[f],u)&&(od(u),o.a[f].length==0&&(delete o.a[f],o.b--))}function Hm(o,u,f,d){for(var g=0;g<o.length;++g){var _=o[g];if(!_.va&&_.listener==u&&_.capture==!!f&&_.Va==d)return g}return-1}var Gm="closure_lm_"+(1e6*Math.random()|0),Qm={};function lr(o,u,f,d,g){if(d&&d.once)Ym(o,u,f,d,g);else if(Array.isArray(u))for(var _=0;_<u.length;_++)lr(o,u[_],f,d,g);else f=Jm(f),o&&o[ec]?L1(o,u,f,S(d)?!!d.capture:!!d,g):R1(o,u,f,!1,d,g)}function R1(o,u,f,d,g,_){if(!u)throw Error("Invalid event type");var E=S(g)?!!g.capture:!!g,k=ad(o);if(k||(o[Gm]=k=new sd(o)),f=k.add(u,f,d,E,_),!f.proxy)if(d=C3(),f.proxy=d,d.src=o,d.listener=f,o.addEventListener)b3||(g=E),g===void 0&&(g=!1),o.addEventListener(u.toString(),d,g);else if(o.attachEvent)o.attachEvent(O1(u.toString()),d);else if(o.addListener&&o.removeListener)o.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.")}function C3(){var o=k3,u=A1?function(f){return o.call(u.src,u.listener,f)}:function(f){if(f=o.call(u.src,u.listener,f),!f)return f};return u}function Ym(o,u,f,d,g){if(Array.isArray(u))for(var _=0;_<u.length;_++)Ym(o,u[_],f,d,g);else f=Jm(f),o&&o[ec]?Zm(o,u,f,S(d)?!!d.capture:!!d,g):R1(o,u,f,!0,d,g)}function zn(o,u,f,d,g){if(Array.isArray(u))for(var _=0;_<u.length;_++)zn(o,u[_],f,d,g);else d=S(d)?!!d.capture:!!d,f=Jm(f),o&&o[ec]?(o=o.v,u=String(u).toString(),u in o.a&&(_=o.a[u],f=Hm(_,f,d,g),-1<f&&(od(_[f]),Array.prototype.splice.call(_,f,1),_.length==0&&(delete o.a[u],o.b--)))):o&&(o=ad(o))&&(u=o.a[u.toString()],o=-1,u&&(o=Hm(u,f,d,g)),(f=-1<o?u[o]:null)&&P1(f))}function P1(o){if(typeof o!="number"&&o&&!o.va){var u=o.src;if(u&&u[ec])Km(u.v,o);else{var f=o.type,d=o.proxy;u.removeEventListener?u.removeEventListener(f,d,o.capture):u.detachEvent?u.detachEvent(O1(f),d):u.addListener&&u.removeListener&&u.removeListener(d),(f=ad(u))?(Km(f,o),f.b==0&&(f.src=null,u[Gm]=null)):od(o)}}}function O1(o){return o in Qm?Qm[o]:Qm[o]="on"+o}function x1(o,u,f,d){var g=!0;if((o=ad(o))&&(u=o.a[u.toString()]))for(u=u.concat(),o=0;o<u.length;o++){var _=u[o];_&&_.capture==f&&!_.va&&(_=D1(_,d),g=g&&_!==!1)}return g}function D1(o,u){var f=o.listener,d=o.Va||o.src;return o.Pa&&P1(o),f.call(d,u)}function k3(o,u){if(o.va)return!0;if(!A1){if(!u)e:{u=["window","event"];for(var f=c,d=0;d<u.length;d++)if(f=f[u[d]],f==null){u=null;break e}u=f}if(d=u,u=new bs(d,this),f=!0,!(0>d.keyCode||d.returnValue!=null)){e:{var g=!1;if(d.keyCode==0)try{d.keyCode=-1;break e}catch{g=!0}(g||d.returnValue==null)&&(d.returnValue=!0)}for(d=[],g=u.b;g;g=g.parentNode)d.push(g);for(o=o.type,g=d.length-1;0<=g;g--){u.b=d[g];var _=x1(d[g],o,!0,u);f=f&&_}for(g=0;g<d.length;g++)u.b=d[g],_=x1(d[g],o,!1,u),f=f&&_}return f}return D1(o,new bs(u,this))}function ad(o){return o=o[Gm],o instanceof sd?o:null}var Xm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jm(o){return b(o)?o:(o[Xm]||(o[Xm]=function(u){return o.handleEvent(u)}),o[Xm])}function ln(){id.call(this),this.v=new sd(this),this.ac=this,this.gb=null}M(ln,id),ln.prototype[ec]=!0,ln.prototype.addEventListener=function(o,u,f,d){lr(this,o,u,f,d)},ln.prototype.removeEventListener=function(o,u,f,d){zn(this,o,u,f,d)},ln.prototype.dispatchEvent=function(o){var u,f=this.gb;if(f)for(u=[];f;f=f.gb)u.push(f);f=this.ac;var d=o.type||o;if(typeof o=="string")o=new Nn(o,f);else if(o instanceof Nn)o.target=o.target||f;else{var g=o;o=new Nn(d,f),Cn(o,g)}if(g=!0,u)for(var _=u.length-1;0<=_;_--){var E=o.b=u[_];g=ud(E,d,!0,o)&&g}if(E=o.b=f,g=ud(E,d,!0,o)&&g,g=ud(E,d,!1,o)&&g,u)for(_=0;_<u.length;_++)E=o.b=u[_],g=ud(E,d,!1,o)&&g;return g},ln.prototype.Da=function(){if(ln.ab.Da.call(this),this.v){var o=this.v,u;for(u in o.a){for(var f=o.a[u],d=0;d<f.length;d++)od(f[d]);delete o.a[u],o.b--}}this.gb=null};function L1(o,u,f,d,g){o.v.add(String(u),f,!1,d,g)}function Zm(o,u,f,d,g){o.v.add(String(u),f,!0,d,g)}function ud(o,u,f,d){if(u=o.v.a[String(u)],!u)return!0;u=u.concat();for(var g=!0,_=0;_<u.length;++_){var E=u[_];if(E&&!E.va&&E.capture==f){var k=E.listener,L=E.Va||E.src;E.Pa&&Km(o.v,E),g=k.call(L,d)!==!1&&g}}return g&&!d.defaultPrevented}function ey(o,u,f){if(b(o))f&&(o=O(o,f));else if(o&&typeof o.handleEvent=="function")o=O(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(o,u||0)}function Ha(o){var u=null;return new ye(function(f,d){u=ey(function(){f(void 0)},o),u==-1&&d(Error("Failed to schedule timer."))}).o(function(f){throw c.clearTimeout(u),f})}function M1(o){if(o.W&&typeof o.W=="function")return o.W();if(typeof o=="string")return o.split("");if(w(o)){for(var u=[],f=o.length,d=0;d<f;d++)u.push(o[d]);return u}u=[],f=0;for(d in o)u[f++]=o[d];return u}function F1(o){if(o.Y&&typeof o.Y=="function")return o.Y();if(!o.W||typeof o.W!="function"){if(w(o)||typeof o=="string"){var u=[];o=o.length;for(var f=0;f<o;f++)u.push(f);return u}u=[],f=0;for(var d in o)u[f++]=d;return u}}function N3(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(w(o)||typeof o=="string")Qe(o,u,void 0);else for(var f=F1(o),d=M1(o),g=d.length,_=0;_<g;_++)u.call(void 0,d[_],f&&f[_],o)}function Ga(o,u){this.b={},this.a=[],this.c=0;var f=arguments.length;if(1<f){if(f%2)throw Error("Uneven number of arguments");for(var d=0;d<f;d+=2)this.set(arguments[d],arguments[d+1])}else if(o)if(o instanceof Ga)for(f=o.Y(),d=0;d<f.length;d++)this.set(f[d],o.get(f[d]));else for(d in o)this.set(d,o[d])}e=Ga.prototype,e.W=function(){ty(this);for(var o=[],u=0;u<this.a.length;u++)o.push(this.b[this.a[u]]);return o},e.Y=function(){return ty(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function ty(o){if(o.c!=o.a.length){for(var u=0,f=0;u<o.a.length;){var d=o.a[u];Is(o.b,d)&&(o.a[f++]=d),u++}o.a.length=f}if(o.c!=o.a.length){var g={};for(f=u=0;u<o.a.length;)d=o.a[u],Is(g,d)||(o.a[f++]=d,g[d]=1),u++;o.a.length=f}}e.get=function(o,u){return Is(this.b,o)?this.b[o]:u},e.set=function(o,u){Is(this.b,o)||(this.c++,this.a.push(o)),this.b[o]=u},e.forEach=function(o,u){for(var f=this.Y(),d=0;d<f.length;d++){var g=f[d],_=this.get(g);o.call(u,_,g,this)}};function Is(o,u){return Object.prototype.hasOwnProperty.call(o,u)}var U1=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function A3(o,u){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var d=o[f].indexOf("="),g=null;if(0<=d){var _=o[f].substring(0,d);g=o[f].substring(d+1)}else _=o[f];u(_,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}function so(o,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var f;o instanceof so?(this.i=u!==void 0?u:o.i,tc(this,o.c),this.l=o.l,this.a=o.a,nc(this,o.g),this.f=o.f,ny(this,$1(o.b)),this.h=o.h):o&&(f=String(o).match(U1))?(this.i=!!u,tc(this,f[1]||"",!0),this.l=rc(f[2]||""),this.a=rc(f[3]||"",!0),nc(this,f[4]),this.f=rc(f[5]||"",!0),ny(this,f[6]||"",!0),this.h=rc(f[7]||"")):(this.i=!!u,this.b=new Ts(null,this.i))}so.prototype.toString=function(){var o=[],u=this.c;u&&o.push(ic(u,j1,!0),":");var f=this.a;return(f||u=="file")&&(o.push("//"),(u=this.l)&&o.push(ic(u,j1,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.g,f!=null&&o.push(":",String(f))),(f=this.f)&&(this.a&&f.charAt(0)!="/"&&o.push("/"),o.push(ic(f,f.charAt(0)=="/"?O3:P3,!0))),(f=this.b.toString())&&o.push("?",f),(f=this.h)&&o.push("#",ic(f,D3)),o.join("")},so.prototype.resolve=function(o){var u=new so(this),f=!!o.c;f?tc(u,o.c):f=!!o.l,f?u.l=o.l:f=!!o.a,f?u.a=o.a:f=o.g!=null;var d=o.f;if(f)nc(u,o.g);else if(f=!!o.f){if(d.charAt(0)!="/")if(this.a&&!this.f)d="/"+d;else{var g=u.f.lastIndexOf("/");g!=-1&&(d=u.f.substr(0,g+1)+d)}if(g=d,g==".."||g==".")d="";else if(Fe(g,"./")||Fe(g,"/.")){d=g.lastIndexOf("/",0)==0,g=g.split("/");for(var _=[],E=0;E<g.length;){var k=g[E++];k=="."?d&&E==g.length&&_.push(""):k==".."?((1<_.length||_.length==1&&_[0]!="")&&_.pop(),d&&E==g.length&&_.push("")):(_.push(k),d=!0)}d=_.join("/")}else d=g}return f?u.f=d:f=o.b.toString()!=="",f?ny(u,$1(o.b)):f=!!o.h,f&&(u.h=o.h),u};function tc(o,u,f){o.c=f?rc(u,!0):u,o.c&&(o.c=o.c.replace(/:$/,""))}function nc(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.g=u}else o.g=null}function ny(o,u,f){u instanceof Ts?(o.b=u,L3(o.b,o.i)):(f||(u=ic(u,x3)),o.b=new Ts(u,o.i))}function st(o,u,f){o.b.set(u,f)}function cr(o,u){return o.b.get(u)}function An(o){return o instanceof so?new so(o):new so(o,void 0)}function ld(o,u,f,d){var g=new so(null,void 0);return o&&tc(g,o),u&&(g.a=u),f&&nc(g,f),d&&(g.f=d),g}function rc(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function ic(o,u,f){return typeof o=="string"?(o=encodeURI(o).replace(u,R3),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function R3(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var j1=/[#\/\?@]/g,P3=/[#\?:]/g,O3=/[#\?]/g,x3=/[#\?@]/g,D3=/#/g;function Ts(o,u){this.b=this.a=null,this.c=o||null,this.f=!!u}function ao(o){o.a||(o.a=new Ga,o.b=0,o.c&&A3(o.c,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}function V1(o){var u=F1(o);if(typeof u>"u")throw Error("Keys are undefined");var f=new Ts(null,void 0);o=M1(o);for(var d=0;d<u.length;d++){var g=u[d],_=o[d];Array.isArray(_)?B1(f,g,_):f.add(g,_)}return f}e=Ts.prototype,e.add=function(o,u){ao(this),this.c=null,o=Qa(this,o);var f=this.a.get(o);return f||this.a.set(o,f=[]),f.push(u),this.b+=1,this};function ni(o,u){ao(o),u=Qa(o,u),Is(o.a.b,u)&&(o.c=null,o.b-=o.a.get(u).length,o=o.a,Is(o.b,u)&&(delete o.b[u],o.c--,o.a.length>2*o.c&&ty(o)))}e.clear=function(){this.a=this.c=null,this.b=0};function ry(o,u){return ao(o),u=Qa(o,u),Is(o.a.b,u)}e.forEach=function(o,u){ao(this),this.a.forEach(function(f,d){Qe(f,function(g){o.call(u,g,d,this)},this)},this)},e.Y=function(){ao(this);for(var o=this.a.W(),u=this.a.Y(),f=[],d=0;d<u.length;d++)for(var g=o[d],_=0;_<g.length;_++)f.push(u[d]);return f},e.W=function(o){ao(this);var u=[];if(typeof o=="string")ry(this,o)&&(u=Om(u,this.a.get(Qa(this,o))));else{o=this.a.W();for(var f=0;f<o.length;f++)u=Om(u,o[f])}return u},e.set=function(o,u){return ao(this),this.c=null,o=Qa(this,o),ry(this,o)&&(this.b-=this.a.get(o).length),this.a.set(o,[u]),this.b+=1,this},e.get=function(o,u){return o?(o=this.W(o),0<o.length?String(o[0]):u):u};function B1(o,u,f){ni(o,u),0<f.length&&(o.c=null,o.a.set(Qa(o,u),ys(f)),o.b+=f.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var o=[],u=this.a.Y(),f=0;f<u.length;f++){var d=u[f],g=encodeURIComponent(String(d));d=this.W(d);for(var _=0;_<d.length;_++){var E=g;d[_]!==""&&(E+="="+encodeURIComponent(String(d[_]))),o.push(E)}}return this.c=o.join("&")};function $1(o){var u=new Ts;return u.c=o.c,o.a&&(u.a=new Ga(o.a),u.b=o.b),u}function Qa(o,u){return u=String(u),o.f&&(u=u.toLowerCase()),u}function L3(o,u){u&&!o.f&&(ao(o),o.c=null,o.a.forEach(function(f,d){var g=d.toLowerCase();d!=g&&(ni(this,d),B1(this,g,f))},o)),o.f=u}function q1(o){var u=[];return iy(new M3,o,u),u.join("")}function M3(){}function iy(o,u,f){if(u==null)f.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var d=u;u=d.length,f.push("[");for(var g="",_=0;_<u;_++)f.push(g),iy(o,d[_],f),g=",";f.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{f.push("{"),g="";for(d in u)Object.prototype.hasOwnProperty.call(u,d)&&(_=u[d],typeof _!="function"&&(f.push(g),W1(d,f),f.push(":"),iy(o,_,f),g=","));f.push("}");return}}switch(typeof u){case"string":W1(u,f);break;case"number":f.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":f.push(String(u));break;case"function":f.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var z1={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},F3=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function W1(o,u){u.push('"',o.replace(F3,function(f){var d=z1[f];return d||(d="\\u"+(f.charCodeAt(0)|65536).toString(16).substr(1),z1[f]=d),d}),'"')}function oy(){var o=Ut();return xr&&!!oo&&oo==11||/Edge\/\d+/.test(o)}function oc(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function K1(o,u){u=u||c.window;var f="about:blank";o&&(f=Zh(e1(o)||n1)),u.location.href=f}function H1(o,u){var f=[],d;for(d in o)d in u?typeof o[d]!=typeof u[d]?f.push(d):typeof o[d]=="object"&&o[d]!=null&&u[d]!=null?0<H1(o[d],u[d]).length&&f.push(d):o[d]!==u[d]&&f.push(d):f.push(d);for(d in u)d in o||f.push(d);return f}function U3(){var o=Ut();return o=Ya(o)!=X1?null:(o=o.match(/\sChrome\/(\d+)/i))&&o.length==2?parseInt(o[1],10):null,o&&30>o?!1:!xr||!oo||9<oo}function G1(o){return o=(o||Ut()).toLowerCase(),!!(o.match(/android/)||o.match(/webos/)||o.match(/iphone|ipad|ipod/)||o.match(/blackberry/)||o.match(/windows phone/)||o.match(/iemobile/))}function Ss(o){o=o||c.window;try{o.close()}catch{}}function Q1(o,u,f){var d=Math.floor(1e9*Math.random()).toString();u=u||500,f=f||600;var g=(window.screen.availHeight-f)/2,_=(window.screen.availWidth-u)/2;u={width:u,height:f,top:0<g?g:0,left:0<_?_:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},f=Ut().toLowerCase(),d&&(u.target=d,Fe(f,"crios/")&&(u.target="_blank")),Ya(Ut())==uy&&(o=o||"http://localhost",u.scrollbars=!0),f=o||"",(o=u)||(o={}),d=window,u=f instanceof kn?f:e1(typeof f.href<"u"?f.href:String(f))||n1,f=o.target||f.target,g=[];for(E in o)switch(E){case"width":case"height":case"top":case"left":g.push(E+"="+o[E]);break;case"target":case"noopener":case"noreferrer":break;default:g.push(E+"="+(o[E]?1:0))}var E=g.join(",");if((yt("iPhone")&&!yt("iPod")&&!yt("iPad")||yt("iPad")||yt("iPod"))&&d.navigator&&d.navigator.standalone&&f&&f!="_self"?(E=td(document,"A"),GS(E,"HTMLAnchorElement"),u=u instanceof kn?u:t1(u),E.href=Zh(u),E.setAttribute("target",f),o.noreferrer&&E.setAttribute("rel","noreferrer"),o=document.createEvent("MouseEvent"),o.initMouseEvent("click",!0,!0,d,1),E.dispatchEvent(o),E={}):o.noreferrer?(E=i1("",d,f,E),o=Zh(u),E&&(u3&&Fe(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),E.opener=null,o='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Mm(o)+'">',o=(d=YS())?d.createHTML(o):o,o=new Wa(o,null,r1),d=E.document)&&(d.write(i3(o)),d.close())):(E=i1(u,d,f,E))&&o.noopener&&(E.opener=null),E)try{E.focus()}catch{}return E}function j3(o){return new ye(function(u){function f(){Ha(2e3).then(function(){if(!o||o.closed)u();else return f()})}return f()})}var V3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,B3=/^[^@]+@[^@]+$/;function cd(){var o=null;return new ye(function(u){c.document.readyState=="complete"?u():(o=function(){u()},Ym(window,"load",o))}).o(function(u){throw zn(window,"load",o),u})}function $3(){return sy(void 0)?cd().then(function(){return new ye(function(o,u){var f=c.document,d=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);f.addEventListener("deviceready",function(){clearTimeout(d),o()},!1)})}):ze(Error("Cordova must run in an Android or iOS file scheme."))}function sy(o){return o=o||Ut(),!(Ja()!=="file:"&&Ja()!=="ionic:"||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function ay(){var o=c.window;try{return!(!o||o==o.top)}catch{return!1}}function Dr(){return typeof c.WorkerGlobalScope<"u"&&typeof c.importScripts=="function"}function ri(){return Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Z.INTERNAL.hasOwnProperty("node")?"Node":Dr()?"Worker":"Browser"}function Y1(){var o=ri();return o==="ReactNative"||o==="Node"}function q3(){for(var o=50,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}var uy="Firefox",X1="Chrome";function Ya(o){var u=o.toLowerCase();if(Fe(u,"opera/")||Fe(u,"opr/")||Fe(u,"opios/"))return"Opera";if(Fe(u,"iemobile"))return"IEMobile";if(Fe(u,"msie")||Fe(u,"trident/"))return"IE";if(Fe(u,"edge/"))return"Edge";if(Fe(u,"firefox/"))return uy;if(Fe(u,"silk/"))return"Silk";if(Fe(u,"blackberry"))return"Blackberry";if(Fe(u,"webos"))return"Webos";if(!Fe(u,"safari/")||Fe(u,"chrome/")||Fe(u,"crios/")||Fe(u,"android"))if(!Fe(u,"chrome/")&&!Fe(u,"crios/")||Fe(u,"edge/")){if(Fe(u,"android"))return"Android";if((o=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&o.length==2)return o[1]}else return X1;else return"Safari";return"Other"}var J1={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Xa(o,u){u=u||[];var f=[],d={},g;for(g in J1)d[J1[g]]=!0;for(g=0;g<u.length;g++)typeof d[u[g]]<"u"&&(delete d[u[g]],f.push(u[g]));return f.sort(),u=f,u.length||(u=["FirebaseCore-web"]),f=ri(),f==="Browser"?(d=Ut(),f=Ya(d)):f==="Worker"&&(d=Ut(),f=Ya(d)+"-"+f),f+"/JsCore/"+o+"/"+u.join(",")}function Ut(){return c.navigator&&c.navigator.userAgent||""}function We(o,u){o=o.split("."),u=u||c;for(var f=0;f<o.length&&typeof u=="object"&&u!=null;f++)u=u[o[f]];return f!=o.length&&(u=void 0),u}function ly(){try{var o=c.localStorage,u=ks();if(o)return o.setItem(u,"1"),o.removeItem(u),oy()?!!c.indexedDB:!0}catch{return Dr()&&!!c.indexedDB}return!1}function Cs(){return(fd()||Ja()==="chrome-extension:"||sy())&&!Y1()&&ly()&&!Dr()}function fd(){return Ja()==="http:"||Ja()==="https:"}function Ja(){return c.location&&c.location.protocol||null}function sc(o){return o=o||Ut(),!(G1(o)||Ya(o)==uy)}function ac(o){return typeof o>"u"?null:q1(o)}function Z1(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&o[f]!==null&&o[f]!==void 0&&(u[f]=o[f]);return u}function Za(o){if(o!==null)return JSON.parse(o)}function ks(o){return o||Math.floor(1e9*Math.random()).toString()}function eC(o){return o=o||Ut(),!(Ya(o)=="Safari"||o.toLowerCase().match(/iphone|ipad|ipod/))}function tC(){var o=c.___jsl;if(o&&o.H){for(var u in o.H)if(o.H[u].r=o.H[u].r||[],o.H[u].L=o.H[u].L||[],o.H[u].r=o.H[u].L.concat(),o.CP)for(var f=0;f<o.CP.length;f++)o.CP[f]=null}}function uo(o,u){if(o>u)throw Error("Short delay should be less than long delay!");this.a=o,this.c=u,o=Ut(),u=ri(),this.b=G1(o)||u==="ReactNative"}uo.prototype.get=function(){var o=c.navigator;return!(o&&typeof o.onLine=="boolean"&&(fd()||Ja()==="chrome-extension:"||typeof o.connection<"u"))||o.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function cy(){var o=c.document;return o&&typeof o.visibilityState<"u"?o.visibilityState=="visible":!0}function z3(){var o=c.document,u=null;return cy()||!o?te():new ye(function(f){u=function(){cy()&&(o.removeEventListener("visibilitychange",u,!1),f())},o.addEventListener("visibilitychange",u,!1)}).o(function(f){throw o.removeEventListener("visibilitychange",u,!1),f})}function uc(o){try{var u=new Date(parseInt(o,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(o))return u.toUTCString()}catch{}return null}function nC(){return!(!We("fireauth.oauthhelper",c)&&!We("fireauth.iframe",c))}function W3(){var o=c.navigator;return o&&o.serviceWorker&&o.serviceWorker.controller||null}function K3(){var o=c.navigator;return o&&o.serviceWorker?te().then(function(){return o.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):te(null)}var rC={};function fy(o){rC[o]||(rC[o]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(o))}var hy;try{var dy={};Object.defineProperty(dy,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(dy,"abcd",{configurable:!0,enumerable:!0,value:2}),hy=dy.abcd==2}catch{hy=!1}function Y(o,u,f){hy?Object.defineProperty(o,u,{configurable:!0,enumerable:!0,value:f}):o[u]=f}function cn(o,u){if(u)for(var f in u)u.hasOwnProperty(f)&&Y(o,f,u[f])}function ii(o){var u={};return cn(u,o),u}function H3(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&(u[f]=o[f]);return u}function G3(o,u){if(!u||!u.length)return!0;if(!o)return!1;for(var f=0;f<u.length;f++){var d=o[u[f]];if(d==null||d==="")return!1}return!0}function py(o){var u=o;if(typeof o=="object"&&o!=null){u="length"in o?[]:{};for(var f in o)Y(u,f,py(o[f]))}return u}function vy(o){var u=o&&(o[_y]?"phone":null);if(u&&o&&o[yy]){Y(this,"uid",o[yy]),Y(this,"displayName",o[iC]||null);var f=null;o[my]&&(f=new Date(o[my]).toUTCString()),Y(this,"enrollmentTime",f),Y(this,"factorId",u)}else throw new A("internal-error","Internal assert: invalid MultiFactorInfo object")}vy.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function gy(o){try{var u=new lc(o)}catch{u=null}return u}var iC="displayName",my="enrolledAt",yy="mfaEnrollmentId",_y="phoneInfo";function lc(o){vy.call(this,o),Y(this,"phoneNumber",o[_y])}M(lc,vy),lc.prototype.w=function(){var o=lc.ab.w.call(this);return o.phoneNumber=this.phoneNumber,o};function Q3(o){var u={},f=o[Y3],d=o[J3],g=o[Z3];if(o=gy(o[X3]),!g||g!=hd&&g!=cc&&!f||g==cc&&!d||g==wy&&!o)throw Error("Invalid checkActionCode response!");g==cc?(u[sC]=f||null,u[aC]=f||null,u[oC]=d):(u[sC]=d||null,u[aC]=d||null,u[oC]=f||null),u[ej]=o||null,Y(this,nj,g),Y(this,tj,py(u))}var wy="REVERT_SECOND_FACTOR_ADDITION",hd="EMAIL_SIGNIN",cc="VERIFY_AND_CHANGE_EMAIL",Y3="email",X3="mfaInfo",J3="newEmail",Z3="requestType",oC="email",sC="fromEmail",ej="multiFactorInfo",aC="previousEmail",tj="data",nj="operation";function Ey(o){o=An(o);var u=cr(o,uC)||null,f=cr(o,lC)||null,d=cr(o,cC)||null;if(d=d&&sj[d]||null,!u||!f||!d)throw new A("argument-error",uC+", "+lC+"and "+cC+" are required in a valid action code URL.");cn(this,{apiKey:u,operation:d,code:f,continueUrl:cr(o,rj)||null,languageCode:cr(o,ij)||null,tenantId:cr(o,oj)||null})}var uC="apiKey",lC="oobCode",rj="continueUrl",ij="languageCode",cC="mode",oj="tenantId",sj={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:wy,signIn:hd,verifyAndChangeEmail:cc,verifyEmail:"VERIFY_EMAIL"};function fC(o){try{return new Ey(o)}catch{return null}}function dd(o){var u=o[aj];if(typeof u>"u")throw new A("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new A("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var f=o[hC];if(f&&typeof f=="object"){u=f[mC];var d=f[vC];if(f=f[gC],typeof u=="string"&&u.length){if(this.a=u,typeof d<"u"&&typeof d!="boolean")throw new A("argument-error",vC+" property must be a boolean when specified.");if(this.g=!!d,typeof f<"u"&&(typeof f!="string"||typeof f=="string"&&!f.length))throw new A("argument-error",gC+" property must be a non empty string when specified.");this.b=f||null}else{if(typeof u<"u")throw new A("argument-error",mC+" property must be a non empty string when specified.");if(typeof d<"u"||typeof f<"u")throw new A("missing-android-pkg-name")}}else if(typeof f<"u")throw new A("argument-error",hC+" property must be a non null object when specified.");if(this.f=null,(u=o[pC])&&typeof u=="object"){if(u=u[yC],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new A("argument-error",yC+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new A("argument-error",pC+" property must be a non null object when specified.");if(u=o[by],typeof u<"u"&&typeof u!="boolean")throw new A("argument-error",by+" property must be a boolean when specified.");if(this.c=!!u,o=o[dC],typeof o<"u"&&(typeof o!="string"||typeof o=="string"&&!o.length))throw new A("argument-error",dC+" property must be a non empty string when specified.");this.i=o||null}var hC="android",dC="dynamicLinkDomain",by="handleCodeInApp",pC="iOS",aj="url",vC="installApp",gC="minimumVersion",mC="packageName",yC="bundleId";function pd(o){var u={};u.continueUrl=o.h,u.canHandleCodeInApp=o.c,(u.androidPackageName=o.a)&&(u.androidMinimumVersion=o.b,u.androidInstallApp=o.g),u.iOSBundleId=o.f,u.dynamicLinkDomain=o.i;for(var f in u)u[f]===null&&delete u[f];return u}function uj(o){return Qh(o,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var fc=null;function lj(o){var u=[];return cj(o,function(f){u.push(f)}),u}function cj(o,u){function f(L){for(;d<o.length;){var F=o.charAt(d++),ie=fc[F];if(ie!=null)return ie;if(!/^[\s\xa0]*$/.test(F))throw Error("Unknown base64 encoding at char: "+F)}return L}fj();for(var d=0;;){var g=f(-1),_=f(0),E=f(64),k=f(64);if(k===64&&g===-1)break;u(g<<2|_>>4),E!=64&&(u(_<<4&240|E>>2),k!=64&&u(E<<6&192|k))}}function fj(){if(!fc){fc={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],f=0;5>f;f++)for(var d=o.concat(u[f].split("")),g=0;g<d.length;g++){var _=d[g];fc[_]===void 0&&(fc[_]=g)}}}function vd(o){var u=_C(o);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=o,this.a=u.exp,this.i=u.sub,o=Date.now()/1e3,this.g=u.iat||(o>this.a?this.a:o),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}vd.prototype.T=function(){return this.f},vd.prototype.l=function(){return this.c},vd.prototype.toString=function(){return this.h};function gd(o){try{return new vd(o)}catch{return null}}function _C(o){if(!o||(o=o.split("."),o.length!=3))return null;o=o[1];for(var u=(4-o.length%4)%4,f=0;f<u;f++)o+=".";try{var d=lj(o);for(o=[],f=u=0;u<d.length;){var g=d[u++];if(128>g)o[f++]=String.fromCharCode(g);else if(191<g&&224>g){var _=d[u++];o[f++]=String.fromCharCode((g&31)<<6|_&63)}else if(239<g&&365>g){_=d[u++];var E=d[u++],k=d[u++],L=((g&7)<<18|(_&63)<<12|(E&63)<<6|k&63)-65536;o[f++]=String.fromCharCode(55296+(L>>10)),o[f++]=String.fromCharCode(56320+(L&1023))}else _=d[u++],E=d[u++],o[f++]=String.fromCharCode((g&15)<<12|(_&63)<<6|E&63)}return JSON.parse(o.join(""))}catch{}return null}var wC="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),md=["client_id","response_type","scope","redirect_uri","state"],Iy={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:md},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:md},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:md},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:wC},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Ty(o){for(var u in Iy)if(Iy[u].fa==o)return Iy[u];return null}function EC(o){var u={};u["facebook.com"]=IC,u["google.com"]=SC,u["github.com"]=TC,u["twitter.com"]=CC;var f=o&&o[bC];try{if(f)return u[f]?new u[f](o):new oi(o);if(typeof o[Sy]<"u")return new Cy(o)}catch{}return null}var Sy="idToken",bC="providerId";function Cy(o){var u=o[bC];if(!u&&o[Sy]){var f=gd(o[Sy]);f&&f.b&&(u=f.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),f=!1,typeof o.isNewUser<"u"?f=!!o.isNewUser:o.kind==="identitytoolkit#SignupNewUserResponse"&&(f=!0),Y(this,"providerId",u),Y(this,"isNewUser",f)}function oi(o){Cy.call(this,o),o=Za(o.rawUserInfo||"{}"),Y(this,"profile",py(o||{}))}M(oi,Cy);function IC(o){if(oi.call(this,o),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}M(IC,oi);function TC(o){if(oi.call(this,o),this.providerId!="github.com")throw Error("Invalid provider ID!");Y(this,"username",this.profile&&this.profile.login||null)}M(TC,oi);function SC(o){if(oi.call(this,o),this.providerId!="google.com")throw Error("Invalid provider ID!")}M(SC,oi);function CC(o){if(oi.call(this,o),this.providerId!="twitter.com")throw Error("Invalid provider ID!");Y(this,"username",o.screenName||null)}M(CC,oi);function kC(o){var u=An(o),f=cr(u,"link"),d=cr(An(f),"link");return u=cr(u,"deep_link_id"),cr(An(u),"link")||u||d||f||o}function yd(o,u){if(!o&&!u)throw new A("internal-error","Internal assert: no raw session string available");if(o&&u)throw new A("internal-error","Internal assert: unable to determine the session type");this.a=o||null,this.b=u||null,this.type=this.a?hc:_d}var hc="enroll",_d="signin";yd.prototype.Ha=function(){return this.a?te(this.a):te(this.b)},yd.prototype.w=function(){return this.type==hc?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function eu(){}eu.prototype.ka=function(){},eu.prototype.b=function(){},eu.prototype.c=function(){},eu.prototype.w=function(){};function tu(o,u){return o.then(function(f){if(f[Fr]){var d=gd(f[Fr]);if(!d||u!=d.i)throw new A("user-mismatch");return f}throw new A("user-mismatch")}).o(function(f){throw f&&f.code&&f.code==Rr+"user-not-found"?new A("user-mismatch"):f})}function Ns(o,u){if(u)this.a=u;else throw new A("internal-error","failed to construct a credential");Y(this,"providerId",o),Y(this,"signInMethod",o)}Ns.prototype.ka=function(o){return Yy(o,ky(this))},Ns.prototype.b=function(o,u){var f=ky(this);return f.idToken=u,Xy(o,f)},Ns.prototype.c=function(o,u){return tu(Jy(o,ky(this)),u)};function ky(o){return{pendingToken:o.a,requestUri:"http://localhost"}}Ns.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function hj(o){if(o&&o.providerId&&o.signInMethod&&o.providerId.indexOf("saml.")==0&&o.pendingToken)try{return new Ns(o.providerId,o.pendingToken)}catch{}return null}function Ri(o,u,f){if(this.a=null,u.idToken||u.accessToken)u.idToken&&Y(this,"idToken",u.idToken),u.accessToken&&Y(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&Y(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)Y(this,"accessToken",u.oauthToken),Y(this,"secret",u.oauthTokenSecret);else throw new A("internal-error","failed to construct a credential");Y(this,"providerId",o),Y(this,"signInMethod",f)}Ri.prototype.ka=function(o){return Yy(o,Ny(this))},Ri.prototype.b=function(o,u){var f=Ny(this);return f.idToken=u,Xy(o,f)},Ri.prototype.c=function(o,u){var f=Ny(this);return tu(Jy(o,f),u)};function Ny(o){var u={};return o.idToken&&(u.id_token=o.idToken),o.accessToken&&(u.access_token=o.accessToken),o.secret&&(u.oauth_token_secret=o.secret),u.providerId=o.providerId,o.nonce&&!o.a&&(u.nonce=o.nonce),u={postBody:V1(u).toString(),requestUri:"http://localhost"},o.a&&(delete u.postBody,u.pendingToken=o.a),u}Ri.prototype.w=function(){var o={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(o.oauthIdToken=this.idToken),this.accessToken&&(o.oauthAccessToken=this.accessToken),this.secret&&(o.oauthTokenSecret=this.secret),this.nonce&&(o.nonce=this.nonce),this.a&&(o.pendingToken=this.a),o};function dj(o){if(o&&o.providerId&&o.signInMethod){var u={idToken:o.oauthIdToken,accessToken:o.oauthTokenSecret?null:o.oauthAccessToken,oauthTokenSecret:o.oauthTokenSecret,oauthToken:o.oauthTokenSecret&&o.oauthAccessToken,nonce:o.nonce,pendingToken:o.pendingToken};try{return new Ri(o.providerId,u,o.signInMethod)}catch{}}return null}function As(o,u){this.Qc=u||[],cn(this,{providerId:o,isOAuthProvider:!0}),this.Ib={},this.pb=(Ty(o)||{}).Ja||null,this.ob=null}As.prototype.Ka=function(o){return this.Ib=io(o),this};function NC(o){if(typeof o!="string"||o.indexOf("saml.")!=0)throw new A("argument-error",'SAML provider IDs must be prefixed with "saml."');As.call(this,o,[])}M(NC,As);function Wn(o){As.call(this,o,md),this.a=[]}M(Wn,As),Wn.prototype.Ca=function(o){return Ni(this.a,o)||this.a.push(o),this},Wn.prototype.Qb=function(){return ys(this.a)},Wn.prototype.credential=function(o,u){var f;if(S(o)?f={idToken:o.idToken||null,accessToken:o.accessToken||null,nonce:o.rawNonce||null}:f={idToken:o||null,accessToken:u||null},!f.idToken&&!f.accessToken)throw new A("argument-error","credential failed: must provide the ID token and/or the access token.");return new Ri(this.providerId,f,this.providerId)};function Rs(){Wn.call(this,"facebook.com")}M(Rs,Wn),Y(Rs,"PROVIDER_ID","facebook.com"),Y(Rs,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function AC(o){if(!o)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return S(o)&&(u=o.accessToken),new Rs().credential({accessToken:u})}function Ps(){Wn.call(this,"github.com")}M(Ps,Wn),Y(Ps,"PROVIDER_ID","github.com"),Y(Ps,"GITHUB_SIGN_IN_METHOD","github.com");function RC(o){if(!o)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return S(o)&&(u=o.accessToken),new Ps().credential({accessToken:u})}function Os(){Wn.call(this,"google.com"),this.Ca("profile")}M(Os,Wn),Y(Os,"PROVIDER_ID","google.com"),Y(Os,"GOOGLE_SIGN_IN_METHOD","google.com");function PC(o,u){var f=o;return S(o)&&(f=o.idToken,u=o.accessToken),new Os().credential({idToken:f,accessToken:u})}function nu(){As.call(this,"twitter.com",wC)}M(nu,As),Y(nu,"PROVIDER_ID","twitter.com"),Y(nu,"TWITTER_SIGN_IN_METHOD","twitter.com");function OC(o,u){var f=o;if(S(f)||(f={oauthToken:o,oauthTokenSecret:u}),!f.oauthToken||!f.oauthTokenSecret)throw new A("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Ri("twitter.com",f,"twitter.com")}function lo(o,u,f){this.a=o,this.f=u,Y(this,"providerId","password"),Y(this,"signInMethod",f===fr.EMAIL_LINK_SIGN_IN_METHOD?fr.EMAIL_LINK_SIGN_IN_METHOD:fr.EMAIL_PASSWORD_SIGN_IN_METHOD)}lo.prototype.ka=function(o){return this.signInMethod==fr.EMAIL_LINK_SIGN_IN_METHOD?_e(o,Xj,{email:this.a,oobCode:this.f}):_e(o,sk,{email:this.a,password:this.f})},lo.prototype.b=function(o,u){return this.signInMethod==fr.EMAIL_LINK_SIGN_IN_METHOD?_e(o,Jj,{idToken:u,email:this.a,oobCode:this.f}):_e(o,ok,{idToken:u,email:this.a,password:this.f})},lo.prototype.c=function(o,u){return tu(this.ka(o),u)},lo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function pj(o){return o&&o.email&&o.password?new lo(o.email,o.password,o.signInMethod):null}function fr(){cn(this,{providerId:"password",isOAuthProvider:!1})}function xC(o,u){if(u=Ay(u),!u)throw new A("argument-error","Invalid email link!");return new lo(o,u.code,fr.EMAIL_LINK_SIGN_IN_METHOD)}function Ay(o){return o=kC(o),(o=fC(o))&&o.operation===hd?o:null}cn(fr,{PROVIDER_ID:"password"}),cn(fr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),cn(fr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function co(o){if(!(o.eb&&o.cb||o.La&&o.ea))throw new A("internal-error");this.a=o,Y(this,"providerId","phone"),this.fa="phone",Y(this,"signInMethod","phone")}co.prototype.ka=function(o){return o.fb(dc(this))},co.prototype.b=function(o,u){var f=dc(this);return f.idToken=u,_e(o,yV,f)},co.prototype.c=function(o,u){var f=dc(this);return f.operation="REAUTH",o=_e(o,_V,f),tu(o,u)},co.prototype.w=function(){var o={providerId:"phone"};return this.a.eb&&(o.verificationId=this.a.eb),this.a.cb&&(o.verificationCode=this.a.cb),this.a.La&&(o.temporaryProof=this.a.La),this.a.ea&&(o.phoneNumber=this.a.ea),o};function vj(o){if(o&&o.providerId==="phone"&&(o.verificationId&&o.verificationCode||o.temporaryProof&&o.phoneNumber)){var u={};return Qe(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(f){o[f]&&(u[f]=o[f])}),new co(u)}return null}function dc(o){return o.a.La&&o.a.ea?{temporaryProof:o.a.La,phoneNumber:o.a.ea}:{sessionInfo:o.a.eb,code:o.a.cb}}function Pi(o){try{this.a=o||Z.auth()}catch{throw new A("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}cn(this,{providerId:"phone",isOAuthProvider:!1})}Pi.prototype.fb=function(o,u){var f=this.a.a;return te(u.verify()).then(function(d){if(typeof d!="string")throw new A("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var g=S(o)?o.session:null,_=S(o)?o.phoneNumber:o,E;return g&&g.type==hc?E=g.Ha().then(function(k){return $j(f,{idToken:k,phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:d}})}):g&&g.type==_d?E=g.Ha().then(function(k){return qj(f,{mfaPendingCredential:k,mfaEnrollmentId:o.multiFactorHint&&o.multiFactorHint.uid||o.multiFactorUid,phoneSignInInfo:{recaptchaToken:d}})}):E=Bj(f,{phoneNumber:_,recaptchaToken:d}),E.then(function(k){return typeof u.reset=="function"&&u.reset(),k},function(k){throw typeof u.reset=="function"&&u.reset(),k});default:throw new A("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function DC(o,u){if(!o)throw new A("missing-verification-id");if(!u)throw new A("missing-verification-code");return new co({eb:o,cb:u})}cn(Pi,{PROVIDER_ID:"phone"}),cn(Pi,{PHONE_SIGN_IN_METHOD:"phone"});function Ry(o){if(o.temporaryProof&&o.phoneNumber)return new co({La:o.temporaryProof,ea:o.phoneNumber});var u=o&&o.providerId;if(!u||u==="password")return null;var f=o&&o.oauthAccessToken,d=o&&o.oauthTokenSecret,g=o&&o.nonce,_=o&&o.oauthIdToken,E=o&&o.pendingToken;try{switch(u){case"google.com":return PC(_,f);case"facebook.com":return AC(f);case"github.com":return RC(f);case"twitter.com":return OC(f,d);default:return f||d||_||E?E?u.indexOf("saml.")==0?new Ns(u,E):new Ri(u,{pendingToken:E,idToken:o.oauthIdToken,accessToken:o.oauthAccessToken},u):new Wn(u).credential({idToken:_,accessToken:f,rawNonce:g}):null}}catch{return null}}function Py(o){if(!o.isOAuthProvider)throw new A("invalid-oauth-provider")}function Lr(o,u,f,d,g,_,E){if(this.c=o,this.b=u||null,this.g=f||null,this.f=d||null,this.i=_||null,this.h=E||null,this.a=g||null,this.g||this.a){if(this.g&&this.a)throw new A("invalid-auth-event");if(this.g&&!this.f)throw new A("invalid-auth-event")}else throw new A("invalid-auth-event")}Lr.prototype.getUid=function(){var o=[];return o.push(this.c),this.b&&o.push(this.b),this.f&&o.push(this.f),this.h&&o.push(this.h),o.join("-")},Lr.prototype.T=function(){return this.h},Lr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function LC(o){return o=o||{},o.type?new Lr(o.type,o.eventId,o.urlResponse,o.sessionId,o.error&&Ft(o.error),o.postBody,o.tenantId):null}function gj(){this.b=null,this.a=[]}var Oy=null;function mj(o){var u=Oy;u.a.push(o),u.b||(u.b=function(f){for(var d=0;d<u.a.length;d++)u.a[d](f)},o=We("universalLinks.subscribe",c),typeof o=="function"&&o(null,u.b))}function xy(o){var u="unauthorized-domain",f=void 0,d=An(o);o=d.a,d=d.c,d=="chrome-extension"?f=o1("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):d=="http"||d=="https"?f=o1("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):u="operation-not-supported-in-this-environment",A.call(this,u,f)}M(xy,A);function pc(o,u,f){A.call(this,o,f),o=u||{},o.Jb&&Y(this,"email",o.Jb),o.ea&&Y(this,"phoneNumber",o.ea),o.credential&&Y(this,"credential",o.credential),o.Zb&&Y(this,"tenantId",o.Zb)}M(pc,A),pc.prototype.w=function(){var o={code:this.code,message:this.message};this.email&&(o.email=this.email),this.phoneNumber&&(o.phoneNumber=this.phoneNumber),this.tenantId&&(o.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&Cn(o,u),o},pc.prototype.toJSON=function(){return this.w()};function wd(o){if(o.code){var u=o.code||"";u.indexOf(Rr)==0&&(u=u.substring(Rr.length));var f={credential:Ry(o),Zb:o.tenantId};if(o.email)f.Jb=o.email;else if(o.phoneNumber)f.ea=o.phoneNumber;else if(!f.credential)return new A(u,o.message||void 0);return new pc(u,f,o.message)}return null}function vc(){}vc.prototype.c=null;function MC(o){return o.c||(o.c=o.b())}var Dy;function Ed(){}M(Ed,vc),Ed.prototype.a=function(){var o=FC(this);return o?new ActiveXObject(o):new XMLHttpRequest},Ed.prototype.b=function(){var o={};return FC(this)&&(o[0]=!0,o[1]=!0),o};function FC(o){if(!o.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],f=0;f<u.length;f++){var d=u[f];try{return new ActiveXObject(d),o.f=d}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return o.f}Dy=new Ed;function bd(){}M(bd,vc),bd.prototype.a=function(){var o=new XMLHttpRequest;if("withCredentials"in o)return o;if(typeof XDomainRequest<"u")return new UC;throw Error("Unsupported browser")},bd.prototype.b=function(){return{}};function UC(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=O(this.qc,this),this.a.onerror=O(this.Sb,this),this.a.onprogress=O(this.rc,this),this.a.ontimeout=O(this.vc,this)}e=UC.prototype,e.open=function(o,u,f){if(f!=null&&!f)throw Error("Only async requests are supported.");this.a.open(o,u)},e.send=function(o){if(o)if(typeof o=="string")this.a.send(o);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(o){return o.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Ly(this,4)},e.Sb=function(){this.status=500,this.response=this.responseText="",Ly(this,4)},e.vc=function(){this.Sb()},e.rc=function(){this.status=200,Ly(this,1)};function Ly(o,u){o.readyState=u,o.onreadystatechange&&o.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function My(o,u,f){this.reset(o,u,f,void 0,void 0)}My.prototype.a=null,My.prototype.reset=function(o,u,f,d,g){delete this.a};function Fy(o){this.f=o,this.b=this.c=this.a=null}function gc(o,u){this.name=o,this.value=u}gc.prototype.toString=function(){return this.name};var jC=new gc("SEVERE",1e3),Uy=new gc("WARNING",900),yj=new gc("CONFIG",700),_j=new gc("FINE",500);function VC(o){return o.c?o.c:o.a?VC(o.a):(se("Root logger has no level set."),null)}Fy.prototype.log=function(o,u,f){if(o.value>=VC(this).value)for(b(u)&&(u=u()),o=new My(o,String(u),this.f),f&&(o.a=f),f=this;f;)f=f.a};var jy={},Id=null;function Vy(o){Id||(Id=new Fy(""),jy[""]=Id,Id.c=yj);var u;if(!(u=jy[o])){u=new Fy(o);var f=o.lastIndexOf("."),d=o.substr(f+1);f=Vy(o.substr(0,f)),f.b||(f.b={}),f.b[d]=u,u.a=f,jy[o]=u}return u}function hr(o,u){o&&o.log(_j,u,void 0)}function Td(o){this.f=o}M(Td,vc),Td.prototype.a=function(){return new Sd(this.f)},Td.prototype.b=function(o){return function(){return o}}({});function Sd(o){ln.call(this),this.u=o,this.h=void 0,this.readyState=By,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Vy("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}M(Sd,ln);var By=0;e=Sd.prototype,e.open=function(o,u){if(this.readyState!=By)throw this.abort(),Error("Error reopening a connection");this.s=o,this.f=u,this.readyState=1,yc(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};o&&(u.body=o),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Ua.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,mc(this)),this.readyState=By},e.uc=function(o){this.a&&(this.g=o,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=o.headers,this.readyState=2,yc(this)),this.a&&(this.readyState=3,yc(this),this.a&&(this.responseType==="arraybuffer"?o.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):typeof c.ReadableStream<"u"&&"body"in o?(this.response=this.responseText="",this.c=o.body.getReader(),this.m=new TextDecoder,BC(this)):o.text().then(this.tc.bind(this),this.Ua.bind(this)))))};function BC(o){o.c.read().then(o.pc.bind(o)).catch(o.Ua.bind(o))}e.pc=function(o){if(this.a){var u=this.m.decode(o.value?o.value:new Uint8Array(0),{stream:!o.done});u&&(this.response=this.responseText+=u),o.done?mc(this):yc(this),this.readyState==3&&BC(this)}},e.tc=function(o){this.a&&(this.response=this.responseText=o,mc(this))},e.sc=function(o){this.a&&(this.response=o,mc(this))},e.Ua=function(o){var u=this.i;u&&u.log(Uy,"Failed to fetch url "+this.f,o instanceof Error?o:Error(o)),this.a&&mc(this)};function mc(o){o.readyState=4,o.g=null,o.c=null,o.m=null,yc(o)}e.setRequestHeader=function(o,u){this.l.append(o,u)},e.getResponseHeader=function(o){return this.b?this.b.get(o.toLowerCase())||"":((o=this.i)&&o.log(Uy,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var o=this.i;return o&&o.log(Uy,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}o=[];for(var u=this.b.entries(),f=u.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=u.next();return o.join(`\r
`)};function yc(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Sd.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(o){this.h=o?"include":"same-origin"}});function _c(o){ln.call(this),this.headers=new Ga,this.D=o||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=$C,this.u=this.S=!1}M(_c,ln);var $C="";_c.prototype.b=Vy("goog.net.XhrIo");var wj=/^https?$/i,Ej=["POST","PUT"];function bj(o,u,f,d,g){if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+u);f=f?f.toUpperCase():"GET",o.l=u,o.h="",o.R=f,o.J=!1,o.c=!0,o.a=o.D?o.D.a():Dy.a(),o.C=o.D?MC(o.D):MC(Dy),o.a.onreadystatechange=O(o.Vb,o);try{hr(o.b,Oi(o,"Opening Xhr")),o.O=!0,o.a.open(f,String(u),!0),o.O=!1}catch(E){hr(o.b,Oi(o,"Error opening Xhr: "+E.message)),qC(o,E);return}u=d||"";var _=new Ga(o.headers);g&&N3(g,function(E,k){_.set(k,E)}),g=W4(_.Y()),d=c.FormData&&u instanceof c.FormData,!Ni(Ej,f)||g||d||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),_.forEach(function(E,k){this.a.setRequestHeader(k,E)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.S&&(o.a.withCredentials=o.S);try{KC(o),0<o.g&&(o.u=Ij(o.a),hr(o.b,Oi(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.u)),o.u?(o.a.timeout=o.g,o.a.ontimeout=O(o.Ma,o)):o.s=ey(o.Ma,o.g,o)),hr(o.b,Oi(o,"Sending request")),o.i=!0,o.a.send(u),o.i=!1}catch(E){hr(o.b,Oi(o,"Send error: "+E.message)),qC(o,E)}}function Ij(o){return xr&&l1(9)&&typeof o.timeout=="number"&&o.ontimeout!==void 0}function Tj(o){return o.toLowerCase()=="content-type"}e=_c.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",hr(this.b,Oi(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function qC(o,u){o.c=!1,o.a&&(o.f=!0,o.a.abort(),o.f=!1),o.h=u,zC(o),Cd(o)}function zC(o){o.J||(o.J=!0,o.dispatchEvent("complete"),o.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(hr(this.b,Oi(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Cd(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Cd(this,!0)),_c.ab.Da.call(this)},e.Vb=function(){this.xa||(this.O||this.i||this.f?WC(this):this.Jc())},e.Jc=function(){WC(this)};function WC(o){if(o.c&&typeof l<"u"){if(o.C[1]&&wc(o)==4&&kd(o)==2)hr(o.b,Oi(o,"Local request error detected and ignored"));else if(o.i&&wc(o)==4)ey(o.Vb,0,o);else if(o.dispatchEvent("readystatechange"),wc(o)==4){hr(o.b,Oi(o,"Request complete")),o.c=!1;try{var u=kd(o);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var d;if(!(d=f)){var g;if(g=u===0){var _=String(o.l).match(U1)[1]||null;if(!_&&c.self&&c.self.location){var E=c.self.location.protocol;_=E.substr(0,E.length-1)}g=!wj.test(_?_.toLowerCase():"")}d=g}if(d)o.dispatchEvent("complete"),o.dispatchEvent("success");else{try{var k=2<wc(o)?o.a.statusText:""}catch(L){hr(o.b,"Can not get status: "+L.message),k=""}o.h=k+" ["+kd(o)+"]",zC(o)}}finally{Cd(o)}}}}function Cd(o,u){if(o.a){KC(o);var f=o.a,d=o.C[0]?m:null;o.a=null,o.C=null,u||o.dispatchEvent("ready");try{f.onreadystatechange=d}catch(g){(o=o.b)&&o.log(jC,"Problem encountered resetting onreadystatechange: "+g.message,void 0)}}}function KC(o){o.a&&o.u&&(o.a.ontimeout=null),o.s&&(c.clearTimeout(o.s),o.s=null)}function wc(o){return o.a?o.a.readyState:0}function kd(o){try{return 2<wc(o)?o.a.status:-1}catch{return-1}}function Sj(o){try{return o.a?o.a.responseText:""}catch(u){return hr(o.b,"Can not get responseText: "+u.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case $C:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var o=this.b;return o&&o.log(jC,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return hr(this.b,"Can not get response: "+u.message),null}};function Oi(o,u){return u+" ["+o.R+" "+o.l+" "+kd(o)+"]"}function xs(o){var u=Nj;this.g=[],this.u=u,this.s=o||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}xs.prototype.cancel=function(o){if(this.a)this.c instanceof xs&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,o?u.cancel(o):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(o=new bc,Nd(this),Ec(this,!1,o))}},xs.prototype.m=function(o,u){this.i=!1,Ec(this,o,u)};function Ec(o,u,f){o.a=!0,o.c=f,o.f=!u,GC(o)}function Nd(o){if(o.a){if(!o.v)throw new Ad;o.v=!1}}function Cj(o,u){$y(o,null,u,void 0)}function $y(o,u,f,d){o.g.push([u,f,d]),o.a&&GC(o)}xs.prototype.then=function(o,u,f){var d,g,_=new ye(function(E,k){d=E,g=k});return $y(this,d,function(E){E instanceof bc?_.cancel():g(E)}),_.then(o,u,f)},xs.prototype.$goog_Thenable=!0;function HC(o){return z4(o.g,function(u){return b(u[1])})}function GC(o){if(o.h&&o.a&&HC(o)){var u=o.h,f=Rd[u];f&&(c.clearTimeout(f.a),delete Rd[u]),o.h=0}o.b&&(o.b.l--,delete o.b),u=o.c;for(var d=f=!1;o.g.length&&!o.i;){var g=o.g.shift(),_=g[0],E=g[1];if(g=g[2],_=o.f?E:_)try{var k=_.call(g||o.s,u);k!==void 0&&(o.f=o.f&&(k==u||k instanceof Error),o.c=u=k),($a(u)||typeof c.Promise=="function"&&u instanceof c.Promise)&&(d=!0,o.i=!0)}catch(L){u=L,o.f=!0,HC(o)||(f=!0)}}o.c=u,d&&(k=O(o.m,o,!0),d=O(o.m,o,!1),u instanceof xs?($y(u,k,d),u.C=!0):u.then(k,d)),f&&(u=new QC(u),Rd[u.a]=u,o.h=u.a)}function Ad(){W.call(this)}M(Ad,W),Ad.prototype.message="Deferred has already fired",Ad.prototype.name="AlreadyCalledError";function bc(){W.call(this)}M(bc,W),bc.prototype.message="Deferred was canceled",bc.prototype.name="CanceledError";function QC(o){this.a=c.setTimeout(O(this.c,this),0),this.b=o}QC.prototype.c=function(){throw delete Rd[this.a],this.b};var Rd={};function qy(o){var u={},f=u.document||document,d=XS(o).toString(),g=td(document,"SCRIPT"),_={Wb:g,Ma:void 0},E=new xs(_),k=null,L=u.timeout!=null?u.timeout:5e3;return 0<L&&(k=window.setTimeout(function(){Pd(g,!0);var F=new zy(Rj,"Timeout reached for loading script "+d);Nd(E),Ec(E,!1,F)},L),_.Ma=k),g.onload=g.onreadystatechange=function(){g.readyState&&g.readyState!="loaded"&&g.readyState!="complete"||(Pd(g,u.xd||!1,k),Nd(E),Ec(E,!0,null))},g.onerror=function(){Pd(g,!0,k);var F=new zy(Aj,"Error while loading script "+d);Nd(E),Ec(E,!1,F)},_=u.attributes||{},Cn(_,{type:"text/javascript",charset:"UTF-8"}),f1(g,_),o3(g,o),kj(f).appendChild(g),E}function kj(o){var u;return(u=(o||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:o.documentElement}function Nj(){if(this&&this.Wb){var o=this.Wb;o&&o.tagName=="SCRIPT"&&Pd(o,!0,this.Ma)}}function Pd(o,u,f){f!=null&&c.clearTimeout(f),o.onload=m,o.onerror=m,o.onreadystatechange=m,u&&window.setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},0)}var Aj=0,Rj=1;function zy(o,u){var f="Jsloader error (code #"+o+")";u&&(f+=": "+u),W.call(this,f),this.code=o}M(zy,W);function Od(o){this.f=o}M(Od,vc),Od.prototype.a=function(){return new this.f},Od.prototype.b=function(){return{}};function Mr(o,u,f){if(this.c=o,o=u||{},this.l=o.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=o.secureTokenTimeout||Pj,this.g=io(o.secureTokenHeaders||Oj),this.h=o.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=o.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=o.firebaseTimeout||xj,this.a=io(o.firebaseHeaders||Dj),f&&(this.a["X-Client-Version"]=f,this.g["X-Client-Version"]=f),f=ri()=="Node",f=c.XMLHttpRequest||f&&Z.INTERNAL.node&&Z.INTERNAL.node.XMLHttpRequest,!f&&!Dr())throw new A("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Dr()?this.f=new Td(self):Y1()?this.f=new Od(f):this.f=new bd,this.b=null}var Wy,Fr="idToken",Pj=new uo(3e4,6e4),Oj={"Content-Type":"application/x-www-form-urlencoded"},xj=new uo(3e4,6e4),Dj={"Content-Type":"application/json"};function YC(o,u){u?o.a["X-Firebase-Locale"]=u:delete o.a["X-Firebase-Locale"]}function ru(o,u){u&&(o.l=Ky("https://securetoken.googleapis.com/v1/token",u),o.h=Ky("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),o.i=Ky("https://identitytoolkit.googleapis.com/v2/",u))}function Ky(o,u){return o=An(o),u=An(u.url),o.f=o.a+o.f,tc(o,u.c),o.a=u.a,nc(o,u.g),o.toString()}function XC(o,u){u?(o.a["X-Client-Version"]=u,o.g["X-Client-Version"]=u):(delete o.a["X-Client-Version"],delete o.g["X-Client-Version"])}Mr.prototype.T=function(){return this.b};function JC(o,u,f,d,g,_,E){U3()||Dr()?o=O(o.u,o):(Wy||(Wy=new ye(function(k,L){Mj(k,L)})),o=O(o.s,o)),o(u,f,d,g,_,E)}Mr.prototype.u=function(o,u,f,d,g,_){if(Dr()&&(typeof c.fetch>"u"||typeof c.Headers>"u"||typeof c.Request>"u"))throw new A("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var E=new _c(this.f);if(_){E.g=Math.max(0,_);var k=setTimeout(function(){E.dispatchEvent("timeout")},_)}L1(E,"complete",function(){k&&clearTimeout(k);var L=null;try{L=JSON.parse(Sj(this))||null}catch{L=null}u&&u(L)}),Zm(E,"ready",function(){k&&clearTimeout(k),N1(this)}),Zm(E,"timeout",function(){k&&clearTimeout(k),N1(this),u&&u(null)}),bj(E,o,f,d,g)};var Lj=new ti(Xh,"https://apis.google.com/js/client.js?onload=%{onload}"),ZC="__fcb"+Math.floor(1e6*Math.random()).toString();function Mj(o,u){if(((window.gapi||{}).client||{}).request)o();else{c[ZC]=function(){((window.gapi||{}).client||{}).request?o():u(Error("CORS_UNSUPPORTED"))};var f=Lm(Lj,{onload:ZC});Cj(qy(f),function(){u(Error("CORS_UNSUPPORTED"))})}}Mr.prototype.s=function(o,u,f,d,g){var _=this;Wy.then(function(){window.gapi.client.setApiKey(_.c);var E=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:o,method:f,body:d,headers:g,authType:"none",callback:function(k){window.gapi.auth.setToken(E),u&&u(k)}})}).o(function(E){u&&u({error:{message:E&&E.message||"CORS_UNSUPPORTED"}})})};function Fj(o,u){return new ye(function(f,d){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?JC(o,o.l+"?key="+encodeURIComponent(o.c),function(g){g?g.error?d(e0(g)):g.access_token&&g.refresh_token?f(g):d(new A("internal-error")):d(new A("network-request-failed"))},"POST",V1(u).toString(),o.g,o.m.get()):d(new A("internal-error"))})}function ek(o,u,f,d,g,_,E){var k=An(u+f);st(k,"key",o.c),E&&st(k,"cb",Date.now().toString());var L=d=="GET";if(L)for(var F in g)g.hasOwnProperty(F)&&st(k,F,g[F]);return new ye(function(ie,Re){JC(o,k.toString(),function(Se){Se?Se.error?Re(e0(Se,_||{})):ie(Se):Re(new A("network-request-failed"))},d,L?void 0:q1(Z1(g)),o.a,o.v.get())})}function Ds(o){if(o=o.email,typeof o!="string"||!B3.test(o))throw new A("invalid-email")}function tk(o){"email"in o&&Ds(o)}function Uj(o,u){return _e(o,Gj,{identifier:u,continueUri:fd()?oc():"http://localhost"}).then(function(f){return f.signinMethods||[]})}function jj(o){return _e(o,sV,{}).then(function(u){return u.authorizedDomains||[]})}function Rn(o){if(!o[Fr])throw o.mfaPendingCredential?new A("multi-factor-auth-required",null,io(o)):new A("internal-error")}function Hy(o){if(o.phoneNumber||o.temporaryProof){if(!o.phoneNumber||!o.temporaryProof)throw new A("internal-error")}else{if(!o.sessionInfo)throw new A("missing-verification-id");if(!o.code)throw new A("missing-verification-code")}}Mr.prototype.zb=function(){return _e(this,cV,{})},Mr.prototype.Bb=function(o,u){return _e(this,ik,{idToken:o,email:u})},Mr.prototype.Cb=function(o,u){return _e(this,ok,{idToken:o,password:u})};var Vj={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=Mr.prototype,e.Db=function(o,u){var f={idToken:o},d=[];return KS(Vj,function(g,_){var E=u[_];E===null?d.push(g):_ in u&&(f[_]=E)}),d.length&&(f.deleteAttribute=d),_e(this,ik,f)},e.vb=function(o,u){return o={requestType:"PASSWORD_RESET",email:o},Cn(o,u),_e(this,oV,o)},e.wb=function(o,u){return o={requestType:"EMAIL_SIGNIN",email:o},Cn(o,u),_e(this,nV,o)},e.ub=function(o,u){return o={requestType:"VERIFY_EMAIL",idToken:o},Cn(o,u),_e(this,rV,o)},e.Eb=function(o,u,f){return o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:u},Cn(o,f),_e(this,iV,o)};function Bj(o,u){return _e(o,lV,u)}e.fb=function(o){return _e(this,mV,o)};function $j(o,u){return _e(o,fV,u).then(function(f){return f.phoneSessionInfo.sessionInfo})}function nk(o){if(!o.phoneVerificationInfo)throw new A("internal-error");if(!o.phoneVerificationInfo.sessionInfo)throw new A("missing-verification-id");if(!o.phoneVerificationInfo.code)throw new A("missing-verification-code")}function qj(o,u){return _e(o,hV,u).then(function(f){return f.phoneResponseInfo.sessionInfo})}function zj(o,u,f){return _e(o,Yj,{idToken:u,deleteProvider:f})}function Gy(o){if(!o.requestUri||!o.sessionId&&!o.postBody&&!o.pendingToken)throw new A("internal-error")}function Qy(o,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(o.sessionId?u.nonce=o.sessionId:o.postBody&&(o=new Ts(o.postBody),ry(o,"nonce")&&(u.nonce=o.get("nonce")))),u}function rk(o){var u=null;if(o.needConfirmation?(o.code="account-exists-with-different-credential",u=wd(o)):o.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(o.code="credential-already-in-use",u=wd(o)):o.errorMessage=="EMAIL_EXISTS"?(o.code="email-already-in-use",u=wd(o)):o.errorMessage&&(u=ak(o.errorMessage)),u)throw u;Rn(o)}function Yy(o,u){return u.returnIdpCredential=!0,_e(o,dV,u)}function Xy(o,u){return u.returnIdpCredential=!0,_e(o,vV,u)}function Jy(o,u){return u.returnIdpCredential=!0,u.autoCreate=!1,_e(o,pV,u)}function Zy(o){if(!o.oobCode)throw new A("invalid-action-code")}e.nb=function(o,u){return _e(this,uV,{oobCode:o,newPassword:u})},e.Ra=function(o){return _e(this,Kj,{oobCode:o})},e.jb=function(o){return _e(this,Wj,{oobCode:o})};var Wj={endpoint:"setAccountInfo",A:Zy,Z:"email",B:!0},Kj={endpoint:"resetPassword",A:Zy,G:function(o){var u=o.requestType;if(!u||!o.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new A("internal-error")},B:!0},Hj={endpoint:"signupNewUser",A:function(o){if(Ds(o),!o.password)throw new A("weak-password")},G:Rn,V:!0,B:!0},Gj={endpoint:"createAuthUri",B:!0},Qj={endpoint:"deleteAccount",N:["idToken"]},Yj={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(o){if(!Array.isArray(o.deleteProvider))throw new A("internal-error")}},Xj={endpoint:"emailLinkSignin",N:["email","oobCode"],A:Ds,G:Rn,V:!0,B:!0},Jj={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:Ds,G:Rn,V:!0},Zj={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:nk,G:Rn,B:!0,Na:!0},eV={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:nk,G:Rn,B:!0,Na:!0},tV={endpoint:"getAccountInfo"},nV={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(o){if(o.requestType!="EMAIL_SIGNIN")throw new A("internal-error");Ds(o)},Z:"email",B:!0},rV={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(o){if(o.requestType!="VERIFY_EMAIL")throw new A("internal-error")},Z:"email",B:!0},iV={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(o){if(o.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new A("internal-error")},Z:"email",B:!0},oV={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(o){if(o.requestType!="PASSWORD_RESET")throw new A("internal-error");Ds(o)},Z:"email",B:!0},sV={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},aV={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(o){if(!o.recaptchaSiteKey)throw new A("internal-error")}},uV={endpoint:"resetPassword",A:Zy,Z:"email",B:!0},lV={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},ik={endpoint:"setAccountInfo",N:["idToken"],A:tk,V:!0},ok={endpoint:"setAccountInfo",N:["idToken"],A:function(o){if(tk(o),!o.password)throw new A("weak-password")},G:Rn,V:!0},cV={endpoint:"signupNewUser",G:Rn,V:!0,B:!0},fV={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(o){if(!o.phoneEnrollmentInfo)throw new A("internal-error");if(!o.phoneEnrollmentInfo.phoneNumber)throw new A("missing-phone-number");if(!o.phoneEnrollmentInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(o){if(!o.phoneSessionInfo||!o.phoneSessionInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},hV={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(o){if(!o.phoneSignInInfo||!o.phoneSignInInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(o){if(!o.phoneResponseInfo||!o.phoneResponseInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},dV={endpoint:"verifyAssertion",A:Gy,Ya:Qy,G:rk,V:!0,B:!0},pV={endpoint:"verifyAssertion",A:Gy,Ya:Qy,G:function(o){if(o.errorMessage&&o.errorMessage=="USER_NOT_FOUND")throw new A("user-not-found");if(o.errorMessage)throw ak(o.errorMessage);Rn(o)},V:!0,B:!0},vV={endpoint:"verifyAssertion",A:function(o){if(Gy(o),!o.idToken)throw new A("internal-error")},Ya:Qy,G:rk,V:!0},gV={endpoint:"verifyCustomToken",A:function(o){if(!o.token)throw new A("invalid-custom-token")},G:Rn,V:!0,B:!0},sk={endpoint:"verifyPassword",A:function(o){if(Ds(o),!o.password)throw new A("wrong-password")},G:Rn,V:!0,B:!0},mV={endpoint:"verifyPhoneNumber",A:Hy,G:Rn,B:!0},yV={endpoint:"verifyPhoneNumber",A:function(o){if(!o.idToken)throw new A("internal-error");Hy(o)},G:function(o){if(o.temporaryProof)throw o.code="credential-already-in-use",wd(o);Rn(o)}},_V={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Hy,G:Rn,B:!0},wV={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(o){if(!!o[Fr]^!!o.refreshToken)throw new A("internal-error")},B:!0,Na:!0};function _e(o,u,f){if(!G3(f,u.N))return ze(new A("internal-error"));var d=!!u.Na,g=u.Ub||"POST",_;return te(f).then(u.A).then(function(){return u.V&&(f.returnSecureToken=!0),u.B&&o.b&&typeof f.tenantId>"u"&&(f.tenantId=o.b),d?ek(o,o.i,u.endpoint,g,f,u.Hb,u.lb||!1):ek(o,o.h,u.endpoint,g,f,u.Hb,u.lb||!1)}).then(function(E){return _=E,u.Ya?u.Ya(f,_):_}).then(u.G).then(function(){if(!u.Z)return _;if(!(u.Z in _))throw new A("internal-error");return _[u.Z]})}function ak(o){return e0({error:{errors:[{message:o}],code:400,message:o}})}function e0(o,u){var f=(o.error&&o.error.errors&&o.error.errors[0]||{}).reason||"",d={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(f=d[f]?new A(d[f]):null)return f;f=o.error&&o.error.message||"",d={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Cn(d,u||{}),u=(u=f.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var g in d)if(f.indexOf(g)===0)return new A(d[g],u);return!u&&o&&(u=ac(o)),new A("internal-error",u)}function EV(o){this.b=o,this.a=null,this.rb=bV(this)}function bV(o){return NV().then(function(){return new ye(function(u,f){We("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:We("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(d){function g(){clearTimeout(_),u()}o.a=d,o.a.restyle({setHideOnLeave:!1});var _=setTimeout(function(){f(Error("Network Error"))},kV.get());d.ping(g).then(g,function(){f(Error("Network Error"))})})})})}function IV(o,u){return o.rb.then(function(){return new ye(function(f){o.a.send(u.type,u,f,We("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function TV(o,u){o.rb.then(function(){o.a.register("authEvent",u,We("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var SV=new ti(Xh,"https://apis.google.com/js/api.js?onload=%{onload}"),CV=new uo(3e4,6e4),kV=new uo(5e3,15e3),xd=null;function NV(){return xd||(xd=new ye(function(o,u){function f(){tC(),We("gapi.load")("gapi.iframes",{callback:o,ontimeout:function(){tC(),u(Error("Network Error"))},timeout:CV.get()})}if(We("gapi.iframes.Iframe"))o();else if(We("gapi.load"))f();else{var d="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[d]=function(){We("gapi.load")?f():u(Error("Network Error"))},d=Lm(SV,{onload:d}),te(qy(d)).o(function(){u(Error("Network Error"))})}}).o(function(o){throw xd=null,o}))}function uk(o,u,f,d){this.l=o,this.h=u,this.i=f,this.g=d,this.f=null,this.g?(o=An(this.g.url),o=ld(o.c,o.a,o.g,"/emulator/auth/iframe")):o=ld("https",this.l,null,"/__/auth/iframe"),this.a=o,st(this.a,"apiKey",this.h),st(this.a,"appName",this.i),this.b=null,this.c=[]}uk.prototype.toString=function(){return this.f?st(this.a,"v",this.f):ni(this.a.b,"v"),this.b?st(this.a,"eid",this.b):ni(this.a.b,"eid"),this.c.length?st(this.a,"fw",this.c.join(",")):ni(this.a.b,"fw"),this.a.toString()};function t0(o,u,f,d,g,_){this.u=o,this.s=u,this.c=f,this.m=d,this.v=_,this.i=this.g=this.l=null,this.a=g,this.h=this.f=null}t0.prototype.yb=function(o){return this.h=o,this},t0.prototype.toString=function(){if(this.v){var o=An(this.v.url);o=ld(o.c,o.a,o.g,"/emulator/auth/handler")}else o=ld("https",this.u,null,"/__/auth/handler");if(st(o,"apiKey",this.s),st(o,"appName",this.c),st(o,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var f=Z.app(this.c).auth().la()}catch{f=null}u.ob=f,st(o,"providerId",this.a.providerId),f=this.a,u=Z1(f.Ib);for(var d in u)u[d]=u[d].toString();d=f.Qc,u=io(u);for(var g=0;g<d.length;g++){var _=d[g];_ in u&&delete u[_]}f.pb&&f.ob&&!u[f.pb]&&(u[f.pb]=f.ob),_s(u)||st(o,"customParameters",ac(u))}if(typeof this.a.Qb=="function"&&(f=this.a.Qb(),f.length&&st(o,"scopes",f.join(","))),this.l?st(o,"redirectUrl",this.l):ni(o.b,"redirectUrl"),this.g?st(o,"eventId",this.g):ni(o.b,"eventId"),this.i?st(o,"v",this.i):ni(o.b,"v"),this.b)for(var E in this.b)this.b.hasOwnProperty(E)&&!cr(o,E)&&st(o,E,this.b[E]);return this.h?st(o,"tid",this.h):ni(o.b,"tid"),this.f?st(o,"eid",this.f):ni(o.b,"eid"),E=n0(this.c),E.length&&st(o,"fw",E.join(",")),o.toString()};function n0(o){try{return Z.app(o).auth().Ga()}catch{return[]}}function lk(o,u,f,d,g,_){this.s=o,this.g=u,this.b=f,this.f=_,this.c=d||null,this.i=g||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function ck(o){var u=oc();return jj(o).then(function(f){e:{var d=An(u),g=d.c;d=d.a;for(var _=0;_<f.length;_++){var E=f[_],k=d,L=g;if(E.indexOf("chrome-extension://")==0?k=An(E).a==k&&L=="chrome-extension":L!="http"&&L!="https"?k=!1:V3.test(E)?k=k==E:(E=E.split(".").join("\\."),k=new RegExp("^(.+\\."+E+"|"+E+")$","i").test(k)),k){f=!0;break e}}f=!1}if(!f)throw new xy(oc())})}function fk(o){return o.m||(o.m=cd().then(function(){if(!o.u){var u=o.c,f=o.i,d=n0(o.b),g=new uk(o.s,o.g,o.b,o.f);g.f=u,g.b=f,g.c=ys(d||[]),o.u=g.toString()}o.v=new EV(o.u),AV(o)})),o.m}e=lk.prototype,e.Ob=function(o,u,f){var d=new A("popup-closed-by-user"),g=new A("web-storage-unsupported"),_=this,E=!1;return this.ma().then(function(){RV(_).then(function(k){k||(o&&Ss(o),u(g),E=!0)})}).o(function(){}).then(function(){if(!E)return j3(o)}).then(function(){if(!E)return Ha(f).then(function(){u(d)})})},e.Xb=function(){var o=Ut();return!sc(o)&&!eC(o)},e.Tb=function(){return!1},e.Mb=function(o,u,f,d,g,_,E,k){if(!o)return ze(new A("popup-blocked"));if(E&&!sc())return this.ma().o(function(F){Ss(o),g(F)}),d(),te();this.a||(this.a=ck(hk(this)));var L=this;return this.a.then(function(){var F=L.ma().o(function(ie){throw Ss(o),g(ie),ie});return d(),F}).then(function(){if(Py(f),!E){var F=Ic(L.s,L.g,L.b,u,f,null,_,L.c,void 0,L.i,k,L.f);K1(F,o)}}).o(function(F){throw F.code=="auth/network-request-failed"&&(L.a=null),F})};function hk(o){return o.l||(o.C=o.c?Xa(o.c,n0(o.b)):null,o.l=new Mr(o.g,vs(o.i),o.C),o.f&&ru(o.l,o.f)),o.l}e.Nb=function(o,u,f,d){this.a||(this.a=ck(hk(this)));var g=this;return this.a.then(function(){Py(u);var _=Ic(g.s,g.g,g.b,o,u,oc(),f,g.c,void 0,g.i,d,g.f);K1(_)}).o(function(_){throw _.code=="auth/network-request-failed"&&(g.a=null),_})},e.ma=function(){var o=this;return fk(this).then(function(){return o.v.rb}).o(function(){throw o.a=null,new A("network-request-failed")})},e.$b=function(){return!0};function Ic(o,u,f,d,g,_,E,k,L,F,ie,Re){return o=new t0(o,u,f,d,g,Re),o.l=_,o.g=E,o.i=k,o.b=io(L||null),o.f=F,o.yb(ie).toString()}function AV(o){if(!o.v)throw Error("IfcHandler must be initialized!");TV(o.v,function(u){var f={};if(u&&u.authEvent){var d=!1;for(u=LC(u.authEvent),f=0;f<o.h.length;f++)d=o.h[f](u)||d;return f={},f.status=d?"ACK":"ERROR",te(f)}return f.status="ERROR",te(f)})}function RV(o){var u={type:"webStorageSupport"};return fk(o).then(function(){return IV(o.v,u)}).then(function(f){if(f&&f.length&&typeof f[0].webStorageSupport<"u")return f[0].webStorageSupport;throw Error()})}e.Ea=function(o){this.h.push(o)},e.Sa=function(o){Or(this.h,function(u){return u==o})};function dk(o){if(this.a=o||Z.INTERNAL.reactNative&&Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new A("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=dk.prototype,e.get=function(o){return te(this.a.getItem(o)).then(function(u){return u&&Za(u)})},e.set=function(o,u){return te(this.a.setItem(o,ac(u)))},e.U=function(o){return te(this.a.removeItem(o))},e.ca=function(){},e.ia=function(){};function pk(o){this.b=o,this.a={},this.f=O(this.c,this)}var vk=[];function PV(){var o=Dr()?self:null;if(Qe(vk,function(f){f.b==o&&(u=f)}),!u){var u=new pk(o);vk.push(u)}return u}pk.prototype.c=function(o){var u=o.data.eventType,f=o.data.eventId,d=this.a[u];if(d&&0<d.length){o.ports[0].postMessage({status:"ack",eventId:f,eventType:u,response:null});var g=[];Qe(d,function(_){g.push(te().then(function(){return _(o.origin,o.data.data)}))}),_1(g).then(function(_){var E=[];Qe(_,function(k){E.push({fulfilled:k.Pb,value:k.value,reason:k.reason?k.reason.message:void 0})}),Qe(E,function(k){for(var L in k)typeof k[L]>"u"&&delete k[L]}),o.ports[0].postMessage({status:"done",eventId:f,eventType:u,response:E})})}};function gk(o,u,f){_s(o.a)&&o.b.addEventListener("message",o.f),typeof o.a[u]>"u"&&(o.a[u]=[]),o.a[u].push(f)}function mk(o){this.a=o}mk.prototype.postMessage=function(o,u){this.a.postMessage(o,u)};function yk(o){this.c=o,this.b=!1,this.a=[]}function _k(o,u,f,d){var g,_=f||{},E,k,L,F=null;if(o.b)return ze(Error("connection_unavailable"));var ie=d?800:50,Re=typeof MessageChannel<"u"?new MessageChannel:null;return new ye(function(Se,Nt){Re?(g=Math.floor(Math.random()*Math.pow(10,20)).toString(),Re.port1.start(),k=setTimeout(function(){Nt(Error("unsupported_event"))},ie),E=function(xi){xi.data.eventId===g&&(xi.data.status==="ack"?(clearTimeout(k),L=setTimeout(function(){Nt(Error("timeout"))},3e3)):xi.data.status==="done"?(clearTimeout(L),typeof xi.data.response<"u"?Se(xi.data.response):Nt(Error("unknown_error"))):(clearTimeout(k),clearTimeout(L),Nt(Error("invalid_response"))))},F={messageChannel:Re,onMessage:E},o.a.push(F),Re.port1.addEventListener("message",E),o.c.postMessage({eventType:u,eventId:g,data:_},[Re.port2])):Nt(Error("connection_unavailable"))}).then(function(Se){return r0(o,F),Se}).o(function(Se){throw r0(o,F),Se})}function r0(o,u){if(u){var f=u.messageChannel,d=u.onMessage;f&&(f.port1.removeEventListener("message",d),f.port1.close()),Or(o.a,function(g){return g==u})}}yk.prototype.close=function(){for(;0<this.a.length;)r0(this,this.a[0]);this.b=!0};function wk(){if(!s0())throw new A("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=c.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var o=this;Dr()&&self?(this.v=PV(),gk(this.v,"keyChanged",function(u,f){return Ik(o).then(function(d){return 0<d.length&&Qe(o.a,function(g){g(d)}),{keyProcessed:Ni(d,f.key)}})}),gk(this.v,"ping",function(){return te(["keyChanged"])})):K3().then(function(u){(o.h=u)&&(o.g=new yk(new mk(u)),_k(o.g,"ping",null,!0).then(function(f){f[0].fulfilled&&Ni(f[0].value,"keyChanged")&&(o.s=!0)}).o(function(){}))})}var i0;function OV(o){return new ye(function(u,f){var d=o.m.deleteDatabase("firebaseLocalStorageDb");d.onsuccess=function(){u()},d.onerror=function(g){f(Error(g.target.error))}})}function Ek(o){return new ye(function(u,f){var d=o.m.open("firebaseLocalStorageDb",1);d.onerror=function(g){try{g.preventDefault()}catch{}f(Error(g.target.error))},d.onupgradeneeded=function(g){g=g.target.result;try{g.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(_){f(_)}},d.onsuccess=function(g){g=g.target.result,g.objectStoreNames.contains("firebaseLocalStorage")?u(g):OV(o).then(function(){return Ek(o)}).then(function(_){u(_)}).o(function(_){f(_)})}})}function o0(o){return o.i||(o.i=Ek(o)),o.i}function Dd(o,u){function f(g,_){o0(o).then(u).then(g).o(function(E){if(3<++d)_(E);else return o0(o).then(function(k){return k.close(),o.i=void 0,f(g,_)}).o(function(k){_(k)})})}var d=0;return new ye(f)}function s0(){try{return!!c.indexedDB}catch{return!1}}function Tc(o){return o.objectStore("firebaseLocalStorage")}function Sc(o,u){return o.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function iu(o){return new ye(function(u,f){o.onsuccess=function(d){d&&d.target?u(d.target.result):u()},o.onerror=function(d){f(d.target.error)}})}e=wk.prototype,e.set=function(o,u){var f=this,d=!1;return Dd(this,function(g){return g=Tc(Sc(g,!0)),iu(g.get(o))}).then(function(g){return Dd(f,function(_){if(_=Tc(Sc(_,!0)),g)return g.value=u,iu(_.put(g));f.b++,d=!0;var E={};return E.fbase_key=o,E.value=u,iu(_.add(E))})}).then(function(){return f.c[o]=u,bk(f,o)}).oa(function(){d&&f.b--})};function bk(o,u){return o.g&&o.h&&W3()===o.h?_k(o.g,"keyChanged",{key:u},o.s).then(function(){}).o(function(){}):te()}e.get=function(o){return Dd(this,function(u){return iu(Tc(Sc(u,!1)).get(o))}).then(function(u){return u&&u.value})},e.U=function(o){var u=this,f=!1;return Dd(this,function(d){return f=!0,u.b++,iu(Tc(Sc(d,!0)).delete(o))}).then(function(){return delete u.c[o],bk(u,o)}).oa(function(){f&&u.b--})};function Ik(o){return o0(o).then(function(u){var f=Tc(Sc(u,!1));return f.getAll?iu(f.getAll()):new ye(function(d,g){var _=[],E=f.openCursor();E.onsuccess=function(k){(k=k.target.result)?(_.push(k.value),k.continue()):d(_)},E.onerror=function(k){g(k.target.error)}})}).then(function(u){var f={},d=[];if(o.b==0){for(d=0;d<u.length;d++)f[u[d].fbase_key]=u[d].value;d=H1(o.c,f),o.c=f}return d})}e.ca=function(o){this.a.length==0&&xV(this),this.a.push(o)},e.ia=function(o){Or(this.a,function(u){return u==o}),this.a.length==0&&Tk(this)};function xV(o){function u(){o.f=setTimeout(function(){o.l=Ik(o).then(function(f){0<f.length&&Qe(o.a,function(d){d(f)})}).then(function(){u()}).o(function(f){f.message!="STOP_EVENT"&&u()})},800)}Tk(o),u()}function Tk(o){o.l&&o.l.cancel("STOP_EVENT"),o.f&&(clearTimeout(o.f),o.f=null)}function Sk(o){var u=this,f=null;this.a=[],this.type="indexedDB",this.c=o,this.b=te().then(function(){if(s0()){var d=ks(),g="__sak"+d;return i0||(i0=new wk),f=i0,f.set(g,d).then(function(){return f.get(g)}).then(function(_){if(_!==d)throw Error("indexedDB not supported!");return f.U(g)}).then(function(){return f}).o(function(){return u.c})}return u.c}).then(function(d){return u.type=d.type,d.ca(function(g){Qe(u.a,function(_){_(g)})}),d})}e=Sk.prototype,e.get=function(o){return this.b.then(function(u){return u.get(o)})},e.set=function(o,u){return this.b.then(function(f){return f.set(o,u)})},e.U=function(o){return this.b.then(function(u){return u.U(o)})},e.ca=function(o){this.a.push(o)},e.ia=function(o){Or(this.a,function(u){return u==o})};function Cc(){this.a={},this.type="inMemory"}e=Cc.prototype,e.get=function(o){return te(this.a[o])},e.set=function(o,u){return this.a[o]=u,te()},e.U=function(o){return delete this.a[o],te()},e.ca=function(){},e.ia=function(){};function Ld(){if(!DV())throw ri()=="Node"?new A("internal-error","The LocalStorage compatibility library was not found."):new A("web-storage-unsupported");this.a=Ck()||Z.INTERNAL.node.localStorage,this.type="localStorage"}function Ck(){try{var o=c.localStorage,u=ks();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function DV(){var o=ri()=="Node";if(o=Ck()||o&&Z.INTERNAL.node&&Z.INTERNAL.node.localStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=Ld.prototype,e.get=function(o){var u=this;return te().then(function(){var f=u.a.getItem(o);return Za(f)})},e.set=function(o,u){var f=this;return te().then(function(){var d=ac(u);d===null?f.U(o):f.a.setItem(o,d)})},e.U=function(o){var u=this;return te().then(function(){u.a.removeItem(o)})},e.ca=function(o){c.window&&lr(c.window,"storage",o)},e.ia=function(o){c.window&&zn(c.window,"storage",o)};function a0(){this.type="nullStorage"}e=a0.prototype,e.get=function(){return te(null)},e.set=function(){return te()},e.U=function(){return te()},e.ca=function(){},e.ia=function(){};function u0(){if(!LV())throw ri()=="Node"?new A("internal-error","The SessionStorage compatibility library was not found."):new A("web-storage-unsupported");this.a=kk()||Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function kk(){try{var o=c.sessionStorage,u=ks();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function LV(){var o=ri()=="Node";if(o=kk()||o&&Z.INTERNAL.node&&Z.INTERNAL.node.sessionStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=u0.prototype,e.get=function(o){var u=this;return te().then(function(){var f=u.a.getItem(o);return Za(f)})},e.set=function(o,u){var f=this;return te().then(function(){var d=ac(u);d===null?f.U(o):f.a.setItem(o,d)})},e.U=function(o){var u=this;return te().then(function(){u.a.removeItem(o)})},e.ca=function(){},e.ia=function(){};function MV(){var o={};o.Browser=FV,o.Node=UV,o.ReactNative=jV,o.Worker=VV,this.a=o[ri()]}var l0,FV={F:Ld,bb:u0},UV={F:Ld,bb:u0},jV={F:dk,bb:a0},VV={F:Ld,bb:a0},ou={rd:"local",NONE:"none",td:"session"};function BV(o){var u=new A("invalid-persistence-type"),f=new A("unsupported-persistence-type");e:{for(d in ou)if(ou[d]==o){var d=!0;break e}d=!1}if(!d||typeof o!="string")throw u;switch(ri()){case"ReactNative":if(o==="session")throw f;break;case"Node":if(o!=="none")throw f;break;case"Worker":if(o==="session"||!s0()&&o!=="none")throw f;break;default:if(!ly()&&o!=="none")throw f}}function Nk(){var o=!!(!eC(Ut())&&ay()),u=sc(),f=ly();this.m=o,this.h=u,this.l=f,this.a={},l0||(l0=new MV),o=l0;try{this.g=!oy()&&nC()||!c.indexedDB?new o.a.F:new Sk(Dr()?new Cc:new o.a.F)}catch{this.g=new Cc,this.h=!0}try{this.i=new o.a.bb}catch{this.i=new Cc}this.v=new Cc,this.f=O(this.Yb,this),this.b={}}var c0;function kc(){return c0||(c0=new Nk),c0}function Ls(o,u){switch(u){case"session":return o.i;case"none":return o.v;default:return o.g}}function su(o,u){return"firebase:"+o.name+(u?":"+u:"")}function $V(o,u,f){var d=su(u,f),g=Ls(o,u.F);return o.get(u,f).then(function(_){var E=null;try{E=Za(c.localStorage.getItem(d))}catch{}if(E&&!_)return c.localStorage.removeItem(d),o.set(u,E,f);E&&_&&g.type!="localStorage"&&c.localStorage.removeItem(d)})}e=Nk.prototype,e.get=function(o,u){return Ls(this,o.F).get(su(o,u))};function au(o,u,f){return f=su(u,f),u.F=="local"&&(o.b[f]=null),Ls(o,u.F).U(f)}e.set=function(o,u,f){var d=su(o,f),g=this,_=Ls(this,o.F);return _.set(d,u).then(function(){return _.get(d)}).then(function(E){o.F=="local"&&(g.b[d]=E)})},e.addListener=function(o,u,f){o=su(o,u),this.l&&(this.b[o]=c.localStorage.getItem(o)),_s(this.a)&&(Ls(this,"local").ca(this.f),this.h||(oy()||!nC())&&c.indexedDB||!this.l||qV(this)),this.a[o]||(this.a[o]=[]),this.a[o].push(f)},e.removeListener=function(o,u,f){o=su(o,u),this.a[o]&&(Or(this.a[o],function(d){return d==f}),this.a[o].length==0&&delete this.a[o]),_s(this.a)&&(Ls(this,"local").ia(this.f),f0(this))};function qV(o){f0(o),o.c=setInterval(function(){for(var u in o.a){var f=c.localStorage.getItem(u),d=o.b[u];f!=d&&(o.b[u]=f,f=new bs({type:"storage",key:u,target:window,oldValue:d,newValue:f,a:!0}),o.Yb(f))}},1e3)}function f0(o){o.c&&(clearInterval(o.c),o.c=null)}e.Yb=function(o){if(o&&o.g){var u=o.a.key;if(u==null)for(var f in this.a){var d=this.b[f];typeof d>"u"&&(d=null);var g=c.localStorage.getItem(f);g!==d&&(this.b[f]=g,this.mb(f))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof o.a.a<"u"?Ls(this,"local").ia(this.f):f0(this),this.m){if(f=c.localStorage.getItem(u),d=o.a.newValue,d!==f)d!==null?c.localStorage.setItem(u,d):c.localStorage.removeItem(u);else if(this.b[u]===d&&typeof o.a.a>"u")return}var _=this;f=function(){(typeof o.a.a<"u"||_.b[u]!==c.localStorage.getItem(u))&&(_.b[u]=c.localStorage.getItem(u),_.mb(u))},xr&&oo&&oo==10&&c.localStorage.getItem(u)!==o.a.newValue&&o.a.newValue!==o.a.oldValue?setTimeout(f,10):f()}}else Qe(o,O(this.mb,this))},e.mb=function(o){this.a[o]&&Qe(this.a[o],function(u){u()})};function zV(o){this.a=o,this.b=kc()}var h0={name:"authEvent",F:"local"};function WV(o){return o.b.get(h0,o.a).then(function(u){return LC(u)})}function KV(){this.a=kc()}function HV(){this.b=-1}function Md(o,u){this.b=Ak,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=o,this.h=u,this.l=c.Int32Array?new Int32Array(64):Array(64),Fd===void 0&&(c.Int32Array?Fd=new Int32Array(Ok):Fd=Ok),this.reset()}var Fd;M(Md,HV);for(var Ak=64,GV=Ak-1,Rk=[],d0=0;d0<GV;d0++)Rk[d0]=0;var Pk=Om(128,Rk);Md.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):ys(this.h)};function p0(o){for(var u=o.f,f=o.l,d=0,g=0;g<u.length;)f[d++]=u[g]<<24|u[g+1]<<16|u[g+2]<<8|u[g+3],g=4*d;for(u=16;64>u;u++){g=f[u-15]|0,d=f[u-2]|0;var _=(f[u-16]|0)+((g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3)|0,E=(f[u-7]|0)+((d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10)|0;f[u]=_+E|0}d=o.a[0]|0,g=o.a[1]|0;var k=o.a[2]|0,L=o.a[3]|0,F=o.a[4]|0,ie=o.a[5]|0,Re=o.a[6]|0;for(_=o.a[7]|0,u=0;64>u;u++){var Se=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&g^d&k^g&k)|0;E=F&ie^~F&Re,_=_+((F>>>6|F<<26)^(F>>>11|F<<21)^(F>>>25|F<<7))|0,E=E+(Fd[u]|0)|0,E=_+(E+(f[u]|0)|0)|0,_=Re,Re=ie,ie=F,F=L+E|0,L=k,k=g,g=d,d=E+Se|0}o.a[0]=o.a[0]+d|0,o.a[1]=o.a[1]+g|0,o.a[2]=o.a[2]+k|0,o.a[3]=o.a[3]+L|0,o.a[4]=o.a[4]+F|0,o.a[5]=o.a[5]+ie|0,o.a[6]=o.a[6]+Re|0,o.a[7]=o.a[7]+_|0}function v0(o,u,f){f===void 0&&(f=u.length);var d=0,g=o.c;if(typeof u=="string")for(;d<f;)o.f[g++]=u.charCodeAt(d++),g==o.b&&(p0(o),g=0);else if(w(u))for(;d<f;){var _=u[d++];if(!(typeof _=="number"&&0<=_&&255>=_&&_==(_|0)))throw Error("message must be a byte array");o.f[g++]=_,g==o.b&&(p0(o),g=0)}else throw Error("message must be string or array");o.c=g,o.g+=f}var Ok=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function xk(){Md.call(this,8,QV)}M(xk,Md);var QV=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Dk(o,u,f,d,g,_){this.v=o,this.i=u,this.l=f,this.m=d||null,this.u=g||null,this.s=_,this.h=u+":"+f,this.C=new KV,this.g=new zV(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ud(o){return new A("invalid-cordova-configuration",o)}e=Dk.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=$3().then(function(){if(typeof We("universalLinks.subscribe",c)!="function")throw Ud("cordova-universal-links-plugin-fix is not installed");if(typeof We("BuildInfo.packageName",c)>"u")throw Ud("cordova-plugin-buildinfo is not installed");if(typeof We("cordova.plugins.browsertab.openUrl",c)!="function")throw Ud("cordova-plugin-browsertab is not installed");if(typeof We("cordova.InAppBrowser.open",c)!="function")throw Ud("cordova-plugin-inappbrowser is not installed")},function(){throw new A("cordova-not-ready")})};function YV(){for(var o=20,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}function XV(o){var u=new xk;v0(u,o),o=[];var f=8*u.g;56>u.c?v0(u,Pk,56-u.c):v0(u,Pk,u.b-(u.c-56));for(var d=63;56<=d;d--)u.f[d]=f&255,f/=256;for(p0(u),d=f=0;d<u.i;d++)for(var g=24;0<=g;g-=8)o[f++]=u.a[d]>>g&255;return uj(o)}e.Ob=function(o,u){return u(new A("operation-not-supported-in-this-environment")),te()},e.Mb=function(){return ze(new A("operation-not-supported-in-this-environment"))},e.$b=function(){return!1},e.Xb=function(){return!0},e.Tb=function(){return!0},e.Nb=function(o,u,f,d){if(this.c)return ze(new A("redirect-operation-pending"));var g=this,_=c.document,E=null,k=null,L=null,F=null;return this.c=te().then(function(){return Py(u),Mk(g)}).then(function(){return JV(g,o,u,f,d)}).then(function(){return new ye(function(ie,Re){k=function(){var Se=We("cordova.plugins.browsertab.close",c);return ie(),typeof Se=="function"&&Se(),g.a&&typeof g.a.close=="function"&&(g.a.close(),g.a=null),!1},g.Ea(k),L=function(){E||(E=Ha(2e3).then(function(){Re(new A("redirect-cancelled-by-user"))}))},F=function(){cy()&&L()},_.addEventListener("resume",L,!1),Ut().toLowerCase().match(/android/)||_.addEventListener("visibilitychange",F,!1)}).o(function(ie){return g0(g).then(function(){throw ie})})}).oa(function(){L&&_.removeEventListener("resume",L,!1),F&&_.removeEventListener("visibilitychange",F,!1),E&&E.cancel(),k&&g.Sa(k),g.c=null})};function JV(o,u,f,d,g){var _=YV(),E=new Lr(u,d,null,_,new A("no-auth-event"),null,g),k=We("BuildInfo.packageName",c);if(typeof k!="string")throw new A("invalid-cordova-configuration");var L=We("BuildInfo.displayName",c),F={};if(Ut().toLowerCase().match(/iphone|ipad|ipod/))F.ibi=k;else if(Ut().toLowerCase().match(/android/))F.apn=k;else return ze(new A("operation-not-supported-in-this-environment"));L&&(F.appDisplayName=L),_=XV(_),F.sessionId=_;var ie=Ic(o.v,o.i,o.l,u,f,null,d,o.m,F,o.u,g,o.s);return o.ma().then(function(){var Re=o.h;return o.C.a.set(h0,E.w(),Re)}).then(function(){var Re=We("cordova.plugins.browsertab.isAvailable",c);if(typeof Re!="function")throw new A("invalid-cordova-configuration");var Se=null;Re(function(Nt){if(Nt){if(Se=We("cordova.plugins.browsertab.openUrl",c),typeof Se!="function")throw new A("invalid-cordova-configuration");Se(ie)}else{if(Se=We("cordova.InAppBrowser.open",c),typeof Se!="function")throw new A("invalid-cordova-configuration");Nt=Ut(),o.a=Se(ie,Nt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Nt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function Lk(o,u){for(var f=0;f<o.b.length;f++)try{o.b[f](u)}catch{}}function Mk(o){return o.f||(o.f=o.ma().then(function(){return new ye(function(u){function f(d){return u(d),o.Sa(f),!1}o.Ea(f),ZV(o)})})),o.f}function g0(o){var u=null;return WV(o.g).then(function(f){return u=f,f=o.g,au(f.b,h0,f.a)}).then(function(){return u})}function ZV(o){function u(E){d=!0,g&&g.cancel(),g0(o).then(function(k){var L=f;if(k&&E&&E.url){var F=null;L=kC(E.url),L.indexOf("/__/auth/callback")!=-1&&(F=An(L),F=Za(cr(F,"firebaseError")||null),F=(F=typeof F=="object"?Ft(F):null)?new Lr(k.c,k.b,null,null,F,null,k.T()):new Lr(k.c,k.b,L,k.f,null,null,k.T())),L=F||f}Lk(o,L)})}var f=new Lr("unknown",null,null,null,new A("no-auth-event")),d=!1,g=Ha(500).then(function(){return g0(o).then(function(){d||Lk(o,f)})}),_=c.handleOpenURL;c.handleOpenURL=function(E){if(E.toLowerCase().indexOf(We("BuildInfo.packageName",c).toLowerCase()+"://")==0&&u({url:E}),typeof _=="function")try{_(E)}catch(k){console.error(k)}},Oy||(Oy=new gj),mj(u)}e.Ea=function(o){this.b.push(o),Mk(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new Lr("unknown",null,null,null,new A("no-auth-event")),o(u))})},e.Sa=function(o){Or(this.b,function(u){return u==o})};function eB(o){this.a=o,this.b=kc()}var m0={name:"pendingRedirect",F:"session"};function tB(o){return o.b.set(m0,"pending",o.a)}function y0(o){return au(o.b,m0,o.a)}function nB(o){return o.b.get(m0,o.a).then(function(u){return u=="pending"})}function jd(o,u,f,d){this.i={},this.u=0,this.D=o,this.v=u,this.m=f,this.J=d,this.h=[],this.f=!1,this.l=O(this.s,this),this.b=new Vd,this.C=new Gk,this.g=new eB(zk(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Fk(this.D,this.v,this.m,ki,this.J)}function Fk(o,u,f,d,g){var _=Z.SDK_VERSION||null;return sy()?new Dk(o,u,f,_,d,g):new lk(o,u,f,_,d,g)}jd.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Fk(this.D,this.v,this.m,null,this.J),this.i={}};function Uk(o){o.f||(o.f=!0,o.a.Ea(o.l));var u=o.a;return o.a.ma().o(function(f){throw o.a==u&&o.reset(),f})}function jk(o){o.a.Xb()&&Uk(o).o(function(u){var f=new Lr("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));w0(u)&&o.s(f)}),o.a.Tb()||Kk(o.b)}function _0(o,u){Ni(o.h,u)||o.h.push(u),o.f||nB(o.g).then(function(f){f?y0(o.g).then(function(){Uk(o).o(function(d){var g=new Lr("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));w0(d)&&o.s(g)})}):jk(o)}).o(function(){jk(o)})}function Vk(o,u){Or(o.h,function(f){return f==u})}jd.prototype.s=function(o){if(!o)throw new A("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),o&&o.getUid()&&this.i.hasOwnProperty(o.getUid()))return!1;for(var u=!1,f=0;f<this.h.length;f++){var d=this.h[f];if(d.Fb(o.c,o.b)){(u=this.c[o.c])&&(u.h(o,d),o&&(o.f||o.b)&&(this.i[o.getUid()]=!0,this.u=Date.now())),u=!0;break}}return Kk(this.b),u};var rB=new uo(2e3,1e4),iB=new uo(3e4,6e4);jd.prototype.qa=function(){return this.b.qa()};function Bk(o,u,f,d,g,_,E){return o.a.Mb(u,f,d,function(){o.f||(o.f=!0,o.a.Ea(o.l))},function(){o.reset()},g,_,E)}function w0(o){return!!(o&&o.code=="auth/cordova-not-ready")}function $k(o,u,f,d,g){var _;return tB(o.g).then(function(){return o.a.Nb(u,f,d,g).o(function(E){if(w0(E))throw new A("operation-not-supported-in-this-environment");return _=E,y0(o.g).then(function(){throw _})}).then(function(){return o.a.$b()?new ye(function(){}):y0(o.g).then(function(){return o.qa()}).then(function(){}).o(function(){})})})}function qk(o,u,f,d,g){return o.a.Ob(d,function(_){u.na(f,null,_,g)},rB.get())}var E0={};function zk(o,u,f){return o=o+":"+u,f&&(o=o+":"+f.url),o}function Wk(o,u,f,d){var g=zk(u,f,d);return E0[g]||(E0[g]=new jd(o,u,f,d)),E0[g]}function Vd(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Vd.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Vd.prototype.h=function(o,u){if(o){this.reset(),this.g=!0;var f=o.c,d=o.b,g=o.a&&o.a.code=="auth/web-storage-unsupported",_=o.a&&o.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!g&&!_),f!="unknown"||g||_?o.a?(Ms(this,!0,null,o.a),te()):u.Fa(f,d)?oB(this,o,u):ze(new A("invalid-auth-event")):(Ms(this,!1,null,null),te())}else ze(new A("invalid-auth-event"))};function Kk(o){o.g||(o.g=!0,Ms(o,!1,null,null))}function Bd(o){o.g&&!o.i&&Ms(o,!1,null,null)}function oB(o,u,f){f=f.Fa(u.c,u.b);var d=u.g,g=u.f,_=u.i,E=u.T(),k=!!u.c.match(/Redirect$/);f(d,g,E,_).then(function(L){Ms(o,k,L,null)}).o(function(L){Ms(o,k,null,L)})}function sB(o,u){if(o.b=function(){return ze(u)},o.c.length)for(var f=0;f<o.c.length;f++)o.c[f](u)}function Hk(o,u){if(o.b=function(){return te(u)},o.f.length)for(var f=0;f<o.f.length;f++)o.f[f](u)}function Ms(o,u,f,d){u?d?sB(o,d):Hk(o,f):Hk(o,{user:null}),o.f=[],o.c=[]}Vd.prototype.qa=function(){var o=this;return new ye(function(u,f){o.b?o.b().then(u,f):(o.f.push(u),o.c.push(f),aB(o))})};function aB(o){var u=new A("timeout");o.a&&o.a.cancel(),o.a=Ha(iB.get()).then(function(){o.b||(o.g=!0,Ms(o,!0,null,u))})}function Gk(){}Gk.prototype.h=function(o,u){if(o){var f=o.c,d=o.b;o.a?(u.na(o.c,null,o.a,o.b),te()):u.Fa(f,d)?uB(o,u):ze(new A("invalid-auth-event"))}else ze(new A("invalid-auth-event"))};function uB(o,u){var f=o.b,d=o.c;u.Fa(d,f)(o.g,o.f,o.T(),o.i).then(function(g){u.na(d,g,null,f)}).o(function(g){u.na(d,null,g,f)})}function Qk(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(o){this.ib=o},enumerable:!1})}function b0(o,u){this.a=u,Y(this,"verificationId",o)}b0.prototype.confirm=function(o){return o=DC(this.verificationId,o),this.a(o)};function I0(o,u,f,d){return new Pi(o).fb(u,f).then(function(g){return new b0(g,d)})}function lB(o){var u=_C(o);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new A("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");cn(this,{token:o,expirationTime:uc(1e3*u.exp),authTime:uc(1e3*u.auth_time),issuedAtTime:uc(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function T0(o,u,f){var d=u&&u[Xk];if(!d)throw new A("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=o,this.f=io(u),this.g=f,this.c=new yd(null,d),this.b=[];var g=this;Qe(u[Yk]||[],function(_){(_=gy(_))&&g.b.push(_)}),Y(this,"auth",this.a),Y(this,"session",this.c),Y(this,"hints",this.b)}var Yk="mfaInfo",Xk="mfaPendingCredential";T0.prototype.Rc=function(o){var u=this;return o.sb(this.a.a,this.c).then(function(f){var d=io(u.f);return delete d[Yk],delete d[Xk],Cn(d,f),u.g(d)})};function S0(o,u,f,d){A.call(this,"multi-factor-auth-required",d,u),this.b=new T0(o,u,f),Y(this,"resolver",this.b)}M(S0,A);function Jk(o,u,f){if(o&&S(o.serverResponse)&&o.code==="auth/multi-factor-auth-required")try{return new S0(u,o.serverResponse,f,o.message)}catch{}return null}function Zk(){}Zk.prototype.sb=function(o,u,f){return u.type==hc?cB(this,o,u,f):fB(this,o,u)};function cB(o,u,f,d){return f.Ha().then(function(g){return g={idToken:g},typeof d<"u"&&(g.displayName=d),Cn(g,{phoneVerificationInfo:dc(o.a)}),_e(u,Zj,g)})}function fB(o,u,f){return f.Ha().then(function(d){return d={mfaPendingCredential:d},Cn(d,{phoneVerificationInfo:dc(o.a)}),_e(u,eV,d)})}function C0(o){Y(this,"factorId",o.fa),this.a=o}M(C0,Zk);function eN(o){if(C0.call(this,o),this.a.fa!=Pi.PROVIDER_ID)throw new A("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}M(eN,C0);function uu(o,u){Nn.call(this,o);for(var f in u)this[f]=u[f]}M(uu,Nn);function k0(o,u){this.a=o,this.b=[],this.c=O(this.yc,this),lr(this.a,"userReloaded",this.c);var f=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&Qe(u.multiFactor.enrolledFactors,function(d){var g=null,_={};if(d){d.uid&&(_[yy]=d.uid),d.displayName&&(_[iC]=d.displayName),d.enrollmentTime&&(_[my]=new Date(d.enrollmentTime).toISOString()),d.phoneNumber&&(_[_y]=d.phoneNumber);try{g=new lc(_)}catch{}d=g}else d=null;d&&f.push(d)}),$d(this,f)}function hB(o){var u=[];return Qe(o.mfaInfo||[],function(f){(f=gy(f))&&u.push(f)}),u}e=k0.prototype,e.yc=function(o){$d(this,hB(o.hd))};function $d(o,u){o.b=u,Y(o,"enrolledFactors",u)}e.Rb=function(){return this.a.I().then(function(o){return new yd(o,null)})},e.fc=function(o,u){var f=this,d=this.a.a;return this.Rb().then(function(g){return o.sb(d,g,u)}).then(function(g){return si(f.a,g),f.a.reload()})},e.bd=function(o){var u=this,f=typeof o=="string"?o:o.uid,d=this.a.a;return this.a.I().then(function(g){return _e(d,wV,{idToken:g,mfaEnrollmentId:f})}).then(function(g){var _=q4(u.b,function(E){return E.uid!=f});return $d(u,_),si(u.a,g),u.a.reload().o(function(E){if(E.code!="auth/user-token-expired")throw E})})},e.w=function(){return{multiFactor:{enrolledFactors:Qh(this.b,function(o){return o.w()})}}};function N0(o,u,f){if(this.h=o,this.i=u,this.g=f,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}N0.prototype.start=function(){this.a=this.c,A0(this,!0)};function dB(o,u){return u?(o.a=o.c,o.g()):(u=o.a,o.a*=2,o.a>o.f&&(o.a=o.f),u)}function A0(o,u){o.stop(),o.b=Ha(dB(o,u)).then(function(){return z3()}).then(function(){return o.h()}).then(function(){A0(o,!0)}).o(function(f){o.i(f)&&A0(o,!1)})}N0.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function R0(o){this.f=o,this.b=this.a=null,this.c=Date.now()}R0.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function tN(o,u){typeof u>"u"&&(o.b?(u=o.b,u=u.a-u.g):u=0),o.c=Date.now()+1e3*u}function nN(o,u){o.b=gd(u[Fr]||""),o.a=u.refreshToken,u=u.expiresIn,tN(o,typeof u<"u"?Number(u):void 0)}function pB(o,u){o.b=u.b,o.a=u.a,o.c=u.c}function vB(o,u){return Fj(o.f,u).then(function(f){return o.b=gd(f.access_token),o.a=f.refresh_token,tN(o,f.expires_in),{accessToken:o.b.toString(),refreshToken:o.a}}).o(function(f){throw f.code=="auth/user-token-expired"&&(o.a=null),f})}R0.prototype.getToken=function(o){return o=!!o,this.b&&!this.a?ze(new A("user-token-expired")):o||!this.b||Date.now()>this.c-3e4?this.a?vB(this,{grant_type:"refresh_token",refresh_token:this.a}):te(null):te({accessToken:this.b.toString(),refreshToken:this.a})};function qd(o,u){this.a=o||null,this.b=u||null,cn(this,{lastSignInTime:uc(u||null),creationTime:uc(o||null)})}function gB(o){return new qd(o.a,o.b)}qd.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function mB(o,u,f,d,g,_){cn(this,{uid:o,displayName:d||null,photoURL:g||null,email:f||null,phoneNumber:_||null,providerId:u})}function Kn(o,u,f){this.J=[],this.l=o.apiKey,this.m=o.appName,this.s=o.authDomain||null;var d=Z.SDK_VERSION?Xa(Z.SDK_VERSION):null;this.a=new Mr(this.l,vs(ki),d),o.emulatorConfig&&ru(this.a,o.emulatorConfig),this.b=new R0(this.a),M0(this,u[Fr]),nN(this.b,u),Y(this,"refreshToken",this.b.a),iN(this,f||{}),ln.call(this),this.R=!1,this.s&&Cs()&&(this.i=Wk(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=yB(this),this.aa=O(this.hb,this);var g=this;this.ya=null,this.Oa=function(_){g.wa(_.h)},this.ja=null,this.Aa=function(_){ru(g.a,_.c)},this.X=null,this.$=[],this.Ba=function(_){Nc(g,_.f)},this.ba=null,this.O=new k0(this,f),Y(this,"multiFactor",this.O)}M(Kn,ln),Kn.prototype.wa=function(o){this.ya=o,YC(this.a,o)},Kn.prototype.la=function(){return this.ya};function P0(o,u){o.ja&&zn(o.ja,"languageCodeChanged",o.Oa),(o.ja=u)&&lr(u,"languageCodeChanged",o.Oa)}function O0(o,u){o.X&&zn(o.X,"emulatorConfigChanged",o.Aa),(o.X=u)&&lr(u,"emulatorConfigChanged",o.Aa)}function Nc(o,u){o.$=u,XC(o.a,Z.SDK_VERSION?Xa(Z.SDK_VERSION,o.$):null)}Kn.prototype.Ga=function(){return ys(this.$)};function x0(o,u){o.ba&&zn(o.ba,"frameworkChanged",o.Ba),(o.ba=u)&&lr(u,"frameworkChanged",o.Ba)}Kn.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())};function D0(o){try{return Z.app(o.m).auth()}catch{throw new A("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+o.m+"'!")}}function yB(o){return new N0(function(){return o.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=o.b.c-Date.now()-3e5;return 0<u?u:0})}function rN(o){o.D||o.u.b||(o.u.start(),zn(o,"tokenChanged",o.aa),lr(o,"tokenChanged",o.aa))}function L0(o){zn(o,"tokenChanged",o.aa),o.u.stop()}function M0(o,u){o.za=u,Y(o,"_lat",u)}function _B(o,u){Or(o.S,function(f){return f==u})}function Fs(o){for(var u=[],f=0;f<o.S.length;f++)u.push(o.S[f](o));return _1(u).then(function(){return o})}function Ac(o){o.i&&!o.R&&(o.R=!0,_0(o.i,o))}function iN(o,u){cn(o,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new qd(u.createdAt,u.lastLoginAt),providerData:[]}),o.a.b=o.tenantId}Y(Kn.prototype,"providerId","firebase");function oN(){}function F0(o){return te().then(function(){if(o.D)throw new A("app-deleted")})}function U0(o){return Qh(o.providerData,function(u){return u.providerId})}function j0(o,u){u&&(sN(o,u.providerId),o.providerData.push(u))}function sN(o,u){Or(o.providerData,function(f){return f.providerId==u})}function fo(o,u,f){(u!="uid"||f)&&o.hasOwnProperty(u)&&Y(o,u,f)}function zd(o,u){o!=u&&(cn(o,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?Y(o,"metadata",gB(u.metadata)):Y(o,"metadata",new qd),Qe(u.providerData,function(f){j0(o,f)}),pB(o.b,u.b),Y(o,"refreshToken",o.b.a),$d(o.O,u.O.b))}e=Kn.prototype,e.reload=function(){var o=this;return _t(this,F0(this).then(function(){return V0(o).then(function(){return Fs(o)}).then(oN)}))};function V0(o){return o.I().then(function(u){var f=o.isAnonymous;return wB(o,u).then(function(){return f||fo(o,"isAnonymous",!1),u})})}e.oc=function(o){return this.I(o).then(function(u){return new lB(u)})},e.I=function(o){var u=this;return _t(this,F0(this).then(function(){return u.b.getToken(o)}).then(function(f){if(!f)throw new A("internal-error");return f.accessToken!=u.za&&(M0(u,f.accessToken),u.dispatchEvent(new uu("tokenChanged"))),fo(u,"refreshToken",f.refreshToken),f.accessToken}))};function si(o,u){u[Fr]&&o.za!=u[Fr]&&(nN(o.b,u),o.dispatchEvent(new uu("tokenChanged")),M0(o,u[Fr]),fo(o,"refreshToken",o.b.a))}function wB(o,u){return _e(o.a,tV,{idToken:u}).then(O(o.Kc,o))}e.Kc=function(o){if(o=o.users,!o||!o.length)throw new A("internal-error");o=o[0],iN(this,{uid:o.localId,displayName:o.displayName,photoURL:o.photoUrl,email:o.email,emailVerified:!!o.emailVerified,phoneNumber:o.phoneNumber,lastLoginAt:o.lastLoginAt,createdAt:o.createdAt,tenantId:o.tenantId});for(var u=EB(o),f=0;f<u.length;f++)j0(this,u[f]);fo(this,"isAnonymous",!(this.email&&o.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new uu("userReloaded",{hd:o}))};function EB(o){return(o=o.providerUserInfo)&&o.length?Qh(o,function(u){return new mB(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}e.Lc=function(o){return fy("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(o)},e.tb=function(o){var u=this,f=null;return _t(this,o.c(this.a,this.uid).then(function(d){return si(u,d),f=Rc(u,d,"reauthenticate"),u.h=null,u.reload()}).then(function(){return f}),!0)};function Wd(o,u){return V0(o).then(function(){if(Ni(U0(o),u))return Fs(o).then(function(){throw new A("provider-already-linked")})})}e.Cc=function(o){return fy("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(o)},e.qb=function(o){var u=this,f=null;return _t(this,Wd(this,o.providerId).then(function(){return u.I()}).then(function(d){return o.b(u.a,d)}).then(function(d){return f=Rc(u,d,"link"),aN(u,d)}).then(function(){return f}))},e.Dc=function(o,u){var f=this;return _t(this,Wd(this,"phone").then(function(){return I0(D0(f),o,u,O(f.qb,f))}))},e.Mc=function(o,u){var f=this;return _t(this,te().then(function(){return I0(D0(f),o,u,O(f.tb,f))}),!0)};function Rc(o,u,f){var d=Ry(u);return u=EC(u),ii({user:o,credential:d,additionalUserInfo:u,operationType:f})}function aN(o,u){return si(o,u),o.reload().then(function(){return o})}e.Bb=function(o){var u=this;return _t(this,this.I().then(function(f){return u.a.Bb(f,o)}).then(function(f){return si(u,f),u.reload()}))},e.ed=function(o){var u=this;return _t(this,this.I().then(function(f){return o.b(u.a,f)}).then(function(f){return si(u,f),u.reload()}))},e.Cb=function(o){var u=this;return _t(this,this.I().then(function(f){return u.a.Cb(f,o)}).then(function(f){return si(u,f),u.reload()}))},e.Db=function(o){if(o.displayName===void 0&&o.photoURL===void 0)return F0(this);var u=this;return _t(this,this.I().then(function(f){return u.a.Db(f,{displayName:o.displayName,photoUrl:o.photoURL})}).then(function(f){return si(u,f),fo(u,"displayName",f.displayName||null),fo(u,"photoURL",f.photoUrl||null),Qe(u.providerData,function(d){d.providerId==="password"&&(Y(d,"displayName",u.displayName),Y(d,"photoURL",u.photoURL))}),Fs(u)}).then(oN))},e.cd=function(o){var u=this;return _t(this,V0(this).then(function(f){return Ni(U0(u),o)?zj(u.a,f,[o]).then(function(d){var g={};return Qe(d.providerUserInfo||[],function(_){g[_.providerId]=!0}),Qe(U0(u),function(_){g[_]||sN(u,_)}),g[Pi.PROVIDER_ID]||Y(u,"phoneNumber",null),Fs(u)}):Fs(u).then(function(){throw new A("no-such-provider")})}))},e.delete=function(){var o=this;return _t(this,this.I().then(function(u){return _e(o.a,Qj,{idToken:u})}).then(function(){o.dispatchEvent(new uu("userDeleted"))})).then(function(){for(var u=0;u<o.J.length;u++)o.J[u].cancel("app-deleted");P0(o,null),O0(o,null),x0(o,null),o.J=[],o.D=!0,L0(o),Y(o,"refreshToken",null),o.i&&Vk(o.i,o)})},e.Fb=function(o,u){return!!(o=="linkViaPopup"&&(this.g||null)==u&&this.f||o=="reauthViaPopup"&&(this.g||null)==u&&this.f||o=="linkViaRedirect"&&(this.ga||null)==u||o=="reauthViaRedirect"&&(this.ga||null)==u)},e.na=function(o,u,f,d){o!="linkViaPopup"&&o!="reauthViaPopup"||d!=(this.g||null)||(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="linkViaPopup"&&u==(this.g||null)?O(this.Kb,this):o=="reauthViaPopup"&&u==(this.g||null)?O(this.Lb,this):o=="linkViaRedirect"&&(this.ga||null)==u?O(this.Kb,this):o=="reauthViaRedirect"&&(this.ga||null)==u?O(this.Lb,this):null},e.Ec=function(o){var u=this;return uN(this,"linkViaPopup",o,function(){return Wd(u,o.providerId).then(function(){return Fs(u)})},!1)},e.Nc=function(o){return uN(this,"reauthViaPopup",o,function(){return te()},!0)};function uN(o,u,f,d,g){if(!Cs())return ze(new A("operation-not-supported-in-this-environment"));if(o.h&&!g)return ze(o.h);var _=Ty(f.providerId),E=ks(o.uid+":::"),k=null;(!sc()||ay())&&o.s&&f.isOAuthProvider&&(k=Ic(o.s,o.l,o.m,u,f,null,E,Z.SDK_VERSION||null,null,null,o.tenantId));var L=Q1(k,_&&_.ua,_&&_.ta);return d=d().then(function(){if(cN(o),!g)return o.I().then(function(){})}).then(function(){return Bk(o.i,L,u,f,E,!!k,o.tenantId)}).then(function(){return new ye(function(F,ie){o.na(u,null,new A("cancelled-popup-request"),o.g||null),o.f=F,o.C=ie,o.g=E,o.c=qk(o.i,o,u,L,E)})}).then(function(F){return L&&Ss(L),F?ii(F):null}).o(function(F){throw L&&Ss(L),F}),_t(o,d,g)}e.Fc=function(o){var u=this;return lN(this,"linkViaRedirect",o,function(){return Wd(u,o.providerId)},!1)},e.Oc=function(o){return lN(this,"reauthViaRedirect",o,function(){return te()},!0)};function lN(o,u,f,d,g){if(!Cs())return ze(new A("operation-not-supported-in-this-environment"));if(o.h&&!g)return ze(o.h);var _=null,E=ks(o.uid+":::");return d=d().then(function(){if(cN(o),!g)return o.I().then(function(){})}).then(function(){return o.ga=E,Fs(o)}).then(function(k){return o.ha&&(k=o.ha,k=k.b.set(B0,o.w(),k.a)),k}).then(function(){return $k(o.i,u,f,E,o.tenantId)}).o(function(k){if(_=k,o.ha)return hN(o.ha);throw _}).then(function(){if(_)throw _}),_t(o,d,g)}function cN(o){if(!o.i||!o.R)throw o.i&&!o.R?new A("internal-error"):new A("auth-domain-config-required")}e.Kb=function(o,u,f,d){var g=this;this.c&&(this.c.cancel(),this.c=null);var _=null;return f=this.I().then(function(E){return Xy(g.a,{requestUri:o,postBody:d,sessionId:u,idToken:E})}).then(function(E){return _=Rc(g,E,"link"),aN(g,E)}).then(function(){return _}),_t(this,f)},e.Lb=function(o,u,f,d){var g=this;this.c&&(this.c.cancel(),this.c=null);var _=null,E=te().then(function(){return tu(Jy(g.a,{requestUri:o,sessionId:u,postBody:d,tenantId:f}),g.uid)}).then(function(k){return _=Rc(g,k,"reauthenticate"),si(g,k),g.h=null,g.reload()}).then(function(){return _});return _t(this,E,!0)},e.ub=function(o){var u=this,f=null;return _t(this,this.I().then(function(d){return f=d,typeof o>"u"||_s(o)?{}:pd(new dd(o))}).then(function(d){return u.a.ub(f,d)}).then(function(d){if(u.email!=d)return u.reload()}).then(function(){}))},e.Eb=function(o,u){var f=this,d=null;return _t(this,this.I().then(function(g){return d=g,typeof u>"u"||_s(u)?{}:pd(new dd(u))}).then(function(g){return f.a.Eb(d,o,g)}).then(function(g){if(f.email!=g)return f.reload()}).then(function(){}))};function _t(o,u,f){var d=bB(o,u,f);return o.J.push(d),d.oa(function(){Yh(o.J,d)}),d.o(function(g){var _=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(_=Jk(g.w(),D0(o),O(o.jc,o))),_||g})}e.jc=function(o){var u=null,f=this;return o=tu(te(o),f.uid).then(function(d){return u=Rc(f,d,"reauthenticate"),si(f,d),f.h=null,f.reload()}).then(function(){return u}),_t(this,o,!0)};function bB(o,u,f){return o.h&&!f?(u.cancel(),ze(o.h)):u.o(function(d){throw!d||d.code!="auth/user-disabled"&&d.code!="auth/user-token-expired"||(o.h||o.dispatchEvent(new uu("userInvalidated")),o.h=d),d})}e.toJSON=function(){return this.w()},e.w=function(){var o={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&Cn(o,this.metadata.w()),Qe(this.providerData,function(u){o.providerData.push(H3(u))}),Cn(o,this.O.w()),o};function fN(o){if(!o.apiKey)return null;var u={apiKey:o.apiKey,authDomain:o.authDomain,appName:o.appName,emulatorConfig:o.emulatorConfig},f={};if(o.stsTokenManager&&o.stsTokenManager.accessToken){f[Fr]=o.stsTokenManager.accessToken,f.refreshToken=o.stsTokenManager.refreshToken||null;var d=o.stsTokenManager.expirationTime;d&&(f.expiresIn=(d-Date.now())/1e3)}else return null;var g=new Kn(u,f,o);return o.providerData&&Qe(o.providerData,function(_){_&&j0(g,ii(_))}),o.redirectEventId&&(g.ga=o.redirectEventId),g}function IB(o,u,f,d){var g=new Kn(o,u);return f&&(g.ha=f),d&&Nc(g,d),g.reload().then(function(){return g})}function TB(o,u,f,d){var g=o.b,_={};return _[Fr]=g.b&&g.b.toString(),_.refreshToken=g.a,u=new Kn(u||{apiKey:o.l,authDomain:o.s,appName:o.m},_),f&&(u.ha=f),d&&Nc(u,d),zd(u,o),u}function SB(o){this.a=o,this.b=kc()}var B0={name:"redirectUser",F:"session"};function hN(o){return au(o.b,B0,o.a)}function CB(o,u){return o.b.get(B0,o.a).then(function(f){return f&&u&&(f.authDomain=u),fN(f||{})})}function $0(o){this.a=o,this.b=kc(),this.c=null,this.f=kB(this),this.b.addListener(ai("local"),this.a,O(this.g,this))}$0.prototype.g=function(){var o=this,u=ai("local");lu(this,function(){return te().then(function(){return o.c&&o.c.F!="local"?o.b.get(u,o.a):null}).then(function(f){if(f)return q0(o,"local").then(function(){o.c=u})})})};function q0(o,u){var f=[],d;for(d in ou)ou[d]!==u&&f.push(au(o.b,ai(ou[d]),o.a));return f.push(au(o.b,z0,o.a)),g3(f)}function kB(o){var u=ai("local"),f=ai("session"),d=ai("none");return $V(o.b,u,o.a).then(function(){return o.b.get(f,o.a)}).then(function(g){return g?f:o.b.get(d,o.a).then(function(_){return _?d:o.b.get(u,o.a).then(function(E){return E?u:o.b.get(z0,o.a).then(function(k){return k?ai(k):u})})})}).then(function(g){return o.c=g,q0(o,g.F)}).o(function(){o.c||(o.c=u)})}var z0={name:"persistence",F:"session"};function ai(o){return{name:"authUser",F:o}}$0.prototype.xb=function(o){var u=null,f=this;return BV(o),lu(this,function(){return o!=f.c.F?f.b.get(f.c,f.a).then(function(d){return u=d,q0(f,o)}).then(function(){if(f.c=ai(o),u)return f.b.set(f.c,u,f.a)}):te()})};function NB(o){return lu(o,function(){return o.b.set(z0,o.c.F,o.a)})}function dN(o,u){return lu(o,function(){return o.b.set(o.c,u.w(),o.a)})}function pN(o){return lu(o,function(){return au(o.b,o.c,o.a)})}function vN(o,u,f){return lu(o,function(){return o.b.get(o.c,o.a).then(function(d){return d&&u&&(d.authDomain=u),d&&f&&(d.emulatorConfig=f),fN(d||{})})})}function lu(o,u){return o.f=o.f.then(u,u),o.f}function Ur(o){if(this.l=!1,Y(this,"settings",new Qk),Y(this,"app",o),De(this).options&&De(this).options.apiKey)o=Z.SDK_VERSION?Xa(Z.SDK_VERSION):null,this.a=new Mr(De(this).options&&De(this).options.apiKey,vs(ki),o);else throw new A("invalid-api-key");this.R=[],this.s=[],this.O=[],this.hb=Z.INTERNAL.createSubscribe(O(this.zc,this)),this.X=void 0,this.bc=Z.INTERNAL.createSubscribe(O(this.Ac,this)),cu(this,null),this.i=new $0(De(this).options.apiKey+":"+De(this).name),this.D=new SB(De(this).options.apiKey+":"+De(this).name),this.$=nt(this,DB(this)),this.h=nt(this,LB(this)),this.ba=!1,this.ja=O(this.Zc,this),this.Ba=O(this.da,this),this.ya=O(this.mc,this),this.za=O(this.wc,this),this.Aa=O(this.xc,this),this.b=null,PB(this),this.INTERNAL={},this.INTERNAL.delete=O(this.delete,this),this.INTERNAL.logFramework=O(this.Gc,this),this.u=0,ln.call(this),RB(this),this.J=[],this.P=null}M(Ur,ln);function gN(o){Nn.call(this,"languageCodeChanged"),this.h=o}M(gN,Nn);function mN(o){Nn.call(this,"emulatorConfigChanged"),this.c=o}M(mN,Nn);function yN(o){Nn.call(this,"frameworkChanged"),this.f=o}M(yN,Nn),e=Ur.prototype,e.xb=function(o){return o=this.i.xb(o),nt(this,o)},e.wa=function(o){this.aa===o||this.l||(this.aa=o,YC(this.a,this.aa),this.dispatchEvent(new gN(this.la())))},e.la=function(){return this.aa},e.fd=function(){var o=c.navigator;this.wa(o&&(o.languages&&o.languages[0]||o.language||o.userLanguage)||null)},e.gd=function(o,u){if(!this.P){if(!/^https?:\/\//.test(o))throw new A("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,AB(u),this.P={url:o,ec:u},this.settings.ib=!0,ru(this.a,this.P),this.dispatchEvent(new mN(this.P))}};function AB(o){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),c.document&&!o&&cd().then(function(){var u=c.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#ff0000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),c.document.body.appendChild(u)})}e.Gc=function(o){this.J.push(o),XC(this.a,Z.SDK_VERSION?Xa(Z.SDK_VERSION,this.J):null),this.dispatchEvent(new yN(this.J))},e.Ga=function(){return ys(this.J)},e.yb=function(o){this.S===o||this.l||(this.S=o,this.a.b=this.S)},e.T=function(){return this.S};function RB(o){Object.defineProperty(o,"lc",{get:function(){return this.la()},set:function(u){this.wa(u)},enumerable:!1}),o.aa=null,Object.defineProperty(o,"ti",{get:function(){return this.T()},set:function(u){this.yb(u)},enumerable:!1}),o.S=null,Object.defineProperty(o,"emulatorConfig",{get:function(){if(this.P){var u=An(this.P.url);u=ii({protocol:u.c,host:u.a,port:u.g,options:ii({disableWarnings:this.P.ec})})}else u=null;return u},enumerable:!1})}e.toJSON=function(){return{apiKey:De(this).options.apiKey,authDomain:De(this).options.authDomain,appName:De(this).name,currentUser:fe(this)&&fe(this).w()}};function W0(o){return o.Oa||ze(new A("auth-domain-config-required"))}function PB(o){var u=De(o).options.authDomain,f=De(o).options.apiKey;u&&Cs()&&(o.Oa=o.$.then(function(){if(!o.l){if(o.b=Wk(u,f,De(o).name,o.P),_0(o.b,o),fe(o)&&Ac(fe(o)),o.m){Ac(o.m);var d=o.m;d.wa(o.la()),P0(d,o),d=o.m,Nc(d,o.J),x0(d,o),d=o.m,ru(d.a,o.P),O0(d,o),o.m=null}return o.b}}))}e.Fb=function(o,u){switch(o){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},e.na=function(o,u,f,d){o=="signInViaPopup"&&this.g==d&&(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="signInViaRedirect"||o=="signInViaPopup"&&this.g==u&&this.f?O(this.ic,this):null},e.ic=function(o,u,f,d){var g=this,_={requestUri:o,postBody:d,sessionId:u,tenantId:f};return this.c&&(this.c.cancel(),this.c=null),g.$.then(function(){return Us(g,Yy(g.a,_))})},e.Xc=function(o){if(!Cs())return ze(new A("operation-not-supported-in-this-environment"));var u=this,f=Ty(o.providerId),d=ks(),g=null;(!sc()||ay())&&De(this).options.authDomain&&o.isOAuthProvider&&(g=Ic(De(this).options.authDomain,De(this).options.apiKey,De(this).name,"signInViaPopup",o,null,d,Z.SDK_VERSION||null,null,null,this.T(),this.P));var _=Q1(g,f&&f.ua,f&&f.ta);return f=W0(this).then(function(E){return Bk(E,_,"signInViaPopup",o,d,!!g,u.T())}).then(function(){return new ye(function(E,k){u.na("signInViaPopup",null,new A("cancelled-popup-request"),u.g),u.f=E,u.C=k,u.g=d,u.c=qk(u.b,u,"signInViaPopup",_,d)})}).then(function(E){return _&&Ss(_),E?ii(E):null}).o(function(E){throw _&&Ss(_),E}),nt(this,f)},e.Yc=function(o){if(!Cs())return ze(new A("operation-not-supported-in-this-environment"));var u=this,f=W0(this).then(function(){return NB(u.i)}).then(function(){return $k(u.b,"signInViaRedirect",o,void 0,u.T())});return nt(this,f)};function _N(o){if(!Cs())return ze(new A("operation-not-supported-in-this-environment"));var u=W0(o).then(function(){return o.b.qa()}).then(function(f){return f?ii(f):null});return nt(o,u)}e.qa=function(){var o=this;return _N(this).then(function(u){return o.b&&Bd(o.b.b),u}).o(function(u){throw o.b&&Bd(o.b.b),u})},e.dd=function(o){if(!o)return ze(new A("null-user"));if(this.S!=o.tenantId)return ze(new A("tenant-id-mismatch"));var u=this,f={};f.apiKey=De(this).options.apiKey,f.authDomain=De(this).options.authDomain,f.appName=De(this).name;var d=TB(o,f,u.D,u.Ga());return nt(this,this.h.then(function(){if(De(u).options.apiKey!=o.l)return d.reload()}).then(function(){return fe(u)&&o.uid==fe(u).uid?(zd(fe(u),o),u.da(o)):(cu(u,d),Ac(d),u.da(d))}).then(function(){Pc(u)}))};function OB(o,u){var f={};return f.apiKey=De(o).options.apiKey,f.authDomain=De(o).options.authDomain,f.appName=De(o).name,o.P&&(f.emulatorConfig=o.P),o.$.then(function(){return IB(f,u,o.D,o.Ga())}).then(function(d){return fe(o)&&d.uid==fe(o).uid?(zd(fe(o),d),o.da(d)):(cu(o,d),Ac(d),o.da(d))}).then(function(){Pc(o)})}function cu(o,u){fe(o)&&(_B(fe(o),o.Ba),zn(fe(o),"tokenChanged",o.ya),zn(fe(o),"userDeleted",o.za),zn(fe(o),"userInvalidated",o.Aa),L0(fe(o))),u&&(u.S.push(o.Ba),lr(u,"tokenChanged",o.ya),lr(u,"userDeleted",o.za),lr(u,"userInvalidated",o.Aa),0<o.u&&rN(u)),Y(o,"currentUser",u),u&&(u.wa(o.la()),P0(u,o),Nc(u,o.J),x0(u,o),ru(u.a,o.P),O0(u,o))}e.Ab=function(){var o=this,u=this.h.then(function(){return o.b&&Bd(o.b.b),fe(o)?(cu(o,null),pN(o.i).then(function(){Pc(o)})):te()});return nt(this,u)};function xB(o){var u=CB(o.D,De(o).options.authDomain).then(function(f){return(o.m=f)&&(f.ha=o.D),hN(o.D)});return nt(o,u)}function DB(o){var u=De(o).options.authDomain,f=xB(o).then(function(){return vN(o.i,u,o.P)}).then(function(d){return d?(d.ha=o.D,o.m&&(o.m.ga||null)==(d.ga||null)?d:d.reload().then(function(){return dN(o.i,d).then(function(){return d})}).o(function(g){return g.code=="auth/network-request-failed"?d:pN(o.i)})):null}).then(function(d){cu(o,d||null)});return nt(o,f)}function LB(o){return o.$.then(function(){return _N(o)}).o(function(){}).then(function(){if(!o.l)return o.ja()}).o(function(){}).then(function(){if(!o.l){o.ba=!0;var u=o.i;u.b.addListener(ai("local"),u.a,o.ja)}})}e.Zc=function(){var o=this;return vN(this.i,De(this).options.authDomain).then(function(u){if(!o.l){var f;if(f=fe(o)&&u){f=fe(o).uid;var d=u.uid;f=f==null||f===""||d===void 0||d===null||d===""?!1:f==d}if(f)return zd(fe(o),u),fe(o).I();(fe(o)||u)&&(cu(o,u),u&&(Ac(u),u.ha=o.D),o.b&&_0(o.b,o),Pc(o))}})},e.da=function(o){return dN(this.i,o)},e.mc=function(){Pc(this),this.da(fe(this))},e.wc=function(){this.Ab()},e.xc=function(){this.Ab()};function Us(o,u){var f=null,d=null;return nt(o,u.then(function(g){return f=Ry(g),d=EC(g),OB(o,g)},function(g){var _=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(_=Jk(g.w(),o,O(o.kc,o))),_||g}).then(function(){return ii({user:fe(o),credential:f,additionalUserInfo:d,operationType:"signIn"})}))}e.kc=function(o){var u=this;return this.h.then(function(){return Us(u,te(o))})},e.zc=function(o){var u=this;this.addAuthTokenListener(function(){o.next(fe(u))})},e.Ac=function(o){var u=this;MB(this,function(){o.next(fe(u))})},e.Ic=function(o,u,f){var d=this;return this.ba&&Promise.resolve().then(function(){typeof o=="function"?o(fe(d)):typeof o.next=="function"&&o.next(fe(d))}),this.hb(o,u,f)},e.Hc=function(o,u,f){var d=this;return this.ba&&Promise.resolve().then(function(){d.X=d.getUid(),typeof o=="function"?o(fe(d)):typeof o.next=="function"&&o.next(fe(d))}),this.bc(o,u,f)},e.nc=function(o){var u=this,f=this.h.then(function(){return fe(u)?fe(u).I(o).then(function(d){return{accessToken:d}}):null});return nt(this,f)},e.Tc=function(o){var u=this;return this.h.then(function(){return Us(u,_e(u.a,gV,{token:o}))}).then(function(f){var d=f.user;return fo(d,"isAnonymous",!1),u.da(d),f})},e.Uc=function(o,u){var f=this;return this.h.then(function(){return Us(f,_e(f.a,sk,{email:o,password:u}))})},e.dc=function(o,u){var f=this;return this.h.then(function(){return Us(f,_e(f.a,Hj,{email:o,password:u}))})},e.$a=function(o){var u=this;return this.h.then(function(){return Us(u,o.ka(u.a))})},e.Sc=function(o){return fy("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(o)},e.zb=function(){var o=this;return this.h.then(function(){var u=fe(o);if(u&&u.isAnonymous){var f=ii({providerId:null,isNewUser:!1});return ii({user:u,credential:null,additionalUserInfo:f,operationType:"signIn"})}return Us(o,o.a.zb()).then(function(d){var g=d.user;return fo(g,"isAnonymous",!0),o.da(g),d})})};function De(o){return o.app}function fe(o){return o.currentUser}e.getUid=function(){return fe(this)&&fe(this).uid||null};function Kd(o){return fe(o)&&fe(o)._lat||null}function Pc(o){if(o.ba){for(var u=0;u<o.s.length;u++)o.s[u]&&o.s[u](Kd(o));if(o.X!==o.getUid()&&o.O.length)for(o.X=o.getUid(),u=0;u<o.O.length;u++)o.O[u]&&o.O[u](Kd(o))}}e.cc=function(o){this.addAuthTokenListener(o),this.u++,0<this.u&&fe(this)&&rN(fe(this))},e.Pc=function(o){var u=this;Qe(this.s,function(f){f==o&&u.u--}),0>this.u&&(this.u=0),this.u==0&&fe(this)&&L0(fe(this)),this.removeAuthTokenListener(o)},e.addAuthTokenListener=function(o){var u=this;this.s.push(o),nt(this,this.h.then(function(){u.l||Ni(u.s,o)&&o(Kd(u))}))},e.removeAuthTokenListener=function(o){Or(this.s,function(u){return u==o})};function MB(o,u){o.O.push(u),nt(o,o.h.then(function(){!o.l&&Ni(o.O,u)&&o.X!==o.getUid()&&(o.X=o.getUid(),u(Kd(o)))}))}e.delete=function(){this.l=!0;for(var o=0;o<this.R.length;o++)this.R[o].cancel("app-deleted");return this.R=[],this.i&&(o=this.i,o.b.removeListener(ai("local"),o.a,this.ja)),this.b&&(Vk(this.b,this),Bd(this.b.b)),Promise.resolve()};function nt(o,u){return o.R.push(u),u.oa(function(){Yh(o.R,u)}),u}e.hc=function(o){return nt(this,Uj(this.a,o))},e.Bc=function(o){return!!Ay(o)},e.wb=function(o,u){var f=this;return nt(this,te().then(function(){var d=new dd(u);if(!d.c)throw new A("argument-error",by+" must be true when sending sign in link to email");return pd(d)}).then(function(d){return f.a.wb(o,d)}).then(function(){}))},e.jd=function(o){return this.Ra(o).then(function(u){return u.data.email})},e.nb=function(o,u){return nt(this,this.a.nb(o,u).then(function(){}))},e.Ra=function(o){return nt(this,this.a.Ra(o).then(function(u){return new Q3(u)}))},e.jb=function(o){return nt(this,this.a.jb(o).then(function(){}))},e.vb=function(o,u){var f=this;return nt(this,te().then(function(){return typeof u>"u"||_s(u)?{}:pd(new dd(u))}).then(function(d){return f.a.vb(o,d)}).then(function(){}))},e.Wc=function(o,u){return nt(this,I0(this,o,u,O(this.$a,this)))},e.Vc=function(o,u){var f=this;return nt(this,te().then(function(){var d=u||oc(),g=xC(o,d);if(d=Ay(d),!d)throw new A("argument-error","Invalid email link!");if(d.tenantId!==f.T())throw new A("tenant-id-mismatch");return f.$a(g)}))};function Oc(){}Oc.prototype.render=function(){},Oc.prototype.reset=function(){},Oc.prototype.getResponse=function(){},Oc.prototype.execute=function(){};function fu(){this.a={},this.b=1e12}var K0=null;fu.prototype.render=function(o,u){return this.a[this.b.toString()]=new Hd(o,u),this.b++},fu.prototype.reset=function(o){var u=H0(this,o);o=wN(o),u&&o&&(u.delete(),delete this.a[o])},fu.prototype.getResponse=function(o){return(o=H0(this,o))?o.getResponse():null},fu.prototype.execute=function(o){(o=H0(this,o))&&o.execute()};function H0(o,u){return(u=wN(u))&&o.a[u]||null}function wN(o){return(o=typeof o>"u"?1e12:o)?o.toString():null}function Hd(o,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Jl(o);var f=this;this.i=function(){f.execute()},this.h?this.execute():lr(this.f,"click",this.i)}Hd.prototype.getResponse=function(){return G0(this),this.b},Hd.prototype.execute=function(){G0(this);var o=this;this.a||(this.a=setTimeout(function(){o.b=q3();var u=o.c.callback,f=o.c["expired-callback"];if(u)try{u(o.b)}catch{}o.a=setTimeout(function(){if(o.a=null,o.b=null,f)try{f()}catch{}o.h&&o.execute()},6e4)},500))},Hd.prototype.delete=function(){G0(this),this.g=!0,clearTimeout(this.a),this.a=null,zn(this.f,"click",this.i)};function G0(o){if(o.g)throw Error("reCAPTCHA mock was already deleted!")}function Q0(){}Y(Q0,"FACTOR_ID","phone");function Y0(){}Y0.prototype.g=function(){return K0||(K0=new fu),te(K0)},Y0.prototype.c=function(){};var X0=null;function J0(){this.b=c.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var FB=new ti(Xh,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),UB=new uo(3e4,6e4);J0.prototype.g=function(o){var u=this;return new ye(function(f,d){var g=setTimeout(function(){d(new A("network-request-failed"))},UB.get());if(!c.grecaptcha||o!==u.f&&!u.b){c[u.a]=function(){if(c.grecaptcha){u.f=o;var E=c.grecaptcha.render;c.grecaptcha.render=function(k,L){return k=E(k,L),u.b++,k},clearTimeout(g),f(c.grecaptcha)}else clearTimeout(g),d(new A("internal-error"));delete c[u.a]};var _=Lm(FB,{onload:u.a,hl:o||""});te(qy(_)).o(function(){clearTimeout(g),d(new A("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(g),f(c.grecaptcha)})},J0.prototype.c=function(){this.b--};var Z0=null;function e_(o,u,f,d,g,_,E){if(Y(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=u,this.g=null,E?(X0||(X0=new Y0),E=X0):(Z0||(Z0=new J0),E=Z0),this.m=E,this.a=f||{theme:"light",type:"image"},this.h=[],this.a[IN])throw new A("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[jB]==="invisible",!c.document)throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Jl(u)||!this.i&&Jl(u).hasChildNodes())throw new A("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Mr(o,_||null,g||null),this.u=d||function(){return null};var k=this;this.l=[];var L=this.a[EN];this.a[EN]=function(ie){if(TN(k,ie),typeof L=="function")L(ie);else if(typeof L=="string"){var Re=We(L,c);typeof Re=="function"&&Re(ie)}};var F=this.a[bN];this.a[bN]=function(){if(TN(k,null),typeof F=="function")F();else if(typeof F=="string"){var ie=We(F,c);typeof ie=="function"&&ie()}}}var EN="callback",bN="expired-callback",IN="sitekey",jB="size";function TN(o,u){for(var f=0;f<o.l.length;f++)try{o.l[f](u)}catch{}}function VB(o,u){Or(o.l,function(f){return f==u})}function t_(o,u){return o.h.push(u),u.oa(function(){Yh(o.h,u)}),u}e=e_.prototype,e.Ia=function(){var o=this;return this.f?this.f:this.f=t_(this,te().then(function(){if(fd()&&!Dr())return cd();throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return o.m.g(o.u())}).then(function(u){return o.g=u,_e(o.s,aV,{})}).then(function(u){o.a[IN]=u.recaptchaSiteKey}).o(function(u){throw o.f=null,u}))},e.render=function(){Gd(this);var o=this;return t_(this,this.Ia().then(function(){if(o.c===null){var u=o.v;if(!o.i){var f=Jl(u);u=h3("DIV"),f.appendChild(u)}o.c=o.g.render(u,o.a)}return o.c}))},e.verify=function(){Gd(this);var o=this;return t_(this,this.render().then(function(u){return new ye(function(f){var d=o.g.getResponse(u);if(d)f(d);else{var g=function(_){_&&(VB(o,g),f(_))};o.l.push(g),o.i&&o.g.execute(o.c)}})}))},e.reset=function(){Gd(this),this.c!==null&&this.g.reset(this.c)};function Gd(o){if(o.D)throw new A("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Gd(this),this.D=!0,this.m.c();for(var o=0;o<this.h.length;o++)this.h[o].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){o=Jl(this.v);for(var u;u=o.firstChild;)o.removeChild(u)}};function n_(o,u,f){var d=!1;try{this.b=f||Z.app()}catch{throw new A("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)f=this.b.options.apiKey;else throw new A("invalid-api-key");var g=this,_=null;try{_=this.b.auth().Ga()}catch{}try{d=this.b.auth().settings.appVerificationDisabledForTesting}catch{}_=Z.SDK_VERSION?Xa(Z.SDK_VERSION,_):null,e_.call(this,f,o,u,function(){try{var E=g.b.auth().la()}catch{E=null}return E},_,vs(ki),d)}M(n_,e_);function SN(o,u,f,d){e:{f=Array.prototype.slice.call(f);for(var g=0,_=!1,E=0;E<u.length;E++)if(u[E].optional)_=!0;else{if(_)throw new A("internal-error","Argument validator encountered a required argument after an optional argument.");g++}if(_=u.length,f.length<g||_<f.length)d="Expected "+(g==_?g==1?"1 argument":g+" arguments":g+"-"+_+" arguments")+" but got "+f.length+".";else{for(g=0;g<f.length;g++)if(_=u[g].optional&&f[g]===void 0,!u[g].M(f[g])&&!_){if(u=u[g],0>g||g>=CN.length)throw new A("internal-error","Argument validator received an unsupported number of arguments.");f=CN[g],d=(d?"":f+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}d=null}}if(d)throw new A("argument-error",o+" failed: "+d)}var CN="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Q(o,u){return{name:o||"",K:"a valid string",optional:!!u,M:function(f){return typeof f=="string"}}}function r_(o,u){return{name:o||"",K:"a boolean",optional:!!u,M:function(f){return typeof f=="boolean"}}}function ft(o,u){return{name:o||"",K:"a valid object",optional:!!u,M:S}}function hu(o,u){return{name:o||"",K:"a function",optional:!!u,M:function(f){return typeof f=="function"}}}function ui(o,u){return{name:o||"",K:"null",optional:!!u,M:function(f){return f===null}}}function BB(){return{name:"",K:"an HTML element",optional:!1,M:function(o){return!!(o&&o instanceof Element)}}}function $B(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(o){return!!(o&&o instanceof Ur)}}}function qB(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(o){return!!(o&&o instanceof Z.app.App)}}}function ho(o){return{name:o?o+"Credential":"credential",K:o?"a valid "+o+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var f=!o||u.providerId===o;return!(!u.ka||!f)}}}function kN(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(o){return o?!!o.sb:!1}}}function du(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}}function i_(o,u){return S(o)&&typeof o.type=="string"&&o.type===u&&typeof o.Ha=="function"}function NN(o){return S(o)&&typeof o.uid=="string"}function Qd(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(o){return!(!o||typeof o.type!="string"||typeof o.verify!="function")}}}function at(o,u,f,d){return{name:f||"",K:o.K+" or "+u.K,optional:!!d,M:function(g){return o.M(g)||u.M(g)}}}function Ye(o,u){for(var f in u){var d=u[f].name;o[d]=RN(d,o[f],u[f].j)}}function AN(o,u){for(var f in u){var d=u[f].name;d!==f&&Object.defineProperty(o,d,{get:B(function(g){return this[g]},f),set:B(function(g,_,E,k){SN(g,[E],[k],!0),this[_]=k},d,f,u[f].kb),enumerable:!0})}}function ut(o,u,f,d){o[u]=RN(u,f,d)}function RN(o,u,f){function d(){var E=Array.prototype.slice.call(arguments);return SN(g,f,E),u.apply(this,E)}if(!f)return u;var g=zB(o),_;for(_ in u)d[_]=u[_];for(_ in u.prototype)d.prototype[_]=u.prototype[_];return d}function zB(o){return o=o.split("."),o[o.length-1]}Ye(Ur.prototype,{jb:{name:"applyActionCode",j:[Q("code")]},Ra:{name:"checkActionCode",j:[Q("code")]},nb:{name:"confirmPasswordReset",j:[Q("code"),Q("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Q("email"),Q("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Q("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Q("emailLink")]},Hc:{name:"onAuthStateChanged",j:[at(ft(),hu(),"nextOrObserver"),hu("opt_error",!0),hu("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[at(ft(),hu(),"nextOrObserver"),hu("opt_error",!0),hu("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Q("email"),at(ft("opt_actionCodeSettings",!0),ui(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Q("email"),ft("actionCodeSettings")]},xb:{name:"setPersistence",j:[Q("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[ho()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[ho()]},Tc:{name:"signInWithCustomToken",j:[Q("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Q("email"),Q("password")]},Vc:{name:"signInWithEmailLink",j:[Q("email"),Q("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Q("phoneNumber"),Qd()]},Xc:{name:"signInWithPopup",j:[du()]},Yc:{name:"signInWithRedirect",j:[du()]},dd:{name:"updateCurrentUser",j:[at(function(o){return{name:"user",K:"an instance of Firebase User",optional:!!o,M:function(u){return!!(u&&u instanceof Kn)}}}(),ui(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Q(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Q("url"),ft("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Q("code")]}}),AN(Ur.prototype,{lc:{name:"languageCode",kb:at(Q(),ui(),"languageCode")},ti:{name:"tenantId",kb:at(Q(),ui(),"tenantId")}}),Ur.Persistence=ou,Ur.Persistence.LOCAL="local",Ur.Persistence.SESSION="session",Ur.Persistence.NONE="none",Ye(Kn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[r_("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[r_("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[ho()]},qb:{name:"linkWithCredential",j:[ho()]},Dc:{name:"linkWithPhoneNumber",j:[Q("phoneNumber"),Qd()]},Ec:{name:"linkWithPopup",j:[du()]},Fc:{name:"linkWithRedirect",j:[du()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[ho()]},tb:{name:"reauthenticateWithCredential",j:[ho()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Q("phoneNumber"),Qd()]},Nc:{name:"reauthenticateWithPopup",j:[du()]},Oc:{name:"reauthenticateWithRedirect",j:[du()]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[at(ft("opt_actionCodeSettings",!0),ui(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Q(null,!0)]},cd:{name:"unlink",j:[Q("provider")]},Bb:{name:"updateEmail",j:[Q("email")]},Cb:{name:"updatePassword",j:[Q("password")]},ed:{name:"updatePhoneNumber",j:[ho("phone")]},Db:{name:"updateProfile",j:[ft("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Q("email"),at(ft("opt_actionCodeSettings",!0),ui(null,!0),"opt_actionCodeSettings",!0)]}}),Ye(fu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ye(Oc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ye(ye.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),AN(Qk.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:r_("appVerificationDisabledForTesting")}}),Ye(b0.prototype,{confirm:{name:"confirm",j:[Q("verificationCode")]}}),ut(eu,"fromJSON",function(o){o=typeof o=="string"?JSON.parse(o):o;for(var u,f=[dj,pj,vj,hj],d=0;d<f.length;d++)if(u=f[d](o))return u;return null},[at(Q(),ft(),"json")]),ut(fr,"credential",function(o,u){return new lo(o,u)},[Q("email"),Q("password")]),Ye(lo.prototype,{w:{name:"toJSON",j:[Q(null,!0)]}}),Ye(Rs.prototype,{Ca:{name:"addScope",j:[Q("scope")]},Ka:{name:"setCustomParameters",j:[ft("customOAuthParameters")]}}),ut(Rs,"credential",AC,[at(Q(),ft(),"token")]),ut(fr,"credentialWithLink",xC,[Q("email"),Q("emailLink")]),Ye(Ps.prototype,{Ca:{name:"addScope",j:[Q("scope")]},Ka:{name:"setCustomParameters",j:[ft("customOAuthParameters")]}}),ut(Ps,"credential",RC,[at(Q(),ft(),"token")]),Ye(Os.prototype,{Ca:{name:"addScope",j:[Q("scope")]},Ka:{name:"setCustomParameters",j:[ft("customOAuthParameters")]}}),ut(Os,"credential",PC,[at(Q(),at(ft(),ui()),"idToken"),at(Q(),ui(),"accessToken",!0)]),Ye(nu.prototype,{Ka:{name:"setCustomParameters",j:[ft("customOAuthParameters")]}}),ut(nu,"credential",OC,[at(Q(),ft(),"token"),Q("secret",!0)]),Ye(Wn.prototype,{Ca:{name:"addScope",j:[Q("scope")]},credential:{name:"credential",j:[at(Q(),at(ft(),ui()),"optionsOrIdToken"),at(Q(),ui(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[ft("customOAuthParameters")]}}),Ye(Ri.prototype,{w:{name:"toJSON",j:[Q(null,!0)]}}),Ye(Ns.prototype,{w:{name:"toJSON",j:[Q(null,!0)]}}),ut(Pi,"credential",DC,[Q("verificationId"),Q("verificationCode")]),Ye(Pi.prototype,{fb:{name:"verifyPhoneNumber",j:[at(Q(),function(o,u){return{name:o||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(f){return f?f.session&&f.phoneNumber?i_(f.session,hc)&&typeof f.phoneNumber=="string":f.session&&f.multiFactorHint?i_(f.session,_d)&&NN(f.multiFactorHint):f.session&&f.multiFactorUid?i_(f.session,_d)&&typeof f.multiFactorUid=="string":f.phoneNumber?typeof f.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Qd()]}}),Ye(co.prototype,{w:{name:"toJSON",j:[Q(null,!0)]}}),Ye(A.prototype,{toJSON:{name:"toJSON",j:[Q(null,!0)]}}),Ye(pc.prototype,{toJSON:{name:"toJSON",j:[Q(null,!0)]}}),Ye(xy.prototype,{toJSON:{name:"toJSON",j:[Q(null,!0)]}}),Ye(S0.prototype,{toJSON:{name:"toJSON",j:[Q(null,!0)]}}),Ye(T0.prototype,{Rc:{name:"resolveSignIn",j:[kN()]}}),Ye(k0.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[kN(),Q("displayName",!0)]},bd:{name:"unenroll",j:[at({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:NN},Q(),"multiFactorInfoIdentifier")]}}),Ye(n_.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),ut(Ey,"parseLink",fC,[Q("link")]),ut(Q0,"assertion",function(o){return new eN(o)},[ho("phone")]),function(){if(typeof Z<"u"&&Z.INTERNAL&&Z.INTERNAL.registerComponent){var o={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:hd,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:wy,VERIFY_AND_CHANGE_EMAIL:cc,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Ur,AuthCredential:eu,Error:A};ut(o,"EmailAuthProvider",fr,[]),ut(o,"FacebookAuthProvider",Rs,[]),ut(o,"GithubAuthProvider",Ps,[]),ut(o,"GoogleAuthProvider",Os,[]),ut(o,"TwitterAuthProvider",nu,[]),ut(o,"OAuthProvider",Wn,[Q("providerId")]),ut(o,"SAMLAuthProvider",NC,[Q("providerId")]),ut(o,"PhoneAuthProvider",Pi,[$B()]),ut(o,"RecaptchaVerifier",n_,[at(Q(),BB(),"recaptchaContainer"),ft("recaptchaParameters",!0),qB()]),ut(o,"ActionCodeURL",Ey,[]),ut(o,"PhoneMultiFactorGenerator",Q0,[]),Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new Ur(u)},multipleInstances:!1,serviceProps:o,instantiationMode:"LAZY",type:"PUBLIC"}),Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:O(u.getUid,u),getToken:O(u.nc,u),addAuthTokenListener:O(u.cc,u),removeAuthTokenListener:O(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Z.registerVersion("@firebase/auth","0.16.5"),Z.INTERNAL.extendNamespace({User:Kn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});var wW="@firebase/database",EW="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hL="";function dL(e){hL=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bW=function(){function e(t){this.domStorage_=t,this.prefix_="firebase:"}return e.prototype.set=function(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),bt(n))},e.prototype.get=function(t){var n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:qf(n)},e.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},e.prototype.prefixedName_=function(t){return this.prefix_+t},e.prototype.toString=function(){return this.domStorage_.toString()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IW=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n},e.prototype.get=function(t){return rr(this.cache_,t)?this.cache_[t]:null},e.prototype.remove=function(t){delete this.cache_[t]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pL=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new bW(t)}}catch{}return new IW},Ys=pL("localStorage"),wE=pL("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $u=new xl("@firebase/database"),vL=function(){var e=1;return function(){return e++}}(),gL=function(e){var t=B6(e),n=new F6;n.update(t);var r=n.digest();return Bf.encodeByteArray(r)},_h=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=_h.apply(null,i):typeof i=="object"?n+=bt(i):n+=i,n+=" "}return n},ia=null,XA=!0,mL=function(e,t){$(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?($u.logLevel=ge.VERBOSE,ia=$u.log.bind($u),t&&wE.set("logging_enabled",!0)):typeof e=="function"?ia=e:(ia=null,wE.remove("logging_enabled"))},Ot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(XA===!0&&(XA=!1,ia===null&&wE.get("logging_enabled")===!0&&mL(!0)),ia){var n=_h.apply(null,e);ia(n)}},wh=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Ot.apply(void 0,me([e],$t(t)))}},EE=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+_h.apply(void 0,me([],$t(e)));$u.error(n)},wi=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+_h.apply(void 0,me([],$t(e)));throw $u.error(n),new Error(n)},Wt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+_h.apply(void 0,me([],$t(e)));$u.warn(n)},TW=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Wt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Pg=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},SW=function(e){if(document.readyState==="complete")e();else{var t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Yi="[MIN_NAME]",Ei="[MAX_NAME]",Ra=function(e,t){if(e===t)return 0;if(e===Yi||t===Ei)return-1;if(t===Yi||e===Ei)return 1;var n=Iv(e),r=Iv(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1},CW=function(e,t){return e===t?0:e<t?-1:1},Bc=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+bt(t))},TI=function(e){if(typeof e!="object"||e===null)return bt(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)i!==0&&(r+=","),r+=bt(t[i]),r+=":",r+=TI(e[t[i]]);return r+="}",r},yL=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Ct(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var _L=function(e){$(!Pg(e),"Invalid JSON number");var t=11,n=52,r=(1<<t-1)-1,i,s,a,l,c;e===0?(s=0,a=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=l+r,a=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,a=Math.round(e/Math.pow(2,1-r-n))));var h=[];for(c=n;c;c-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(c=t;c;c-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();var p=h.join(""),v="";for(c=0;c<64;c+=8){var m=parseInt(p.substr(c,8),2).toString(16);m.length===1&&(m="0"+m),v=v+m}return v.toLowerCase()},kW=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},NW=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function AW(e,t){var n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var RW=new RegExp("^-?(0*)\\d{1,10}$"),wL=-2147483648,SI=2147483647,Iv=function(e){if(RW.test(e)){var t=Number(e);if(t>=wL&&t<=SI)return t}return null},Dl=function(e){try{e()}catch(t){setTimeout(function(){var n=t.stack||"";throw Wt("Exception was thrown by user callback.",n),t},Math.floor(0))}},PW=function(){var e=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},cf=function(e,t){var n=setTimeout(e,t);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OW=function(){function e(t,n){var r=this;this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(function(i){return r.appCheck=i})}return e.prototype.getToken=function(t){return this.appCheck?this.appCheck.getToken(t):Promise.resolve(null)},e.prototype.addTokenChangeListener=function(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(function(r){return r.addTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){Wt('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xW=function(){function e(t,n,r){var i=this;this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.get().then(function(s){return i.auth_=s})}return e.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch(function(n){return n&&n.code==="auth/token-not-initialized"?(Ot("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)}):Promise.resolve(null)},e.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout(function(){return t(null)},0),this.authProvider_.get().then(function(n){return n.addAuthTokenListener(t)}))},e.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Wt(t)},e}(),ff=function(){function e(t){this.accessToken=t}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(t){t(this.accessToken)},e.prototype.removeTokenChangeListener=function(t){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CI="5",EL="v",bL="s",IL="r",TL="f",SL=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,CL="ls",DW="p",bE="ac",kL="websocket",NL="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kI=function(){function e(t,n,r,i,s,a,l){s===void 0&&(s=!1),a===void 0&&(a=""),l===void 0&&(l=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ys.get("host:"+t)||this._host}return e.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},e.prototype.isCustomHost=function(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ys.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},e.prototype.toURLString=function(){var t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+n},e}();function LW(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function AL(e,t,n){$(typeof t=="string","typeof type must == string"),$(typeof n=="object","typeof params must == object");var r;if(t===kL)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===NL)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);LW(e)&&(n.ns=e.namespace);var i=[];return Ct(n,function(s,a){i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MW=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(t,n){n===void 0&&(n=1),rr(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n},e.prototype.get=function(){return tL(this.counters_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var F_={},U_={};function NI(e){var t=e.toString();return F_[t]||(F_[t]=new MW),F_[t]}function FW(e,t){var n=e.toString();return U_[n]||(U_[n]=t()),U_[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UW=function(){function e(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(t,n){var r=this;this.pendingResponses[t]=n;for(var i=function(){var l=s.pendingResponses[s.currentResponseNum];delete s.pendingResponses[s.currentResponseNum];for(var c=function(p){l[p]&&Dl(function(){r.onMessage_(l[p])})},h=0;h<l.length;++h)c(h);if(s.currentResponseNum===s.closeAfterResponse)return s.onClose&&(s.onClose(),s.onClose=null),"break";s.currentResponseNum++},s=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JA="start",jW="close",VW="pLPCommand",BW="pRTLPCB",RL="id",PL="pw",OL="ser",$W="cb",qW="seg",zW="ts",WW="d",KW="dframe",xL=1870,DL=30,HW=xL-DL,GW=25e3,QW=3e4,AI=function(){function e(t,n,r,i,s,a,l){var c=this;this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=wh(t),this.stats_=NI(n),this.urlFn=function(h){return c.appCheckToken&&(h[bE]=c.appCheckToken),AL(n,NL,h)}}return e.prototype.open=function(t,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new UW(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(QW)),SW(function(){if(!r.isClosed_){r.scriptTagHolder=new YW(function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var c=$t(a,5),h=c[0],p=c[1],v=c[2];if(c[3],c[4],r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,h===JA)r.id=p,r.password=v;else if(h===jW)p?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(p,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+h)},function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var c=$t(a,2),h=c[0],p=c[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(h,p)},function(){r.onClosed_()},r.urlFn);var i={};i[JA]="t",i[OL]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[$W]=r.scriptTagHolder.uniqueCallbackIdentifier),i[EL]=CI,r.transportSessionId&&(i[bL]=r.transportSessionId),r.lastSessionId&&(i[CL]=r.lastSessionId),r.applicationId&&(i[DW]=r.applicationId),r.appCheckToken&&(i[bE]=r.appCheckToken),typeof location<"u"&&location.hostname&&SL.test(location.hostname)&&(i[IL]=TL);var s=r.urlFn(i);r.log_("Connecting via long-poll to "+s),r.scriptTagHolder.addTag(s,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!kW()&&!NW()},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(t){var n=bt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=T6(n),i=yL(r,HW),s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(t,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[KW]="t",r[RL]=t,r[PL]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},e.prototype.incrementIncomingBytes_=function(t){var n=bt(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},e}(),YW=function(){function e(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=vL(),window[VW+this.uniqueCallbackIdentifier]=t,window[BW+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var s="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}var l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){Ot("frame writing exception"),c.stack&&Ot(c.stack),Ot(c)}}}return e.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{var n=t.contentWindow.document;n||Ot("No IE domain setting required")}catch{var r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},e.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){t.myIFrame!==null&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},e.prototype.startLongPoll=function(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t[RL]=this.myID,t[PL]=this.myPW,t[OL]=this.currentSerial;for(var n=this.urlFn(t),r="",i=0;this.pendingSegs.length>0;){var s=this.pendingSegs[0];if(s.d.length+DL+r.length<=xL){var a=this.pendingSegs.shift();r=r+"&"+qW+i+"="+a.seg+"&"+zW+i+"="+a.ts+"&"+WW+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},e.prototype.enqueueSegment=function(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(t,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},s=setTimeout(i,Math.floor(GW)),a=function(){clearTimeout(s),i()};this.addTag(t,a)},e.prototype.addTag=function(t,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){Ot("Long-poll script failed to load: "+t),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XW=16384,JW=45e3,Tv=null;typeof MozWebSocket<"u"?Tv=MozWebSocket:typeof WebSocket<"u"&&(Tv=WebSocket);var Ws=function(){function e(t,n,r,i,s,a,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=wh(this.connId),this.stats_=NI(n),this.connURL=e.connectionURL_(n,a,l,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(t,n,r,i){var s={};return s[EL]=CI,typeof location<"u"&&location.hostname&&SL.test(location.hostname)&&(s[IL]=TL),n&&(s[bL]=n),r&&(s[CL]=r),i&&(s[bE]=i),AL(t,kL,s)},e.prototype.open=function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ys.set("previous_websocket_failure",!0);try{var i,s,a,l;if(!iL()){var s={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new Tv(this.connURL,[],s)}}catch(h){this.log_("Error instantiating WebSocket.");var c=h.message||h.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(h){r.handleIncomingFrame(h)},this.mySock.onerror=function(h){r.log_("WebSocket error.  Closing connection.");var p=h.message||h.data;p&&r.log_(p),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if(typeof navigator<"u"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Tv!==null&&!e.forceDisallow_},e.previouslyFailed=function(){return Ys.isInMemoryStorage||Ys.get("previous_websocket_failure")===!0},e.prototype.markConnectionHealthy=function(){Ys.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=qf(n);this.onMessage(r)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if($(this.frames===null,"We already have a frame buffer"),t.length<=6){var n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(this.mySock!==null){var n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},e.prototype.send=function(t){this.resetKeepAlive();var n=bt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=yL(n,XW);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(JW))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZW=function(){function e(t){this.initTransports_(t)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[AI,Ws]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=Ws&&Ws.isAvailable(),s=i&&!Ws.previouslyFailed();if(t.webSocketOnly&&(i||Wt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Ws];else{var a=this.transports_=[];try{for(var l=Mt(e.ALL_TRANSPORTS),c=l.next();!c.done;c=l.next()){var h=c.value;h&&h.isAvailable()&&a.push(h)}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eK=6e4,tK=5e3,nK=10*1024,rK=100*1024,j_="t",ZA="d",iK="s",eR="r",oK="e",tR="o",nR="a",rR="n",iR="p",sK="h",LL=function(){function e(t,n,r,i,s,a,l,c,h,p){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=c,this.onKill_=h,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=wh("c:"+this.id+":"),this.transportManager_=new ZW(n),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var t=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(r,i)},Math.floor(0));var s=n.healthyTimeout||0;s>0&&(this.healthyTimeout_=cf(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>rK?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>nK?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(s)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(t){var n=this;return function(r){t===n.conn_?n.onConnectionLost_(r):t===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},e.prototype.connReceiver_=function(t){var n=this;return function(r){n.state_!==2&&(t===n.rx_?n.onPrimaryMessageReceived_(r):t===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},e.prototype.sendRequest=function(t){var n={t:"d",d:t};this.sendData_(n)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(t){if(j_ in t){var n=t[j_];n===nR?this.upgradeIfSecondaryHealthy_():n===eR?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===tR&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(t){var n=Bc("t",t),r=Bc("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:iR,d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:nR,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:rR,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(t){var n=Bc("t",t),r=Bc("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},e.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(t){var n=Bc(j_,t);if(ZA in t){var r=t[ZA];if(n===sK)this.onHandshake_(r);else if(n===rR){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===iK?this.onConnectionShutdown_(r):n===eR?this.onReset_(r):n===oK?EE("Server Error: "+r):n===tR?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):EE("Unknown control packet command: "+n)}},e.prototype.onHandshake_=function(t){var n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),CI!==r&&Wt("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},e.prototype.startUpgrade_=function(t){var n=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),cf(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(eK))},e.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(t,n){var r=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):cf(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(tK))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:iR,d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()},e.prototype.onConnectionLost_=function(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ys.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},e.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)},e.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ML=function(){function e(){}return e.prototype.put=function(t,n,r,i){},e.prototype.merge=function(t,n,r,i){},e.prototype.refreshAuthToken=function(t){},e.prototype.refreshAppCheckToken=function(t){},e.prototype.onDisconnectPut=function(t,n,r){},e.prototype.onDisconnectMerge=function(t,n,r){},e.prototype.onDisconnectCancel=function(t,n){},e.prototype.reportStats=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FL=function(){function e(t){this.allowedEvents_=t,this.listeners_={},$(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[t]))for(var i=me([],$t(this.listeners_[t])),s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)},e.prototype.on=function(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});var i=this.getInitialEvent(t);i&&n.apply(r,i)},e.prototype.off=function(t,n,r){this.validateEventType_(t);for(var i=this.listeners_[t]||[],s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}},e.prototype.validateEventType_=function(t){$(this.allowedEvents_.find(function(n){return n===t}),"Unknown event: "+t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oR=function(e){H(t,e);function t(){var n=e.call(this,["online"])||this;return n.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!yI()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return $(n==="online","Unknown event type: "+n),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(FL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sR=32,aR=768,Ae=function(){function e(t,n){if(n===void 0){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return e.prototype.toString=function(){for(var t="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"},e}();function ke(){return new Ae("")}function de(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Yo(e){return e.pieces_.length-e.pieceNum_}function Le(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Ae(e.pieces_,t)}function RI(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function aK(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function zf(e,t){return t===void 0&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function UL(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Ae(t,0)}function Ge(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Ae)for(var r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else for(var i=t.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new Ae(n,0)}function pe(e){return e.pieceNum_>=e.pieces_.length}function yn(e,t){var n=de(e),r=de(t);if(n===null)return t;if(n===r)return yn(Le(e),Le(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function uK(e,t){for(var n=zf(e,0),r=zf(t,0),i=0;i<n.length&&i<r.length;i++){var s=Ra(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function PI(e,t){if(Yo(e)!==Yo(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function gr(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Yo(e)>Yo(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var lK=function(){function e(t,n){this.errorPrefix_=n,this.parts_=zf(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Rg(this.parts_[r]);jL(this)}return e}();function cK(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Rg(t),jL(e)}function fK(e){var t=e.parts_.pop();e.byteLength_-=Rg(t),e.parts_.length>0&&(e.byteLength_-=1)}function jL(e){if(e.byteLength_>aR)throw new Error(e.errorPrefix_+"has a key path longer than "+aR+" bytes ("+e.byteLength_+").");if(e.parts_.length>sR)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+sR+") or object contains a cycle "+qs(e))}function qs(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hK=function(e){H(t,e);function t(){var n=e.call(this,["visible"])||this,r,i;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var s=!document[r];s!==n.visible_&&(n.visible_=s,n.trigger("visible",s))},!1),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return $(n==="visible","Unknown event type: "+n),[this.visible_]},t}(FL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $c=1e3,dK=60*5*1e3,pK=3*1e3,uR=30*1e3,vK=1.3,gK=3e4,mK="server_kill",lR=3,oa=function(e){H(t,e);function t(n,r,i,s,a,l,c,h){var p=e.call(this)||this;if(p.repoInfo_=n,p.applicationId_=r,p.onDataUpdate_=i,p.onConnectStatus_=s,p.onServerInfoUpdate_=a,p.authTokenProvider_=l,p.appCheckTokenProvider_=c,p.authOverride_=h,p.id=t.nextPersistentConnectionId_++,p.log_=wh("p:"+p.id+":"),p.interruptReasons_={},p.listens=new Map,p.outstandingPuts_=[],p.outstandingGets_=[],p.outstandingPutCount_=0,p.outstandingGetCount_=0,p.onDisconnectRequestQueue_=[],p.connected_=!1,p.reconnectDelay_=$c,p.maxReconnectDelay_=dK,p.securityDebugCallback_=null,p.lastSessionId=null,p.establishConnectionTimer_=null,p.visible_=!1,p.requestCBHash_={},p.requestNumber_=0,p.realtime_=null,p.authToken_=null,p.appCheckToken_=null,p.forceTokenRefresh_=!1,p.invalidAuthTokenCount_=0,p.invalidAppCheckTokenCount_=0,p.firstConnection_=!0,p.lastConnectionAttemptTime_=null,p.lastConnectionEstablishedTime_=null,h&&!iL())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return p.scheduleConnect_(0),hK.getInstance().on("visible",p.onVisible_,p),n.host.indexOf("fblocal")===-1&&oR.getInstance().on("online",p.onOnline_,p),p}return t.prototype.sendRequest=function(n,r,i){var s=++this.requestNumber_,a={r:s,a:n,b:r};this.log_(bt(a)),$(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)},t.prototype.get=function(n){var r=this,i=new xn,s={p:n._path.toString(),q:n._queryObject},a={action:"g",request:s,onComplete:function(c){var h=c.d;c.s==="ok"?(r.onDataUpdate_(s.p,h,!1,null),i.resolve(h)):i.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var l=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var c=r.outstandingGets_[l];c===void 0||a!==c||(delete r.outstandingGets_[l],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+l+" timed out on connection"),i.reject(new Error("Client is offline.")))},pK),this.connected_&&this.sendGet_(l),i.promise},t.prototype.listen=function(n,r,i,s){var a=n._queryIdentifier,l=n._path.toString();this.log_("Listen called for "+l+" "+a),this.listens.has(l)||this.listens.set(l,new Map),$(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),$(!this.listens.get(l).has(a),"listen() called twice for same path/queryId.");var c={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(l).set(a,c),this.connected_&&this.sendListen_(c)},t.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(s){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})},t.prototype.sendListen_=function(n){var r=this,i=n.query,s=i._path.toString(),a=i._queryIdentifier;this.log_("Listen on "+s+" for "+a);var l={p:s},c="q";n.tag&&(l.q=i._queryObject,l.t=n.tag),l.h=n.hashFn(),this.sendRequest(c,l,function(h){var p=h.d,v=h.s;t.warnOnListenWarnings_(p,i);var m=r.listens.get(s)&&r.listens.get(s).get(a);m===n&&(r.log_("listen response",h),v!=="ok"&&r.removeListen_(s,a),n.onComplete&&n.onComplete(v,p))})},t.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&rr(n,"w")){var i=ma(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();Wt("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+s+" at ")+(a+" to your security rules for better performance."))}}},t.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||L6(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=uR)},t.prototype.refreshAppCheckToken=function(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},t.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=D6(r)?"auth":"gauth",s={cred:r};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,function(a){var l=a.s,c=a.d||"error";n.authToken_===r&&(l==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(l,c))})}},t.prototype.tryAppCheck=function(){var n=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(r){var i=r.s,s=r.d||"error";i==="ok"?n.invalidAppCheckTokenCount_=0:n.onAppCheckRevoked_(i,s)})},t.prototype.unlisten=function(n,r){var i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),$(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,s);a&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)},t.prototype.sendUnlisten_=function(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);var a={p:n},l="n";s&&(a.q=i,a.t=s),this.sendRequest(l,a)},t.prototype.onDisconnectPut=function(n,r,i){this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},t.prototype.onDisconnectMerge=function(n,r,i){this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},t.prototype.onDisconnectCancel=function(n,r){this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},t.prototype.sendOnDisconnect_=function(n,r,i,s){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(l){s&&setTimeout(function(){s(l.s,l.d)},Math.floor(0))})},t.prototype.put=function(n,r,i,s){this.putInternal("p",n,r,i,s)},t.prototype.merge=function(n,r,i,s){this.putInternal("m",n,r,i,s)},t.prototype.putInternal=function(n,r,i,s,a){var l={p:r,d:i};a!==void 0&&(l.h=a),this.outstandingPuts_.push({action:n,request:l,onComplete:s}),this.outstandingPutCount_++;var c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)},t.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,s=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,s,function(l){r.log_(i+" response",l),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(l.s,l.d)})},t.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(s){var a=s.s;if(a!=="ok"){var l=s.d;r.log_("reportStats","Error sending stats: "+l)}})}},t.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+bt(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},t.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):EE("Unrecognized action received from server: "+bt(n)+`
Are you using the latest client?`)},t.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(n){var r=this;$(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},t.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=$c,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},t.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=$c,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>gK&&(this.reconnectDelay_=$c),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*vK)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return R(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h,p,v,m,y,w,b,S=this;return N(this,function(I){switch(I.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,a=this.lastSessionId,l=!1,c=null,h=function(){c?c.close():(l=!0,i())},p=function(T){$(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(T)},this.realtime_={close:h,sendRequest:p},v=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,I.label=1;case 1:return I.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)])];case 2:return m=$t.apply(void 0,[I.sent(),2]),y=m[0],w=m[1],l?Ot("getToken() completed but was canceled"):(Ot("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=w&&w.token,c=new LL(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,function(T){Wt(T+" ("+S.repoInfo_.toString()+")"),S.interrupt(mK)},a)),[3,4];case 3:return b=I.sent(),this.log_("Failed to get token: "+b),l||(this.repoInfo_.nodeAdmin&&Wt(b),h()),[3,4];case 4:return[2]}})})},t.prototype.interrupt=function(n){Ot("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(n){Ot("Resuming connection for reason: "+n),delete this.interruptReasons_[n],yE(this.interruptReasons_)&&(this.reconnectDelay_=$c,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},t.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return TI(a)}).join("$"):i="default";var s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")},t.prototype.removeListen_=function(n,r){var i=new Ae(n).toString(),s;if(this.listens.has(i)){var a=this.listens.get(i);s=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else s=void 0;return s},t.prototype.onAuthRevoked_=function(n,r){Ot("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=lR&&(this.reconnectDelay_=uR,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(n,r){Ot("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=lR&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},t.prototype.restoreState_=function(){var n,r,i,s;this.tryAuth(),this.tryAppCheck();try{for(var a=Mt(this.listens.values()),l=a.next();!l.done;l=a.next()){var c=l.value;try{for(var h=(i=void 0,Mt(c.values())),p=h.next();!p.done;p=h.next()){var v=p.value;this.sendListen_(v)}}catch(w){i={error:w}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}}catch(w){n={error:w}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var m=0;m<this.outstandingPuts_.length;m++)this.outstandingPuts_[m]&&this.sendPut_(m);for(;this.onDisconnectRequestQueue_.length;){var y=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(y.action,y.pathString,y.data,y.onComplete)}for(var m=0;m<this.outstandingGets_.length;m++)this.outstandingGets_[m]&&this.sendGet_(m)},t.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+hL.replace(/\./g,"-")]=1,yI()?n["framework.cordova"]=1:rL()&&(n["framework.reactnative"]=1),this.reportStats(n)},t.prototype.shouldReconnect_=function(){var n=oR.getInstance().currentlyOnline();return yE(this.interruptReasons_)&&n},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(ML);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee=function(){function e(t,n){this.name=t,this.node=n}return e.Wrap=function(t,n){return new e(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Og=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(t,n){var r=new Ee(Yi,t),i=new Ee(Yi,n);return this.compare(r,i)!==0},e.prototype.minPost=function(){return Ee.MIN},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dp,VL=function(e){H(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return dp},set:function(n){dp=n},enumerable:!1,configurable:!0}),t.prototype.compare=function(n,r){return Ra(n.name,r.name)},t.prototype.isDefinedOn=function(n){throw Pl("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(n,r){return!1},t.prototype.minPost=function(){return Ee.MIN},t.prototype.maxPost=function(){return new Ee(Ei,dp)},t.prototype.makePost=function(n,r){return $(typeof n=="string","KeyIndex indexValue must always be a string."),new Ee(n,dp)},t.prototype.toString=function(){return".key"},t}(Og),gi=new VL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pp=function(){function e(t,n,r,i,s){s===void 0&&(s=null),this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];for(var a=1;!t.isEmpty();)if(t=t,a=n?r(t.key,n):1,i&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}return e.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},e}(),zr=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??Vi.EMPTY_NODE,this.right=s??Vi.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Vi.EMPTY_NODE;var t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()},e.prototype.remove=function(t,n){var r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Vi.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},e.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t},e.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),yK=function(){function e(){}return e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new zr(t,n,null)},e.prototype.remove=function(t,n){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Vi=function(){function e(t,n){n===void 0&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,zr.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,zr.BLACK,null,null))},e.prototype.get=function(t){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},e.prototype.getPredecessorKey=function(t){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},e.prototype.getIterator=function(t){return new pp(this.root_,null,this.comparator_,!1,t)},e.prototype.getIteratorFrom=function(t,n){return new pp(this.root_,t,this.comparator_,!1,n)},e.prototype.getReverseIteratorFrom=function(t,n){return new pp(this.root_,t,this.comparator_,!0,n)},e.prototype.getReverseIterator=function(t){return new pp(this.root_,null,this.comparator_,!0,t)},e.EMPTY_NODE=new yK,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _K(e,t){return Ra(e.name,t.name)}function OI(e,t){return Ra(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IE;function wK(e){IE=e}var BL=function(e){return typeof e=="number"?"number:"+_L(e):"string:"+e},$L=function(e){if(e.isLeafNode()){var t=e.val();$(typeof t=="string"||typeof t=="number"||typeof t=="object"&&rr(t,".sv"),"Priority must be a string or number.")}else $(e===IE||e.isEmpty(),"priority of unexpected type.");$(e===IE||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cR,tl=function(){function e(t,n){n===void 0&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,$(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),$L(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return cR},set:function(t){cR=t},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return t===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return pe(t)?this:de(t)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(t,n){return null},e.prototype.updateImmediateChild=function(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=de(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:($(r!==".priority"||Yo(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Le(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(t,n){return!1},e.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+BL(this.priorityNode_.val())+":");var n=typeof this.value_;t+=n+":",n==="number"?t+=_L(this.value_):t+=this.value_,this.lazyHash_=gL(t)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:($(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),s=e.VALUE_TYPE_ORDER.indexOf(r);return $(i>=0,"Unknown leaf type: "+n),$(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qL,zL;function EK(e){qL=e}function bK(e){zL=e}var IK=function(e){H(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.getPriority(),s=r.node.getPriority(),a=i.compareTo(s);return a===0?Ra(n.name,r.name):a},t.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},t.prototype.minPost=function(){return Ee.MIN},t.prototype.maxPost=function(){return new Ee(Ei,new tl("[PRIORITY-POST]",zL))},t.prototype.makePost=function(n,r){var i=qL(n);return new Ee(r,new tl("[PRIORITY-POST]",i))},t.prototype.toString=function(){return".priority"},t}(Og),je=new IK;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TK=Math.log(2),SK=function(){function e(t){var n=function(s){return parseInt(Math.log(s)/TK,10)},r=function(s){return parseInt(Array(s+1).join("1"),2)};this.count=n(t+1),this.current_=this.count-1;var i=r(this.count);this.bits_=t+1&i}return e.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},e}(),Sv=function(e,t,n,r){e.sort(t);var i=function(c,h){var p=h-c,v,m;if(p===0)return null;if(p===1)return v=e[c],m=n?n(v):v,new zr(m,v.node,zr.BLACK,null,null);var y=parseInt(p/2,10)+c,w=i(c,y),b=i(y+1,h);return v=e[y],m=n?n(v):v,new zr(m,v.node,zr.BLACK,w,b)},s=function(c){for(var h=null,p=null,v=e.length,m=function(I,T){var C=v-I,P=v;v-=I;var D=i(C+1,P),O=e[C],B=n?n(O):O;y(new zr(B,O.node,T,null,D))},y=function(I){h?(h.left=I,h=I):(p=I,h=I)},w=0;w<c.count;++w){var b=c.nextBitIsOne(),S=Math.pow(2,c.count-(w+1));b?m(S,zr.BLACK):(m(S,zr.BLACK),m(S,zr.RED))}return p},a=new SK(e.length),l=s(a);return new Vi(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V_,vu={},Cv=function(){function e(t,n){this.indexes_=t,this.indexSet_=n}return Object.defineProperty(e,"Default",{get:function(){return $(vu&&je,"ChildrenNode.ts has not been loaded"),V_=V_||new e({".priority":vu},{".priority":je}),V_},enumerable:!1,configurable:!0}),e.prototype.get=function(t){var n=ma(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Vi?n:null},e.prototype.hasIndex=function(t){return rr(this.indexSet_,t.toString())},e.prototype.addIndex=function(t,n){$(t!==gi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,s=n.getIterator(Ee.Wrap),a=s.getNext();a;)i=i||t.isDefinedOn(a.node),r.push(a),a=s.getNext();var l;i?l=Sv(r,t.getCompare()):l=vu;var c=t.toString(),h=Me({},this.indexSet_);h[c]=t;var p=Me({},this.indexes_);return p[c]=l,new e(p,h)},e.prototype.addToIndexes=function(t,n){var r=this,i=Ev(this.indexes_,function(s,a){var l=ma(r.indexSet_,a);if($(l,"Missing index implementation for "+a),s===vu)if(l.isDefinedOn(t.node)){for(var c=[],h=n.getIterator(Ee.Wrap),p=h.getNext();p;)p.name!==t.name&&c.push(p),p=h.getNext();return c.push(t),Sv(c,l.getCompare())}else return vu;else{var v=n.get(t.name),m=s;return v&&(m=m.remove(new Ee(t.name,v))),m.insert(t,t.node)}});return new e(i,this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){var r=Ev(this.indexes_,function(i){if(i===vu)return i;var s=n.get(t.name);return s?i.remove(new Ee(t.name,s)):i});return new e(r,this.indexSet_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qc,le=function(){function e(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&$L(this.priorityNode_),this.children_.isEmpty()&&$(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return qc||(qc=new e(new Vi(OI),null,Cv.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||qc},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(t){if(t===".priority")return this.getPriority();var n=this.children_.get(t);return n===null?qc:n},e.prototype.getChild=function(t){var n=de(t);return n===null?this:this.getImmediateChild(n).getChild(Le(t))},e.prototype.hasChild=function(t){return this.children_.get(t)!==null},e.prototype.updateImmediateChild=function(t,n){if($(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);var r=new Ee(t,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?qc:this.priorityNode_;return new e(i,a,s)},e.prototype.updateChild=function(t,n){var r=de(t);if(r===null)return n;$(de(t)!==".priority"||Yo(t)===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(Le(t),n);return this.updateImmediateChild(r,i)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,s=!0;if(this.forEachChild(je,function(c,h){n[c]=h.val(t),r++,s&&e.INTEGER_REGEXP_.test(c)?i=Math.max(i,Number(c)):s=!1}),!t&&s&&i<2*r){var a=[];for(var l in n)a[l]=n[l];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.getPriority().isEmpty()||(t+="priority:"+BL(this.getPriority().val())+":"),this.forEachChild(je,function(n,r){var i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":gL(t)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(t,n,r){var i=this.resolveIndex_(r);if(i){var s=i.getPredecessorKey(new Ee(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)},e.prototype.getFirstChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},e.prototype.getFirstChild=function(t){var n=this.getFirstChildName(t);return n?new Ee(n,this.children_.get(n)):null},e.prototype.getLastChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},e.prototype.getLastChild=function(t){var n=this.getLastChildName(t);return n?new Ee(n,this.children_.get(n)):null},e.prototype.forEachChild=function(t,n){var r=this.resolveIndex_(t);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},e.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},e.prototype.getIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,function(a){return a});for(var i=this.children_.getIteratorFrom(t.name,Ee.Wrap),s=i.peek();s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i},e.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},e.prototype.getReverseIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(t.name,Ee.Wrap),s=i.peek();s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i},e.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Eh?-1:0},e.prototype.withIndex=function(t){if(t===gi||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(t){return t===gi||this.indexMap_.hasIndex(t)},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(je),i=n.getIterator(je),s=r.getNext(),a=i.getNext();s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1},e.prototype.resolveIndex_=function(t){return t===gi?null:this.indexMap_.get(t.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),CK=function(e){H(t,e);function t(){return e.call(this,new Vi(OI),le.EMPTY_NODE,Cv.Default)||this}return t.prototype.compareTo=function(n){return n===this?0:1},t.prototype.equals=function(n){return n===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(n){return le.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(le),Eh=new CK;Object.defineProperties(Ee,{MIN:{value:new Ee(Yi,le.EMPTY_NODE)},MAX:{value:new Ee(Ei,Eh)}});VL.__EMPTY_NODE=le.EMPTY_NODE;tl.__childrenNodeConstructor=le;wK(Eh);bK(Eh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kK=!0;function Ze(e,t){if(t===void 0&&(t=null),e===null)return le.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),$(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){var n=e;return new tl(n,Ze(t))}if(!(e instanceof Array)&&kK){var r=[],i=!1,s=e;if(Ct(s,function(h,p){if(h.substring(0,1)!=="."){var v=Ze(p);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),r.push(new Ee(h,v)))}}),r.length===0)return le.EMPTY_NODE;var a=Sv(r,_K,function(h){return h.name},OI);if(i){var l=Sv(r,je.getCompare());return new le(a,Ze(t),new Cv({".priority":l},{".priority":je}))}else return new le(a,Ze(t),Cv.Default)}else{var c=le.EMPTY_NODE;return Ct(e,function(h,p){if(rr(e,h)&&h.substring(0,1)!=="."){var v=Ze(p);(v.isLeafNode()||!v.isEmpty())&&(c=c.updateImmediateChild(h,v))}}),c.updatePriority(Ze(t))}}EK(Ze);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xI=function(e){H(t,e);function t(n){var r=e.call(this)||this;return r.indexPath_=n,$(!pe(n)&&de(n)!==".priority","Can't create PathIndex with empty path or .priority key"),r}return t.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(n,r){var i=this.extractChild(n.node),s=this.extractChild(r.node),a=i.compareTo(s);return a===0?Ra(n.name,r.name):a},t.prototype.makePost=function(n,r){var i=Ze(n),s=le.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ee(r,s)},t.prototype.maxPost=function(){var n=le.EMPTY_NODE.updateChild(this.indexPath_,Eh);return new Ee(Ei,n)},t.prototype.toString=function(){return zf(this.indexPath_,0).join("/")},t}(Og);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NK=function(e){H(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?Ra(n.name,r.name):i},t.prototype.isDefinedOn=function(n){return!0},t.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},t.prototype.minPost=function(){return Ee.MIN},t.prototype.maxPost=function(){return Ee.MAX},t.prototype.makePost=function(n,r){var i=Ze(n);return new Ee(r,i)},t.prototype.toString=function(){return".value"},t}(Og),DI=new NK;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nl="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",TE="-",WL="z",KL=786,AK=function(){var e=0,t=[];return function(n){var r=n===e;e=n;var i,s=new Array(8);for(i=7;i>=0;i--)s[i]=nl.charAt(n%64),n=Math.floor(n/64);$(n===0,"Cannot push at time == 0");var a=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=nl.charAt(t[i]);return $(a.length===20,"nextPushId: Length should be 20."),a}}(),fR=function(e){if(e===""+SI)return TE;var t=Iv(e);if(t!=null)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<KL)return n.push(TE),n.join("");for(var i=n.length-1;i>=0&&n[i]===WL;)i--;if(i===-1)return Ei;var s=n[i],a=nl.charAt(nl.indexOf(s)+1);return n[i]=a,n.slice(0,i+1).join("")},hR=function(e){if(e===""+wL)return Yi;var t=Iv(e);if(t!=null)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return n[n.length-1]===TE?n.length===1?""+SI:(delete n[n.length-1],n.join("")):(n[n.length-1]=nl.charAt(nl.indexOf(n[n.length-1])-1),n.join("")+WL.repeat(KL-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(e){return{type:"value",snapshotNode:e}}function rl(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Wf(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Kf(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function RK(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LI=function(){function e(t){this.index_=t}return e.prototype.updateChild=function(t,n,r,i,s,a){$(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var l=t.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?t.hasChild(n)?a.trackChildChange(Wf(n,l)):$(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?a.trackChildChange(rl(n,r)):a.trackChildChange(Kf(n,r,l))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)},e.prototype.updateFullNode=function(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(je,function(i,s){n.hasChild(i)||r.trackChildChange(Wf(i,s))}),n.isLeafNode()||n.forEachChild(je,function(i,s){if(t.hasChild(i)){var a=t.getImmediateChild(i);a.equals(s)||r.trackChildChange(Kf(i,s,a))}else r.trackChildChange(rl(i,s))})),n.withIndex(this.index_)},e.prototype.updatePriority=function(t,n){return t.isEmpty()?le.EMPTY_NODE:t.updatePriority(n)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GL=function(){function e(t){this.indexedFilter_=new LI(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},e.prototype.updateChild=function(t,n,r,i,s,a){return this.matches(new Ee(n,r))||(r=le.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,a)},e.prototype.updateFullNode=function(t,n,r){n.isLeafNode()&&(n=le.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(le.EMPTY_NODE);var s=this;return n.forEachChild(je,function(a,l){s.matches(new Ee(a,l))||(i=i.updateImmediateChild(a,le.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(t){if(t.hasStart()){var n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()},e.getEndPost_=function(t){if(t.hasEnd()){var n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PK=function(){function e(t){this.rangedFilter_=new GL(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return e.prototype.updateChild=function(t,n,r,i,s,a){return this.rangedFilter_.matches(new Ee(n,r))||(r=le.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,a):this.fullLimitUpdateChild_(t,n,r,s,a)},e.prototype.updateFullNode=function(t,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=le.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=le.EMPTY_NODE.withIndex(this.index_);var s=void 0;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;s.hasNext()&&a<this.limit_;){var l=s.getNext(),c=void 0;if(this.reverse_?c=this.index_.compare(this.rangedFilter_.getStartPost(),l)<=0:c=this.index_.compare(l,this.rangedFilter_.getEndPost())<=0,c)i=i.updateImmediateChild(l.name,l.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(le.EMPTY_NODE);var h=void 0,p=void 0,v=void 0,s=void 0;if(this.reverse_){s=i.getReverseIterator(this.index_),h=this.rangedFilter_.getEndPost(),p=this.rangedFilter_.getStartPost();var m=this.index_.getCompare();v=function(S,I){return m(I,S)}}else s=i.getIterator(this.index_),h=this.rangedFilter_.getStartPost(),p=this.rangedFilter_.getEndPost(),v=this.index_.getCompare();for(var a=0,y=!1;s.hasNext();){var l=s.getNext();!y&&v(h,l)<=0&&(y=!0);var c=y&&a<this.limit_&&v(l,p)<=0;c?a++:i=i.updateImmediateChild(l.name,le.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(t,n,r,i,s){var a;if(this.reverse_){var l=this.index_.getCompare();a=function(T,C){return l(C,T)}}else a=this.index_.getCompare();var c=t;$(c.numChildren()===this.limit_,"");var h=new Ee(n,r),p=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),v=this.rangedFilter_.matches(h);if(c.hasChild(n)){for(var m=c.getImmediateChild(n),y=i.getChildAfterChild(this.index_,p,this.reverse_);y!=null&&(y.name===n||c.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);var w=y==null?1:a(y,h),b=v&&!r.isEmpty()&&w>=0;if(b)return s!=null&&s.trackChildChange(Kf(n,r,m)),c.updateImmediateChild(n,r);s!=null&&s.trackChildChange(Wf(n,m));var S=c.updateImmediateChild(n,le.EMPTY_NODE),I=y!=null&&this.rangedFilter_.matches(y);return I?(s!=null&&s.trackChildChange(rl(y.name,y.node)),S.updateImmediateChild(y.name,y.node)):S}else return r.isEmpty()?t:v&&a(p,h)>=0?(s!=null&&(s.trackChildChange(Wf(p.name,p.node)),s.trackChildChange(rl(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(p.name,le.EMPTY_NODE)):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QL=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=je}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"},e.prototype.getIndexStartValue=function(){return $(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return $(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Yi},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return $(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return $(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ei},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},e.prototype.getLimit=function(){return $(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===je},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function OK(e){return e.loadsAllData()?new LI(e.getIndex()):e.hasLimit()?new PK(e):new GL(e)}function xK(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function DK(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function SE(e,t,n){var r=e.copy();return r.startSet_=!0,t===void 0&&(t=null),r.indexStartValue_=t,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function LK(e,t,n){var r;if(e.index_===gi)typeof t=="string"&&(t=fR(t)),r=SE(e,t,n);else{var i=void 0;n==null?i=Ei:i=fR(n),r=SE(e,t,i)}return r.startAfterSet_=!0,r}function CE(e,t,n){var r=e.copy();return r.endSet_=!0,t===void 0&&(t=null),r.indexEndValue_=t,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function MK(e,t,n){var r,i;return e.index_===gi?(typeof t=="string"&&(t=hR(t)),i=CE(e,t,n)):(n==null?r=Yi:r=hR(n),i=CE(e,t,r)),i.endBeforeSet_=!0,i}function xg(e,t){var n=e.copy();return n.index_=t,n}function dR(e){var t={};if(e.isDefault())return t;var n;return e.index_===je?n="$priority":e.index_===DI?n="$value":e.index_===gi?n="$key":($(e.index_ instanceof xI,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=bt(n),e.startSet_&&(t.startAt=bt(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+bt(e.indexStartName_))),e.endSet_&&(t.endAt=bt(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+bt(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function pR(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==je&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FK=function(e){H(t,e);function t(n,r,i,s){var a=e.call(this)||this;return a.repoInfo_=n,a.onDataUpdate_=r,a.authTokenProvider_=i,a.appCheckTokenProvider_=s,a.log_=wh("p:rest:"),a.listens_={},a}return t.prototype.reportStats=function(n){throw new Error("Method not implemented.")},t.getListenId_=function(n,r){return r!==void 0?"tag$"+r:($(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())},t.prototype.listen=function(n,r,i,s){var a=this,l=n._path.toString();this.log_("Listen called for "+l+" "+n._queryIdentifier);var c=t.getListenId_(n,i),h={};this.listens_[c]=h;var p=dR(n._queryParams);this.restRequest_(l+".json",p,function(v,m){var y=m;if(v===404&&(y=null,v=null),v===null&&a.onDataUpdate_(l,y,!1,i),ma(a.listens_,c)===h){var w;v?v===401?w="permission_denied":w="rest_error:"+v:w="ok",s(w,null)}})},t.prototype.unlisten=function(n,r){var i=t.getListenId_(n,r);delete this.listens_[i]},t.prototype.get=function(n){var r=this,i=dR(n._queryParams),s=n._path.toString(),a=new xn;return this.restRequest_(s+".json",i,function(l,c){var h=c;l===404&&(h=null,l=null),l===null?(r.onDataUpdate_(s,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise},t.prototype.refreshAuthToken=function(n){},t.prototype.restRequest_=function(n,r,i){var s=this;return r===void 0&&(r={}),r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(a){var l=$t(a,2),c=l[0],h=l[1];c&&c.accessToken&&(r.auth=c.accessToken),h&&h.token&&(r.ac=h.token);var p=(s.repoInfo_.secure?"https://":"http://")+s.repoInfo_.host+n+"?ns="+s.repoInfo_.namespace+M6(r);s.log_("Sending REST request for "+p);var v=new XMLHttpRequest;v.onreadystatechange=function(){if(i&&v.readyState===4){s.log_("REST Response for "+p+" received. status:",v.status,"response:",v.responseText);var m=null;if(v.status>=200&&v.status<300){try{m=qf(v.responseText)}catch{Wt("Failed to parse JSON response for "+p+": "+v.responseText)}i(null,m)}else v.status!==401&&v.status!==404&&Wt("Got unsuccessful REST response for "+p+" Status: "+v.status),i(v.status);i=null}},v.open("GET",p,!0),v.send()})},t}(ML);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UK=function(){function e(){this.rootNode_=le.EMPTY_NODE}return e.prototype.getNode=function(t){return this.rootNode_.getChild(t)},e.prototype.updateSnapshot=function(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(){return{value:null,children:new Map}}function Ll(e,t,n){if(pe(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{var r=de(t);e.children.has(r)||e.children.set(r,kv());var i=e.children.get(r);t=Le(t),Ll(i,t,n)}}function kE(e,t){if(pe(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(je,function(s,a){Ll(e,new Ae(s),a)}),kE(e,t)}else if(e.children.size>0){var r=de(t);if(t=Le(t),e.children.has(r)){var i=kE(e.children.get(r),t);i&&e.children.delete(r)}return e.children.size===0}else return!0}function NE(e,t,n){e.value!==null?n(t,e.value):jK(e,function(r,i){var s=new Ae(t.toString()+"/"+r);NE(i,s,n)})}function jK(e,t){e.children.forEach(function(n,r){t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YL=function(){function e(t){this.collection_=t,this.last_=null}return e.prototype.get=function(){var t=this.collection_.get(),n=Me({},t);return this.last_&&Ct(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=t,n},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vR=10*1e3,VK=30*1e3,BK=5*60*1e3,$K=function(){function e(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new YL(t);var r=vR+(VK-vR)*Math.random();cf(this.reportStats_.bind(this),Math.floor(r))}return e.prototype.reportStats_=function(){var t=this,n=this.statsListener_.get(),r={},i=!1;Ct(n,function(s,a){a>0&&rr(t.statsToReport_,s)&&(r[s]=a,i=!0)}),i&&this.server_.reportStats(r),cf(this.reportStats_.bind(this),Math.floor(Math.random()*2*BK))},e}();function qK(e,t){e.statsToReport_[t]=!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hr;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Hr||(Hr={}));function MI(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function FI(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function UI(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zK=function(){function e(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Hr.ACK_USER_WRITE,this.source=MI()}return e.prototype.operationForChild=function(t){if(pe(this.path)){if(this.affectedTree.value!=null)return $(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Ae(t));return new e(ke(),n,this.revert)}else return $(de(this.path)===t,"operationForChild called for unrelated child."),new e(Le(this.path),this.affectedTree,this.revert)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XL=function(){function e(t,n){this.source=t,this.path=n,this.type=Hr.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return pe(this.path)?new e(this.source,ke()):new e(this.source,Le(this.path))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dg=function(){function e(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Hr.OVERWRITE}return e.prototype.operationForChild=function(t){return pe(this.path)?new e(this.source,ke(),this.snap.getImmediateChild(t)):new e(this.source,Le(this.path),this.snap)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jI=function(){function e(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Hr.MERGE}return e.prototype.operationForChild=function(t){if(pe(this.path)){var n=this.children.subtree(new Ae(t));return n.isEmpty()?null:n.value?new Dg(this.source,ke(),n.value):new e(this.source,ke(),n)}else return $(de(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Le(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xo=function(){function e(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(t){if(pe(t))return this.isFullyInitialized()&&!this.filtered_;var n=de(t);return this.isCompleteForChild(n)},e.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},e.prototype.getNode=function(){return this.node_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WK=function(){function e(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}return e}();function KK(e,t,n,r){var i=[],s=[];return t.forEach(function(a){a.type==="child_changed"&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(RK(a.childName,a.snapshotNode))}),zc(e,i,"child_removed",t,r,n),zc(e,i,"child_added",t,r,n),zc(e,i,"child_moved",s,r,n),zc(e,i,"child_changed",t,r,n),zc(e,i,"value",t,r,n),i}function zc(e,t,n,r,i,s){var a=r.filter(function(l){return l.type===n});a.sort(function(l,c){return GK(e,l,c)}),a.forEach(function(l){var c=HK(e,l,s);i.forEach(function(h){h.respondsTo(l.type)&&t.push(h.createEvent(c,e.query_))})})}function HK(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function GK(e,t,n){if(t.childName==null||n.childName==null)throw Pl("Should only compare child_ events.");var r=new Ee(t.childName,t.snapshotNode),i=new Ee(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(e,t){return{eventCache:e,serverCache:t}}function hf(e,t,n,r){return Lg(new Xo(t,n,r),e.serverCache)}function JL(e,t,n,r){return Lg(e.eventCache,new Xo(t,n,r))}function Nv(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ya(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B_,QK=function(){return B_||(B_=new Vi(CW)),B_},ir=function(){function e(t,n){n===void 0&&(n=QK()),this.value=t,this.children=n}return e.fromObject=function(t){var n=new e(null);return Ct(t,function(r,i){n=n.set(new Ae(r),i)}),n},e.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(t,n){if(this.value!=null&&n(this.value))return{path:ke(),value:this.value};if(pe(t))return null;var r=de(t),i=this.children.get(r);if(i!==null){var s=i.findRootMostMatchingPathAndValue(Le(t),n);if(s!=null){var a=Ge(new Ae(r),s.path);return{path:a,value:s.value}}else return null}else return null},e.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},e.prototype.subtree=function(t){if(pe(t))return this;var n=de(t),r=this.children.get(n);return r!==null?r.subtree(Le(t)):new e(null)},e.prototype.set=function(t,n){if(pe(t))return new e(n,this.children);var r=de(t),i=this.children.get(r)||new e(null),s=i.set(Le(t),n),a=this.children.insert(r,s);return new e(this.value,a)},e.prototype.remove=function(t){if(pe(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=de(t),r=this.children.get(n);if(r){var i=r.remove(Le(t)),s=void 0;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new e(null):new e(this.value,s)}else return this},e.prototype.get=function(t){if(pe(t))return this.value;var n=de(t),r=this.children.get(n);return r?r.get(Le(t)):null},e.prototype.setTree=function(t,n){if(pe(t))return n;var r=de(t),i=this.children.get(r)||new e(null),s=i.setTree(Le(t),n),a=void 0;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new e(this.value,a)},e.prototype.fold=function(t){return this.fold_(ke(),t)},e.prototype.fold_=function(t,n){var r={};return this.children.inorderTraversal(function(i,s){r[i]=s.fold_(Ge(t,i),n)}),n(t,this.value,r)},e.prototype.findOnPath=function(t,n){return this.findOnPath_(t,ke(),n)},e.prototype.findOnPath_=function(t,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(pe(t))return null;var s=de(t),a=this.children.get(s);return a?a.findOnPath_(Le(t),Ge(n,s),r):null},e.prototype.foreachOnPath=function(t,n){return this.foreachOnPath_(t,ke(),n)},e.prototype.foreachOnPath_=function(t,n,r){if(pe(t))return this;this.value&&r(n,this.value);var i=de(t),s=this.children.get(i);return s?s.foreachOnPath_(Le(t),Ge(n,i),r):new e(null)},e.prototype.foreach=function(t){this.foreach_(ke(),t)},e.prototype.foreach_=function(t,n){this.children.inorderTraversal(function(r,i){i.foreach_(Ge(t,r),n)}),this.value&&n(t,this.value)},e.prototype.foreachChild=function(t){this.children.inorderTraversal(function(n,r){r.value&&t(n,r.value)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qi=function(){function e(t){this.writeTree_=t}return e.empty=function(){return new e(new ir(null))},e}();function df(e,t,n){if(pe(t))return new qi(new ir(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){var i=r.path,s=r.value,a=yn(i,t);return s=s.updateChild(a,n),new qi(e.writeTree_.set(i,s))}else{var l=new ir(n),c=e.writeTree_.setTree(t,l);return new qi(c)}}function AE(e,t,n){var r=e;return Ct(n,function(i,s){r=df(r,Ge(t,i),s)}),r}function gR(e,t){if(pe(t))return qi.empty();var n=e.writeTree_.setTree(t,new ir(null));return new qi(n)}function RE(e,t){return Pa(e,t)!=null}function Pa(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(yn(n.path,t)):null}function mR(e){var t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(je,function(r,i){t.push(new Ee(r,i))}):e.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&t.push(new Ee(r,i.value))}),t}function qo(e,t){if(pe(t))return e;var n=Pa(e,t);return n!=null?new qi(new ir(n)):new qi(e.writeTree_.subtree(t))}function PE(e){return e.writeTree_.isEmpty()}function il(e,t){return ZL(ke(),e.writeTree_,t)}function ZL(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal(function(i,s){i===".priority"?($(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=ZL(Ge(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(Ge(e,".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(e,t){return r2(t,e)}function YK(e,t,n,r,i){$(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=df(e.visibleWrites,t,n)),e.lastWriteId=r}function XK(e,t,n,r){$(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=AE(e.visibleWrites,t,n),e.lastWriteId=r}function JK(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function ZK(e,t){var n=e.allWrites.findIndex(function(h){return h.writeId===t});$(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,s=!1,a=e.allWrites.length-1;i&&a>=0;){var l=e.allWrites[a];l.visible&&(a>=n&&eH(l,r.path)?i=!1:gr(r.path,l.path)&&(s=!0)),a--}if(i){if(s)return tH(e),!0;if(r.snap)e.visibleWrites=gR(e.visibleWrites,r.path);else{var c=r.children;Ct(c,function(h){e.visibleWrites=gR(e.visibleWrites,Ge(r.path,h))})}return!0}else return!1}function eH(e,t){if(e.snap)return gr(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&gr(Ge(e.path,n),t))return!0;return!1}function tH(e){e.visibleWrites=e2(e.allWrites,nH,ke()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function nH(e){return e.visible}function e2(e,t,n){for(var r=qi.empty(),i=0;i<e.length;++i){var s=e[i];if(t(s)){var a=s.path,l=void 0;if(s.snap)gr(n,a)?(l=yn(n,a),r=df(r,l,s.snap)):gr(a,n)&&(l=yn(a,n),r=df(r,ke(),s.snap.getChild(l)));else if(s.children){if(gr(n,a))l=yn(n,a),r=AE(r,l,s.children);else if(gr(a,n))if(l=yn(a,n),pe(l))r=AE(r,ke(),s.children);else{var c=ma(s.children,de(l));if(c){var h=c.getChild(Le(l));r=df(r,ke(),h)}}}else throw Pl("WriteRecord should have .snap or .children")}}return r}function t2(e,t,n,r,i){if(!r&&!i){var s=Pa(e.visibleWrites,t);if(s!=null)return s;var a=qo(e.visibleWrites,t);if(PE(a))return n;if(n==null&&!RE(a,ke()))return null;var l=n||le.EMPTY_NODE;return il(a,l)}else{var c=qo(e.visibleWrites,t);if(!i&&PE(c))return n;if(!i&&n==null&&!RE(c,ke()))return null;var h=function(m){return(m.visible||i)&&(!r||!~r.indexOf(m.writeId))&&(gr(m.path,t)||gr(t,m.path))},p=e2(e.allWrites,h,t),l=n||le.EMPTY_NODE;return il(p,l)}}function rH(e,t,n){var r=le.EMPTY_NODE,i=Pa(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(je,function(l,c){r=r.updateImmediateChild(l,c)}),r;if(n){var s=qo(e.visibleWrites,t);return n.forEachChild(je,function(l,c){var h=il(qo(s,new Ae(l)),c);r=r.updateImmediateChild(l,h)}),mR(s).forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}else{var a=qo(e.visibleWrites,t);return mR(a).forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}}function iH(e,t,n,r,i){$(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=Ge(t,n);if(RE(e.visibleWrites,s))return null;var a=qo(e.visibleWrites,s);return PE(a)?i.getChild(n):il(a,i.getChild(n))}function oH(e,t,n,r){var i=Ge(t,n),s=Pa(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){var a=qo(e.visibleWrites,i);return il(a,r.getNode().getImmediateChild(n))}else return null}function sH(e,t){return Pa(e.visibleWrites,t)}function aH(e,t,n,r,i,s,a){var l,c=qo(e.visibleWrites,t),h=Pa(c,ke());if(h!=null)l=h;else if(n!=null)l=il(c,n);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){for(var p=[],v=a.getCompare(),m=s?l.getReverseIteratorFrom(r,a):l.getIteratorFrom(r,a),y=m.getNext();y&&p.length<i;)v(y,r)!==0&&p.push(y),y=m.getNext();return p}else return[]}function uH(){return{visibleWrites:qi.empty(),allWrites:[],lastWriteId:-1}}function Av(e,t,n,r){return t2(e.writeTree,e.treePath,t,n,r)}function VI(e,t){return rH(e.writeTree,e.treePath,t)}function yR(e,t,n,r){return iH(e.writeTree,e.treePath,t,n,r)}function Rv(e,t){return sH(e.writeTree,Ge(e.treePath,t))}function lH(e,t,n,r,i,s){return aH(e.writeTree,e.treePath,t,n,r,i,s)}function BI(e,t,n){return oH(e.writeTree,e.treePath,t,n)}function n2(e,t){return r2(Ge(e.treePath,t),e.writeTree)}function r2(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cH=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(t){var n=t.type,r=t.childName;$(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),$(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Kf(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Wf(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,rl(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Kf(r,t.snapshotNode,i.oldSnap));else throw Pl("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fH=function(){function e(){}return e.prototype.getCompleteChild=function(t){return null},e.prototype.getChildAfterChild=function(t,n,r){return null},e}(),i2=new fH,$I=function(){function e(t,n,r){r===void 0&&(r=null),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return e.prototype.getCompleteChild=function(t){var n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);var r=this.optCompleteServerCache_!=null?new Xo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return BI(this.writes_,t,r)},e.prototype.getChildAfterChild=function(t,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ya(this.viewCache_),s=lH(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hH(e){return{filter:e}}function dH(e,t){$(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),$(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function pH(e,t,n,r,i){var s=new cH,a,l;if(n.type===Hr.OVERWRITE){var c=n;c.source.fromUser?a=OE(e,t,c.path,c.snap,r,i,s):($(c.source.fromServer,"Unknown source."),l=c.source.tagged||t.serverCache.isFiltered()&&!pe(c.path),a=Pv(e,t,c.path,c.snap,r,i,l,s))}else if(n.type===Hr.MERGE){var h=n;h.source.fromUser?a=gH(e,t,h.path,h.children,r,i,s):($(h.source.fromServer,"Unknown source."),l=h.source.tagged||t.serverCache.isFiltered(),a=xE(e,t,h.path,h.children,r,i,l,s))}else if(n.type===Hr.ACK_USER_WRITE){var p=n;p.revert?a=_H(e,t,p.path,r,i,s):a=mH(e,t,p.path,p.affectedTree,r,i,s)}else if(n.type===Hr.LISTEN_COMPLETE)a=yH(e,t,n.path,r,s);else throw Pl("Unknown operation type: "+n.type);var v=s.getChanges();return vH(t,a,v),{viewCache:a,changes:v}}function vH(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Nv(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(HL(Nv(t)))}}function o2(e,t,n,r,i,s){var a=t.eventCache;if(Rv(r,n)!=null)return t;var l=void 0,c=void 0;if(pe(n))if($(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var h=ya(t),p=h instanceof le?h:le.EMPTY_NODE,v=VI(r,p);l=e.filter.updateFullNode(t.eventCache.getNode(),v,s)}else{var m=Av(r,ya(t));l=e.filter.updateFullNode(t.eventCache.getNode(),m,s)}else{var y=de(n);if(y===".priority"){$(Yo(n)===1,"Can't have a priority with additional path components");var w=a.getNode();c=t.serverCache.getNode();var b=yR(r,n,w,c);b!=null?l=e.filter.updatePriority(w,b):l=a.getNode()}else{var S=Le(n),I=void 0;if(a.isCompleteForChild(y)){c=t.serverCache.getNode();var T=yR(r,n,a.getNode(),c);T!=null?I=a.getNode().getImmediateChild(y).updateChild(S,T):I=a.getNode().getImmediateChild(y)}else I=BI(r,y,t.serverCache);I!=null?l=e.filter.updateChild(a.getNode(),y,I,S,i,s):l=a.getNode()}}return hf(t,l,a.isFullyInitialized()||pe(n),e.filter.filtersNodes())}function Pv(e,t,n,r,i,s,a,l){var c=t.serverCache,h,p=a?e.filter:e.filter.getIndexedFilter();if(pe(n))h=p.updateFullNode(c.getNode(),r,null);else if(p.filtersNodes()&&!c.isFiltered()){var v=c.getNode().updateChild(n,r);h=p.updateFullNode(c.getNode(),v,null)}else{var m=de(n);if(!c.isCompleteForPath(n)&&Yo(n)>1)return t;var y=Le(n),w=c.getNode().getImmediateChild(m),b=w.updateChild(y,r);m===".priority"?h=p.updatePriority(c.getNode(),b):h=p.updateChild(c.getNode(),m,b,y,i2,null)}var S=JL(t,h,c.isFullyInitialized()||pe(n),p.filtersNodes()),I=new $I(i,S,s);return o2(e,S,n,i,I,l)}function OE(e,t,n,r,i,s,a){var l=t.eventCache,c,h,p=new $I(i,t,s);if(pe(n))h=e.filter.updateFullNode(t.eventCache.getNode(),r,a),c=hf(t,h,!0,e.filter.filtersNodes());else{var v=de(n);if(v===".priority")h=e.filter.updatePriority(t.eventCache.getNode(),r),c=hf(t,h,l.isFullyInitialized(),l.isFiltered());else{var m=Le(n),y=l.getNode().getImmediateChild(v),w=void 0;if(pe(m))w=r;else{var b=p.getCompleteChild(v);b!=null?RI(m)===".priority"&&b.getChild(UL(m)).isEmpty()?w=b:w=b.updateChild(m,r):w=le.EMPTY_NODE}if(y.equals(w))c=t;else{var S=e.filter.updateChild(l.getNode(),v,w,m,p,a);c=hf(t,S,l.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function _R(e,t){return e.eventCache.isCompleteForChild(t)}function gH(e,t,n,r,i,s,a){var l=t;return r.foreach(function(c,h){var p=Ge(n,c);_R(t,de(p))&&(l=OE(e,l,p,h,i,s,a))}),r.foreach(function(c,h){var p=Ge(n,c);_R(t,de(p))||(l=OE(e,l,p,h,i,s,a))}),l}function wR(e,t,n){return n.foreach(function(r,i){t=t.updateChild(r,i)}),t}function xE(e,t,n,r,i,s,a,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var c=t,h;pe(n)?h=r:h=new ir(null).setTree(n,r);var p=t.serverCache.getNode();return h.children.inorderTraversal(function(v,m){if(p.hasChild(v)){var y=t.serverCache.getNode().getImmediateChild(v),w=wR(e,y,m);c=Pv(e,c,new Ae(v),w,i,s,a,l)}}),h.children.inorderTraversal(function(v,m){var y=!t.serverCache.isCompleteForChild(v)&&m.value===void 0;if(!p.hasChild(v)&&!y){var w=t.serverCache.getNode().getImmediateChild(v),b=wR(e,w,m);c=Pv(e,c,new Ae(v),b,i,s,a,l)}}),c}function mH(e,t,n,r,i,s,a){if(Rv(i,n)!=null)return t;var l=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(pe(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Pv(e,t,n,c.getNode().getChild(n),i,s,l,a);if(pe(n)){var h=new ir(null);return c.getNode().forEachChild(gi,function(v,m){h=h.set(new Ae(v),m)}),xE(e,t,n,h,i,s,l,a)}else return t}else{var p=new ir(null);return r.foreach(function(v,m){var y=Ge(n,v);c.isCompleteForPath(y)&&(p=p.set(v,c.getNode().getChild(y)))}),xE(e,t,n,p,i,s,l,a)}}function yH(e,t,n,r,i){var s=t.serverCache,a=JL(t,s.getNode(),s.isFullyInitialized()||pe(n),s.isFiltered());return o2(e,a,n,r,i2,i)}function _H(e,t,n,r,i,s){var a;if(Rv(r,n)!=null)return t;var l=new $I(r,t,i),c=t.eventCache.getNode(),h=void 0;if(pe(n)||de(n)===".priority"){var p=void 0;if(t.serverCache.isFullyInitialized())p=Av(r,ya(t));else{var v=t.serverCache.getNode();$(v instanceof le,"serverChildren would be complete if leaf node"),p=VI(r,v)}p=p,h=e.filter.updateFullNode(c,p,s)}else{var m=de(n),y=BI(r,m,t.serverCache);y==null&&t.serverCache.isCompleteForChild(m)&&(y=c.getImmediateChild(m)),y!=null?h=e.filter.updateChild(c,m,y,Le(n),l,s):t.eventCache.getNode().hasChild(m)?h=e.filter.updateChild(c,m,le.EMPTY_NODE,Le(n),l,s):h=c,h.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Av(r,ya(t)),a.isLeafNode()&&(h=e.filter.updateFullNode(h,a,s)))}return a=t.serverCache.isFullyInitialized()||Rv(r,ke())!=null,hf(t,h,a,e.filter.filtersNodes())}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wH=function(){function e(t,n){this.query_=t,this.eventRegistrations_=[];var r=this.query_._queryParams,i=new LI(r.getIndex()),s=OK(r);this.processor_=hH(s);var a=n.serverCache,l=n.eventCache,c=i.updateFullNode(le.EMPTY_NODE,a.getNode(),null),h=s.updateFullNode(le.EMPTY_NODE,l.getNode(),null),p=new Xo(c,a.isFullyInitialized(),i.filtersNodes()),v=new Xo(h,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=Lg(v,p),this.eventGenerator_=new WK(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function EH(e){return e.viewCache_.serverCache.getNode()}function bH(e){return Nv(e.viewCache_)}function IH(e,t){var n=ya(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!pe(t)&&!n.getImmediateChild(de(t)).isEmpty())?n.getChild(t):null}function ER(e){return e.eventRegistrations_.length===0}function TH(e,t){e.eventRegistrations_.push(t)}function bR(e,t,n){var r=[];if(n){$(t==null,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach(function(c){var h=c.createCancelEvent(n,i);h&&r.push(h)})}if(t){for(var s=[],a=0;a<e.eventRegistrations_.length;++a){var l=e.eventRegistrations_[a];if(!l.matches(t))s.push(l);else if(t.hasAnyCallback()){s=s.concat(e.eventRegistrations_.slice(a+1));break}}e.eventRegistrations_=s}else e.eventRegistrations_=[];return r}function IR(e,t,n,r){t.type===Hr.MERGE&&t.source.queryId!==null&&($(ya(e.viewCache_),"We should always have a full cache before handling merges"),$(Nv(e.viewCache_),"Missing event cache, even though we have a server cache"));var i=e.viewCache_,s=pH(e.processor_,i,t,n,r);return dH(e.processor_,s.viewCache),$(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,s2(e,s.changes,s.viewCache.eventCache.getNode(),null)}function SH(e,t){var n=e.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(je,function(s,a){r.push(rl(s,a))})}return n.isFullyInitialized()&&r.push(HL(n.getNode())),s2(e,r,n.getNode(),t)}function s2(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return KK(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ov,a2=function(){function e(){this.views=new Map}return e}();function CH(e){$(!Ov,"__referenceConstructor has already been defined"),Ov=e}function kH(){return $(Ov,"Reference.ts has not been loaded"),Ov}function NH(e){return e.views.size===0}function qI(e,t,n,r){var i,s,a=t.source.queryId;if(a!==null){var l=e.views.get(a);return $(l!=null,"SyncTree gave us an op for an invalid query."),IR(l,t,n,r)}else{var c=[];try{for(var h=Mt(e.views.values()),p=h.next();!p.done;p=h.next()){var l=p.value;c=c.concat(IR(l,t,n,r))}}catch(v){i={error:v}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return c}}function u2(e,t,n,r,i){var s=t._queryIdentifier,a=e.views.get(s);if(!a){var l=Av(n,i?r:null),c=!1;l?c=!0:r instanceof le?(l=VI(n,r),c=!1):(l=le.EMPTY_NODE,c=!1);var h=Lg(new Xo(l,c,!1),new Xo(r,i,!1));return new wH(t,h)}return a}function AH(e,t,n,r,i,s){var a=u2(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),TH(a,n),SH(a,n)}function RH(e,t,n,r){var i,s,a=t._queryIdentifier,l=[],c=[],h=Jo(e);if(a==="default")try{for(var p=Mt(e.views.entries()),v=p.next();!v.done;v=p.next()){var m=$t(v.value,2),y=m[0],w=m[1];c=c.concat(bR(w,n,r)),ER(w)&&(e.views.delete(y),w.query._queryParams.loadsAllData()||l.push(w.query))}}catch(b){i={error:b}}finally{try{v&&!v.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}else{var w=e.views.get(a);w&&(c=c.concat(bR(w,n,r)),ER(w)&&(e.views.delete(a),w.query._queryParams.loadsAllData()||l.push(w.query)))}return h&&!Jo(e)&&l.push(new(kH())(t._repo,t._path)),{removed:l,events:c}}function l2(e){var t,n,r=[];try{for(var i=Mt(e.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function zo(e,t){var n,r,i=null;try{for(var s=Mt(e.views.values()),a=s.next();!a.done;a=s.next()){var l=a.value;i=i||IH(l,t)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}function c2(e,t){var n=t._queryParams;if(n.loadsAllData())return Fg(e);var r=t._queryIdentifier;return e.views.get(r)}function f2(e,t){return c2(e,t)!=null}function Jo(e){return Fg(e)!=null}function Fg(e){var t,n;try{for(var r=Mt(e.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.query._queryParams.loadsAllData())return s}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xv;function PH(e){$(!xv,"__referenceConstructor has already been defined"),xv=e}function OH(){return $(xv,"Reference.ts has not been loaded"),xv}var xH=1,TR=function(){function e(t){this.listenProvider_=t,this.syncPointTree_=new ir(null),this.pendingWriteTree_=uH(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e}();function zI(e,t,n,r,i){return YK(e.pendingWriteTree_,t,n,r,i),i?Ml(e,new Dg(MI(),t,n)):[]}function DH(e,t,n,r){XK(e.pendingWriteTree_,t,n,r);var i=ir.fromObject(n);return Ml(e,new jI(MI(),t,i))}function Oo(e,t,n){n===void 0&&(n=!1);var r=JK(e.pendingWriteTree_,t),i=ZK(e.pendingWriteTree_,t);if(i){var s=new ir(null);return r.snap!=null?s=s.set(ke(),!0):Ct(r.children,function(a){s=s.set(new Ae(a),!0)}),Ml(e,new zK(r.path,s,n))}else return[]}function bh(e,t,n){return Ml(e,new Dg(FI(),t,n))}function LH(e,t,n){var r=ir.fromObject(n);return Ml(e,new jI(FI(),t,r))}function MH(e,t){return Ml(e,new XL(FI(),t))}function FH(e,t,n){var r=WI(e,n);if(r){var i=KI(r),s=i.path,a=i.queryId,l=yn(s,t),c=new XL(UI(a),l);return HI(e,s,c)}else return[]}function DE(e,t,n,r){var i=t._path,s=e.syncPointTree_.get(i),a=[];if(s&&(t._queryIdentifier==="default"||f2(s,t))){var l=RH(s,t,n,r);NH(s)&&(e.syncPointTree_=e.syncPointTree_.remove(i));var c=l.removed;a=l.events;var h=c.findIndex(function(T){return T._queryParams.loadsAllData()})!==-1,p=e.syncPointTree_.findOnPath(i,function(T,C){return Jo(C)});if(h&&!p){var v=e.syncPointTree_.subtree(i);if(!v.isEmpty())for(var m=BH(v),y=0;y<m.length;++y){var w=m[y],b=w.query,S=p2(e,w);e.listenProvider_.startListening(pf(b),Dv(e,b),S.hashFn,S.onComplete)}}if(!p&&c.length>0&&!r)if(h){var I=null;e.listenProvider_.stopListening(pf(t),I)}else c.forEach(function(T){var C=e.queryToTagMap.get(jg(T));e.listenProvider_.stopListening(pf(T),C)});$H(e,c)}return a}function UH(e,t,n,r){var i=WI(e,r);if(i!=null){var s=KI(i),a=s.path,l=s.queryId,c=yn(a,t),h=new Dg(UI(l),c,n);return HI(e,a,h)}else return[]}function jH(e,t,n,r){var i=WI(e,r);if(i){var s=KI(i),a=s.path,l=s.queryId,c=yn(a,t),h=ir.fromObject(n),p=new jI(UI(l),c,h);return HI(e,a,p)}else return[]}function SR(e,t,n){var r=t._path,i=null,s=!1;e.syncPointTree_.foreachOnPath(r,function(b,S){var I=yn(b,r);i=i||zo(S,I),s=s||Jo(S)});var a=e.syncPointTree_.get(r);a?(s=s||Jo(a),i=i||zo(a,ke())):(a=new a2,e.syncPointTree_=e.syncPointTree_.set(r,a));var l;if(i!=null)l=!0;else{l=!1,i=le.EMPTY_NODE;var c=e.syncPointTree_.subtree(r);c.foreachChild(function(b,S){var I=zo(S,ke());I&&(i=i.updateImmediateChild(b,I))})}var h=f2(a,t);if(!h&&!t._queryParams.loadsAllData()){var p=jg(t);$(!e.queryToTagMap.has(p),"View does not exist, but we have a tag");var v=qH();e.queryToTagMap.set(p,v),e.tagToQueryMap.set(v,p)}var m=Mg(e.pendingWriteTree_,r),y=AH(a,t,n,m,i,l);if(!h&&!s){var w=c2(a,t);y=y.concat(zH(e,t,w))}return y}function Ug(e,t,n){var r=!0,i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,function(a,l){var c=yn(a,t),h=zo(l,c);if(h)return h});return t2(i,t,s,n,r)}function VH(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,function(h,p){var v=yn(h,n);r=r||zo(p,v)});var i=e.syncPointTree_.get(n);i?r=r||zo(i,ke()):(i=new a2,e.syncPointTree_=e.syncPointTree_.set(n,i));var s=r!=null,a=s?new Xo(r,!0,!1):null,l=Mg(e.pendingWriteTree_,t._path),c=u2(i,t,l,s?a.getNode():le.EMPTY_NODE,s);return bH(c)}function Ml(e,t){return h2(t,e.syncPointTree_,null,Mg(e.pendingWriteTree_,ke()))}function h2(e,t,n,r){if(pe(e.path))return d2(e,t,n,r);var i=t.get(ke());n==null&&i!=null&&(n=zo(i,ke()));var s=[],a=de(e.path),l=e.operationForChild(a),c=t.children.get(a);if(c&&l){var h=n?n.getImmediateChild(a):null,p=n2(r,a);s=s.concat(h2(l,c,h,p))}return i&&(s=s.concat(qI(i,e,r,n))),s}function d2(e,t,n,r){var i=t.get(ke());n==null&&i!=null&&(n=zo(i,ke()));var s=[];return t.children.inorderTraversal(function(a,l){var c=n?n.getImmediateChild(a):null,h=n2(r,a),p=e.operationForChild(a);p&&(s=s.concat(d2(p,l,c,h)))}),i&&(s=s.concat(qI(i,e,r,n))),s}function p2(e,t){var n=t.query,r=Dv(e,n);return{hashFn:function(){var i=EH(t)||le.EMPTY_NODE;return i.hash()},onComplete:function(i){if(i==="ok")return r?FH(e,n._path,r):MH(e,n._path);var s=AW(i,n);return DE(e,n,null,s)}}}function Dv(e,t){var n=jg(t);return e.queryToTagMap.get(n)}function jg(e){return e._path.toString()+"$"+e._queryIdentifier}function WI(e,t){return e.tagToQueryMap.get(t)}function KI(e){var t=e.indexOf("$");return $(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Ae(e.substr(0,t))}}function HI(e,t,n){var r=e.syncPointTree_.get(t);$(r,"Missing sync point for query tag that we're tracking");var i=Mg(e.pendingWriteTree_,t);return qI(r,n,i,null)}function BH(e){return e.fold(function(t,n,r){if(n&&Jo(n)){var i=Fg(n);return[i]}else{var s=[];return n&&(s=l2(n)),Ct(r,function(a,l){s=s.concat(l)}),s}})}function pf(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(OH())(e._repo,e._path):e}function $H(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=jg(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function qH(){return xH++}function zH(e,t,n){var r=t._path,i=Dv(e,t),s=p2(e,n),a=e.listenProvider_.startListening(pf(t),i,s.hashFn,s.onComplete),l=e.syncPointTree_.subtree(r);if(i)$(!Jo(l.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=l.fold(function(v,m,y){if(!pe(v)&&m&&Jo(m))return[Fg(m).query];var w=[];return m&&(w=w.concat(l2(m).map(function(b){return b.query}))),Ct(y,function(b,S){w=w.concat(S)}),w}),h=0;h<c.length;++h){var p=c[h];e.listenProvider_.stopListening(pf(p),Dv(e,p))}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WH=function(){function e(t){this.node_=t}return e.prototype.getImmediateChild=function(t){var n=this.node_.getImmediateChild(t);return new e(n)},e.prototype.node=function(){return this.node_},e}(),KH=function(){function e(t,n){this.syncTree_=t,this.path_=n}return e.prototype.getImmediateChild=function(t){var n=Ge(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return Ug(this.syncTree_,this.path_)},e}(),HH=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},CR=function(e,t,n){if(!e||typeof e!="object")return e;if($(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return GH(e[".sv"],t,n);if(typeof e[".sv"]=="object")return QH(e[".sv"],t);$(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},GH=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:$(!1,"Unexpected server value: "+e)}},QH=function(e,t,n){e.hasOwnProperty("increment")||$(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;typeof r!="number"&&$(!1,"Unexpected increment value: "+r);var i=t.node();if($(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i,a=s.getValue();return typeof a!="number"?r:a+r},v2=function(e,t,n,r){return QI(t,new KH(n,e),r)},GI=function(e,t,n){return QI(e,new WH(t),n)};function QI(e,t,n){var r=e.getPriority().val(),i=CR(r,t.getImmediateChild(".priority"),n),s;if(e.isLeafNode()){var a=e,l=CR(a.getValue(),t,n);return l!==a.getValue()||i!==a.getPriority().val()?new tl(l,Ze(i)):e}else{var c=e;return s=c,i!==c.getPriority().val()&&(s=s.updatePriority(new tl(i))),c.forEachChild(je,function(h,p){var v=QI(p,t.getImmediateChild(h),n);v!==p&&(s=s.updateImmediateChild(h,v))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YI=function(){function e(t,n,r){t===void 0&&(t=""),n===void 0&&(n=null),r===void 0&&(r={children:{},childCount:0}),this.name=t,this.parent=n,this.node=r}return e}();function Vg(e,t){for(var n=t instanceof Ae?t:new Ae(t),r=e,i=de(n);i!==null;){var s=ma(r.node.children,i)||{children:{},childCount:0};r=new YI(i,r,s),n=Le(n),i=de(n)}return r}function Oa(e){return e.node.value}function XI(e,t){e.node.value=t,LE(e)}function g2(e){return e.node.childCount>0}function YH(e){return Oa(e)===void 0&&!g2(e)}function Bg(e,t){Ct(e.node.children,function(n,r){t(new YI(n,e,r))})}function m2(e,t,n,r){n&&!r&&t(e),Bg(e,function(i){m2(i,t,!0,r)}),n&&r&&t(e)}function XH(e,t,n){for(var r=n?e:e.parent;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Ih(e){return new Ae(e.parent===null?e.name:Ih(e.parent)+"/"+e.name)}function LE(e){e.parent!==null&&JH(e.parent,e.name,e)}function JH(e,t,n){var r=YH(n),i=rr(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,LE(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,LE(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZH=/[\[\].#$\/\u0000-\u001F\u007F]/,eG=/[\[\].#$\u0000-\u001F\u007F]/,$_=10*1024*1024,$g=function(e){return typeof e=="string"&&e.length!==0&&!ZH.test(e)},y2=function(e){return typeof e=="string"&&e.length!==0&&!eG.test(e)},tG=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),y2(e)},Hf=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!Pg(e)||e&&typeof e=="object"&&rr(e,".sv")},bi=function(e,t,n,r){r&&t===void 0||Th(jn(e,"value"),t,n)},Th=function(e,t,n){var r=n instanceof Ae?new lK(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+qs(r));if(typeof t=="function")throw new Error(e+"contains a function "+qs(r)+" with contents = "+t.toString());if(Pg(t))throw new Error(e+"contains "+t.toString()+" "+qs(r));if(typeof t=="string"&&t.length>$_/3&&Rg(t)>$_)throw new Error(e+"contains a string greater than "+$_+" utf8 bytes "+qs(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){var i=!1,s=!1;if(Ct(t,function(a,l){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!$g(a)))throw new Error(e+" contains an invalid key ("+a+") "+qs(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);cK(r,a),Th(e,l,r),fK(r)}),i&&s)throw new Error(e+' contains ".value" child '+qs(r)+" in addition to actual children.")}},nG=function(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var i=zf(r),s=0;s<i.length;s++)if(!(i[s]===".priority"&&s===i.length-1)){if(!$g(i[s]))throw new Error(e+"contains an invalid key ("+i[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(uK);var a=null;for(n=0;n<t.length;n++){if(r=t[n],a!==null&&gr(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},_2=function(e,t,n,r){if(!(r&&t===void 0)){var i=jn(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var s=[];Ct(t,function(a,l){var c=new Ae(a);if(Th(i,l,Ge(n,c)),RI(c)===".priority"&&!Hf(l))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(c)}),nG(i,s)}},JI=function(e,t,n){if(!(n&&t===void 0)){if(Pg(t))throw new Error(jn(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Hf(t))throw new Error(jn(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},rG=function(e,t,n){if(!(n&&t===void 0))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(jn(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Sh=function(e,t,n,r){if(!(r&&n===void 0)&&!$g(n))throw new Error(jn(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Gf=function(e,t,n,r){if(!(r&&n===void 0)&&!y2(n))throw new Error(jn(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},iG=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Gf(e,t,n,r)},mr=function(e,t){if(de(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},w2=function(e,t){var n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!$g(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!tG(n))throw new Error(jn(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},oG=function(e,t,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(jn(e,t)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sG=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e}();function qg(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],s=i.getPath();n!==null&&!PI(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function ZI(e,t,n){qg(e,n),E2(e,function(r){return PI(r,t)})}function Cr(e,t,n){qg(e,n),E2(e,function(r){return gr(r,t)||gr(t,r)})}function E2(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i){var s=i.path;t(s)?(aG(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function aG(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(n!==null){e.events[t]=null;var r=n.getEventRunner();ia&&Ot("event: "+n.toString()),Dl(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b2="repo_interrupt",uG=25,lG=function(){function e(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sG,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=kv(),this.transactionQueueTree_=new YI,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function cG(e,t,n){if(e.stats_=NI(e.repoInfo_),e.forceRestClient_||PW())e.server_=new FK(e.repoInfo_,function(r,i,s,a){kR(e,r,i,s,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(function(){return NR(e,!0)},0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{bt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new oa(e.repoInfo_,t,function(r,i,s,a){kR(e,r,i,s,a)},function(r){NR(e,r)},function(r){hG(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(function(r){e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(function(r){e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=FW(e.repoInfo_,function(){return new $K(e.stats_,e.server_)}),e.infoData_=new UK,e.infoSyncTree_=new TR({startListening:function(r,i,s,a){var l=[],c=e.infoData_.getNode(r._path);return c.isEmpty()||(l=bh(e.infoSyncTree_,r._path,c),setTimeout(function(){a("ok")},0)),l},stopListening:function(){}}),eT(e,"connected",!1),e.serverSyncTree_=new TR({startListening:function(r,i,s,a){return e.server_.listen(r,s,i,function(l,c){var h=a(l,c);Cr(e.eventQueue_,r._path,h)}),[]},stopListening:function(r,i){e.server_.unlisten(r,i)}})}function I2(e){var t=e.infoData_.getNode(new Ae(".info/serverTimeOffset")),n=t.val()||0;return new Date().getTime()+n}function Ch(e){return HH({timestamp:I2(e)})}function kR(e,t,n,r,i){e.dataUpdateCount++;var s=new Ae(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a=[];if(i)if(r){var l=Ev(n,function(m){return Ze(m)});a=jH(e.serverSyncTree_,s,l,i)}else{var c=Ze(n);a=UH(e.serverSyncTree_,s,c,i)}else if(r){var h=Ev(n,function(m){return Ze(m)});a=LH(e.serverSyncTree_,s,h)}else{var p=Ze(n);a=bh(e.serverSyncTree_,s,p)}var v=s;a.length>0&&(v=ol(e,s)),Cr(e.eventQueue_,v,a)}function fG(e,t){e.interceptServerDataCallback_=t}function NR(e,t){eT(e,"connected",t),t===!1&&vG(e)}function hG(e,t){Ct(t,function(n,r){eT(e,n,r)})}function eT(e,t,n){var r=new Ae("/.info/"+t),i=Ze(n);e.infoData_.updateSnapshot(r,i);var s=bh(e.infoSyncTree_,r,i);Cr(e.eventQueue_,r,s)}function zg(e){return e.nextWriteId_++}function dG(e,t){var n=VH(e.serverSyncTree_,t);return n!=null?Promise.resolve(n):e.server_.get(t).then(function(r){var i=Ze(r),s=bh(e.serverSyncTree_,t._path,i);return ZI(e.eventQueue_,t._path,s),Promise.resolve(i)},function(r){return Fl(e,"get for query "+bt(t)+" failed: "+r),Promise.reject(new Error(r))})}function tT(e,t,n,r,i){Fl(e,"set",{path:t.toString(),value:n,priority:r});var s=Ch(e),a=Ze(n,r),l=Ug(e.serverSyncTree_,t),c=GI(a,l,s),h=zg(e),p=zI(e.serverSyncTree_,t,c,h,!0);qg(e.eventQueue_,p),e.server_.put(t.toString(),a.val(!0),function(m,y){var w=m==="ok";w||Wt("set at "+t+" failed: "+m);var b=Oo(e.serverSyncTree_,h,!w);Cr(e.eventQueue_,t,b),Zo(e,i,m,y)});var v=rT(e,t);ol(e,v),Cr(e.eventQueue_,v,[])}function pG(e,t,n,r){Fl(e,"update",{path:t.toString(),value:n});var i=!0,s=Ch(e),a={};if(Ct(n,function(h,p){i=!1,a[h]=v2(Ge(t,h),Ze(p),e.serverSyncTree_,s)}),i)Ot("update() called with empty data.  Don't do anything."),Zo(e,r,"ok",void 0);else{var l=zg(e),c=DH(e.serverSyncTree_,t,a,l);qg(e.eventQueue_,c),e.server_.merge(t.toString(),n,function(h,p){var v=h==="ok";v||Wt("update at "+t+" failed: "+h);var m=Oo(e.serverSyncTree_,l,!v),y=m.length>0?ol(e,t):t;Cr(e.eventQueue_,y,m),Zo(e,r,h,p)}),Ct(n,function(h){var p=rT(e,Ge(t,h));ol(e,p)}),Cr(e.eventQueue_,t,[])}}function vG(e){Fl(e,"onDisconnectEvents");var t=Ch(e),n=kv();NE(e.onDisconnect_,ke(),function(i,s){var a=v2(i,s,e.serverSyncTree_,t);Ll(n,i,a)});var r=[];NE(n,ke(),function(i,s){r=r.concat(bh(e.serverSyncTree_,i,s));var a=rT(e,i);ol(e,a)}),e.onDisconnect_=kv(),Cr(e.eventQueue_,ke(),r)}function gG(e,t,n){e.server_.onDisconnectCancel(t.toString(),function(r,i){r==="ok"&&kE(e.onDisconnect_,t),Zo(e,n,r,i)})}function AR(e,t,n,r){var i=Ze(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),function(s,a){s==="ok"&&Ll(e.onDisconnect_,t,i),Zo(e,r,s,a)})}function mG(e,t,n,r,i){var s=Ze(n,r);e.server_.onDisconnectPut(t.toString(),s.val(!0),function(a,l){a==="ok"&&Ll(e.onDisconnect_,t,s),Zo(e,i,a,l)})}function yG(e,t,n,r){if(yE(n)){Ot("onDisconnect().update() called with empty data.  Don't do anything."),Zo(e,r,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,function(i,s){i==="ok"&&Ct(n,function(a,l){var c=Ze(l);Ll(e.onDisconnect_,Ge(t,a),c)}),Zo(e,r,i,s)})}function _G(e,t,n){var r;de(t._path)===".info"?r=SR(e.infoSyncTree_,t,n):r=SR(e.serverSyncTree_,t,n),ZI(e.eventQueue_,t._path,r)}function ME(e,t,n){var r;de(t._path)===".info"?r=DE(e.infoSyncTree_,t,n):r=DE(e.serverSyncTree_,t,n),ZI(e.eventQueue_,t._path,r)}function T2(e){e.persistentConnection_&&e.persistentConnection_.interrupt(b2)}function wG(e){e.persistentConnection_&&e.persistentConnection_.resume(b2)}function EG(e,t){if(t===void 0&&(t=!1),!(typeof console>"u")){var n;t?(e.statsListener_||(e.statsListener_=new YL(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce(function(i,s){return Math.max(s.length,i)},0);Ct(n,function(i,s){for(var a=i,l=i.length;l<r+2;l++)a+=" ";console.log(a+s)})}}function bG(e,t){e.stats_.incrementCounter(t),qK(e.statsReporter_,t)}function Fl(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),Ot.apply(void 0,me([r],$t(t)))}function Zo(e,t,n,r){t&&Dl(function(){if(n==="ok")t(null);else{var i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);var a=new Error(s);a.code=i,t(a)}})}function IG(e,t,n,r,i,s){Fl(e,"transaction on "+t);var a={path:t,update:n,onComplete:r,status:null,order:vL(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=nT(e,t,void 0);a.currentInputSnapshot=l;var c=a.update(l.val());if(c===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{Th("transaction failed: Data returned ",c,a.path),a.status=0;var h=Vg(e.transactionQueueTree_,t),p=Oa(h)||[];p.push(a),XI(h,p);var v=void 0;if(typeof c=="object"&&c!==null&&rr(c,".priority"))v=ma(c,".priority"),$(Hf(v),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var m=Ug(e.serverSyncTree_,t)||le.EMPTY_NODE;v=m.getPriority().val()}var y=Ch(e),w=Ze(c,v),b=GI(w,l,y);a.currentOutputSnapshotRaw=w,a.currentOutputSnapshotResolved=b,a.currentWriteId=zg(e);var S=zI(e.serverSyncTree_,t,b,a.currentWriteId,a.applyLocally);Cr(e.eventQueue_,t,S),Wg(e,e.transactionQueueTree_)}}function nT(e,t,n){return Ug(e.serverSyncTree_,t,n)||le.EMPTY_NODE}function Wg(e,t){if(t===void 0&&(t=e.transactionQueueTree_),t||Kg(e,t),Oa(t)){var n=C2(e,t);$(n.length>0,"Sending zero length transaction queue");var r=n.every(function(i){return i.status===0});r&&TG(e,Ih(t),n)}else g2(t)&&Bg(t,function(i){Wg(e,i)})}function TG(e,t,n){for(var r=n.map(function(m){return m.currentWriteId}),i=nT(e,t,r),s=i,a=i.hash(),l=0;l<n.length;l++){var c=n[l];$(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var h=yn(t,c.path);s=s.updateChild(h,c.currentOutputSnapshotRaw)}var p=s.val(!0),v=t;e.server_.put(v.toString(),p,function(m){Fl(e,"transaction put response",{path:v.toString(),status:m});var y=[];if(m==="ok"){for(var w=[],b=function(I){n[I].status=2,y=y.concat(Oo(e.serverSyncTree_,n[I].currentWriteId)),n[I].onComplete&&w.push(function(){return n[I].onComplete(null,!0,n[I].currentOutputSnapshotResolved)}),n[I].unwatcher()},S=0;S<n.length;S++)b(S);Kg(e,Vg(e.transactionQueueTree_,t)),Wg(e,e.transactionQueueTree_),Cr(e.eventQueue_,t,y);for(var S=0;S<w.length;S++)Dl(w[S])}else{if(m==="datastale")for(var S=0;S<n.length;S++)n[S].status===3?n[S].status=4:n[S].status=0;else{Wt("transaction at "+v.toString()+" failed: "+m);for(var S=0;S<n.length;S++)n[S].status=4,n[S].abortReason=m}ol(e,t)}},a)}function ol(e,t){var n=S2(e,t),r=Ih(n),i=C2(e,n);return SG(e,i,r),r}function SG(e,t,n){if(t.length!==0){for(var r=[],i=[],s=t.filter(function(h){return h.status===0}),a=s.map(function(h){return h.currentWriteId}),l=function(h){var p=t[h],v=yn(n,p.path),m=!1,y;if($(v!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)m=!0,y=p.abortReason,i=i.concat(Oo(e.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=uG)m=!0,y="maxretry",i=i.concat(Oo(e.serverSyncTree_,p.currentWriteId,!0));else{var w=nT(e,p.path,a);p.currentInputSnapshot=w;var b=t[h].update(w.val());if(b!==void 0){Th("transaction failed: Data returned ",b,p.path);var S=Ze(b),I=typeof b=="object"&&b!=null&&rr(b,".priority");I||(S=S.updatePriority(w.getPriority()));var T=p.currentWriteId,C=Ch(e),P=GI(S,w,C);p.currentOutputSnapshotRaw=S,p.currentOutputSnapshotResolved=P,p.currentWriteId=zg(e),a.splice(a.indexOf(T),1),i=i.concat(zI(e.serverSyncTree_,p.path,P,p.currentWriteId,p.applyLocally)),i=i.concat(Oo(e.serverSyncTree_,T,!0))}else m=!0,y="nodata",i=i.concat(Oo(e.serverSyncTree_,p.currentWriteId,!0))}Cr(e.eventQueue_,n,i),i=[],m&&(t[h].status=2,function(D){setTimeout(D,Math.floor(0))}(t[h].unwatcher),t[h].onComplete&&(y==="nodata"?r.push(function(){return t[h].onComplete(null,!1,t[h].currentInputSnapshot)}):r.push(function(){return t[h].onComplete(new Error(y),!1,null)})))},c=0;c<t.length;c++)l(c);Kg(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)Dl(r[c]);Wg(e,e.transactionQueueTree_)}}function S2(e,t){var n,r=e.transactionQueueTree_;for(n=de(t);n!==null&&Oa(r)===void 0;)r=Vg(r,n),t=Le(t),n=de(t);return r}function C2(e,t){var n=[];return k2(e,t,n),n.sort(function(r,i){return r.order-i.order}),n}function k2(e,t,n){var r=Oa(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Bg(t,function(s){k2(e,s,n)})}function Kg(e,t){var n=Oa(t);if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,XI(t,n.length>0?n:void 0)}Bg(t,function(s){Kg(e,s)})}function rT(e,t){var n=Ih(S2(e,t)),r=Vg(e.transactionQueueTree_,t);return XH(r,function(i){q_(e,i)}),q_(e,r),m2(r,function(i){q_(e,i)}),n}function q_(e,t){var n=Oa(t);if(n){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?($(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):($(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Oo(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?XI(t,void 0):n.length=s+1,Cr(e.eventQueue_,Ih(t),i);for(var a=0;a<r.length;a++)Dl(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CG(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function kG(e){var t,n,r={};e.charAt(0)==="?"&&(e=e.substring(1));try{for(var i=Mt(e.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(a.length!==0){var l=a.split("=");l.length===2?r[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):Wt("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}var FE=function(e,t){var n=NG(e),r=n.namespace;n.domain==="firebase.com"&&wi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&wi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||TW();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new kI(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new Ae(n.pathString)}},NG=function(e){var t="",n="",r="",i="",s="",a=!0,l="https",c=443;if(typeof e=="string"){var h=e.indexOf("//");h>=0&&(l=e.substring(0,h-1),e=e.substring(h+2));var p=e.indexOf("/");p===-1&&(p=e.length);var v=e.indexOf("?");v===-1&&(v=e.length),t=e.substring(0,Math.min(p,v)),p<v&&(i=CG(e.substring(p,v)));var m=kG(e.substring(Math.min(e.length,v)));h=t.indexOf(":"),h>=0?(a=l==="https"||l==="wss",c=parseInt(t.substring(h+1),10)):h=t.length;var y=t.slice(0,h);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{var w=t.indexOf(".");r=t.substring(0,w).toLowerCase(),n=t.substring(w+1),s=r}"ns"in m&&(s=m.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:a,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N2=function(){function e(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return e.prototype.getPath=function(){var t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+bt(this.snapshot.exportVal())},e}(),A2=function(){function e(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var R2=function(){function e(t,n){this.snapshotCallback=t,this.cancelCallback=n}return e.prototype.onValue=function(t,n){this.snapshotCallback.call(null,t,n)},e.prototype.onCancel=function(t){return $(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AG=function(){function e(t,n){this._repo=t,this._path=n}return e.prototype.cancel=function(){var t=new xn;return gG(this._repo,this._path,t.wrapCallback(function(){})),t.promise},e.prototype.remove=function(){mr("OnDisconnect.remove",this._path);var t=new xn;return AR(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},e.prototype.set=function(t){mr("OnDisconnect.set",this._path),bi("OnDisconnect.set",t,this._path,!1);var n=new xn;return AR(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e.prototype.setWithPriority=function(t,n){mr("OnDisconnect.setWithPriority",this._path),bi("OnDisconnect.setWithPriority",t,this._path,!1),JI("OnDisconnect.setWithPriority",n,!1);var r=new xn;return mG(this._repo,this._path,t,n,r.wrapCallback(function(){})),r.promise},e.prototype.update=function(t){mr("OnDisconnect.update",this._path),_2("OnDisconnect.update",t,this._path,!1);var n=new xn;return yG(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ar=function(){function e(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object.defineProperty(e.prototype,"key",{get:function(){return pe(this._path)?null:RI(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ti(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var t=pR(this._queryParams),n=TI(t);return n==="{}"?"default":n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return pR(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(t=he(t),!(t instanceof e))return!1;var n=this._repo===t._repo,r=PI(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+aK(this._path)},e}();function Hg(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function us(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===gi){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){var s=e.getIndexStartName();if(s!==Yi)throw new Error(r);if(typeof t!="string")throw new Error(i)}if(e.hasEnd()){var a=e.getIndexEndName();if(a!==Ei)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(e.getIndex()===je){if(t!=null&&!Hf(t)||n!=null&&!Hf(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if($(e.getIndex()instanceof xI||e.getIndex()===DI,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Gg(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Ti=function(e){H(t,e);function t(n,r){return e.call(this,n,r,new QL,!1)||this}return Object.defineProperty(t.prototype,"parent",{get:function(){var n=UL(this._path);return n===null?null:new t(this._repo,n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n},enumerable:!1,configurable:!0}),t}(Ar),Qg=function(){function e(t,n,r){this._node=t,this.ref=n,this._index=r}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new Ae(t),r=_a(this.ref,t);return new e(this._node.getChild(n),r,je)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,function(i,s){return t(new e(s,_a(n.ref,i),je))})},e.prototype.hasChild=function(t){var n=new Ae(t);return!this._node.getChild(n).isEmpty()},e.prototype.hasChildren=function(){return this._node.isLeafNode()?!1:!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function P2(e,t){return e=he(e),e._checkNotDeleted("ref"),t!==void 0?_a(e._root,t):e._root}function RR(e,t){e=he(e),e._checkNotDeleted("refFromURL");var n=FE(t,e._repo.repoInfo_.nodeAdmin);w2("refFromURL",n);var r=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&r.host!==e._repo.repoInfo_.host&&wi("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),P2(e,n.path.toString())}function _a(e,t){return e=he(e),de(e._path)===null?iG("child","path",t,!1):Gf("child","path",t,!1),new Ti(e._repo,Ge(e._path,t))}function RG(e,t){e=he(e),mr("push",e._path),bi("push",t,e._path,!0);var n=I2(e._repo),r=AK(n),i=_a(e,r),s=_a(e,r),a;return t!=null?a=iT(s,t).then(function(){return s}):a=Promise.resolve(s),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function PG(e){return mr("remove",e._path),iT(e,null)}function iT(e,t){e=he(e),mr("set",e._path),bi("set",t,e._path,!1);var n=new xn;return tT(e._repo,e._path,t,null,n.wrapCallback(function(){})),n.promise}function OG(e,t){e=he(e),mr("setPriority",e._path),JI("setPriority",t,!1);var n=new xn;return tT(e._repo,Ge(e._path,".priority"),t,null,n.wrapCallback(function(){})),n.promise}function xG(e,t,n){if(mr("setWithPriority",e._path),bi("setWithPriority",t,e._path,!1),JI("setWithPriority",n,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new xn;return tT(e._repo,e._path,t,n,r.wrapCallback(function(){})),r.promise}function DG(e,t){_2("update",t,e._path,!1);var n=new xn;return pG(e._repo,e._path,t,n.wrapCallback(function(){})),n.promise}function LG(e){return e=he(e),dG(e._repo,e).then(function(t){return new Qg(t,new Ti(e._repo,e._path),e._queryParams.getIndex())})}var O2=function(){function e(t){this.callbackContext=t}return e.prototype.respondsTo=function(t){return t==="value"},e.prototype.createEvent=function(t,n){var r=n._queryParams.getIndex();return new N2("value",this,new Qg(t.snapshotNode,new Ti(n._repo,n._path),r))},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,null)}},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new A2(this,t,n):null},e.prototype.matches=function(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1},e.prototype.hasAnyCallback=function(){return this.callbackContext!==null},e}(),x2=function(){function e(t,n){this.eventType=t,this.callbackContext=n}return e.prototype.respondsTo=function(t){var n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new A2(this,t,n):null},e.prototype.createEvent=function(t,n){$(t.childName!=null,"Child events should have a childName.");var r=_a(new Ti(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new N2(t.type,this,new Qg(t.snapshotNode,r,i),t.prevName)},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,t.prevName)}},e.prototype.matches=function(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function kh(e,t,n,r,i){var s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){var a=n,l=function(p,v){a(p,v),ME(e._repo,e,h)};l.userCallback=n.userCallback,l.context=n.context,n=l}var c=new R2(n,s||void 0),h=t==="value"?new O2(c):new x2(t,c);return _G(e._repo,e,h),function(){return ME(e._repo,e,h)}}function UE(e,t,n,r){return kh(e,"value",t,n,r)}function PR(e,t,n,r){return kh(e,"child_added",t,n,r)}function OR(e,t,n,r){return kh(e,"child_changed",t,n,r)}function xR(e,t,n,r){return kh(e,"child_moved",t,n,r)}function DR(e,t,n,r){return kh(e,"child_removed",t,n,r)}function LR(e,t,n){var r=null,i=n?new R2(n):null;t==="value"?r=new O2(i):t&&(r=new x2(t,i)),ME(e._repo,e,r)}var Zr=function(){function e(){}return e}(),D2=function(e){H(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){bi("endAt",this._value,n._path,!0);var r=CE(n._queryParams,this._value,this._key);if(Gg(r),us(r),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ar(n._repo,n._path,r,n._orderByCalled)},t}(Zr);function MG(e,t){return Sh("endAt","key",t,!0),new D2(e,t)}var FG=function(e){H(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){bi("endBefore",this._value,n._path,!1);var r=MK(n._queryParams,this._value,this._key);if(Gg(r),us(r),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ar(n._repo,n._path,r,n._orderByCalled)},t}(Zr);function UG(e,t){return Sh("endBefore","key",t,!0),new FG(e,t)}var L2=function(e){H(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){bi("startAt",this._value,n._path,!0);var r=SE(n._queryParams,this._value,this._key);if(Gg(r),us(r),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ar(n._repo,n._path,r,n._orderByCalled)},t}(Zr);function jG(e,t){return e===void 0&&(e=null),Sh("startAt","key",t,!0),new L2(e,t)}var VG=function(e){H(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){bi("startAfter",this._value,n._path,!1);var r=LK(n._queryParams,this._value,this._key);if(Gg(r),us(r),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ar(n._repo,n._path,r,n._orderByCalled)},t}(Zr);function BG(e,t){return Sh("startAfter","key",t,!0),new VG(e,t)}var $G=function(e){H(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ar(n._repo,n._path,xK(n._queryParams,this._limit),n._orderByCalled)},t}(Zr);function qG(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new $G(e)}var zG=function(e){H(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ar(n._repo,n._path,DK(n._queryParams,this._limit),n._orderByCalled)},t}(Zr);function WG(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new zG(e)}var KG=function(e){H(t,e);function t(n){var r=e.call(this)||this;return r._path=n,r}return t.prototype._apply=function(n){Hg(n,"orderByChild");var r=new Ae(this._path);if(pe(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var i=new xI(r),s=xg(n._queryParams,i);return us(s),new Ar(n._repo,n._path,s,!0)},t}(Zr);function HG(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Gf("orderByChild","path",e,!1),new KG(e)}var GG=function(e){H(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){Hg(n,"orderByKey");var r=xg(n._queryParams,gi);return us(r),new Ar(n._repo,n._path,r,!0)},t}(Zr);function QG(){return new GG}var YG=function(e){H(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){Hg(n,"orderByPriority");var r=xg(n._queryParams,je);return us(r),new Ar(n._repo,n._path,r,!0)},t}(Zr);function XG(){return new YG}var JG=function(e){H(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){Hg(n,"orderByValue");var r=xg(n._queryParams,DI);return us(r),new Ar(n._repo,n._path,r,!0)},t}(Zr);function ZG(){return new JG}var e5=function(e){H(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){if(bi("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new D2(this._value,this._key)._apply(new L2(this._value,this._key)._apply(n))},t}(Zr);function t5(e,t){return Sh("equalTo","key",t,!0),new e5(e,t)}function Vr(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=he(e);try{for(var a=Mt(r),l=a.next();!l.done;l=a.next()){var c=l.value;s=c._apply(s)}}catch(h){t={error:h}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return s}CH(Ti);PH(Ti);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n5="FIREBASE_DATABASE_EMULATOR_HOST",jE={},M2=!1;function r5(e,t,n,r){e.repoInfo_=new kI(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function F2(e,t,n,r,i){var s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||wi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ot("Using default host for project ",e.options.projectId),s=e.options.projectId+"-default-rtdb.firebaseio.com");var a=FE(s,i),l=a.repoInfo,c,h=void 0;typeof process<"u"&&(h=process.env[n5]),h?(c=!0,s="http://"+h+"?ns="+l.namespace,a=FE(s,i),l=a.repoInfo):c=!a.repoInfo.secure;var p=i&&c?new ff(ff.OWNER):new xW(e.name,e.options,t);w2("Invalid Firebase Database URL",a),pe(a.path)||wi("Database URL must point to the root of a Firebase Database (not including a child path).");var v=o5(l,e,p,new OW(e.name,n));return new a5(v,e)}function i5(e,t){var n=jE[t];(!n||n[e.key]!==e)&&wi("Database "+t+"("+e.repoInfo_+") has already been deleted."),T2(e),delete n[e.key]}function o5(e,t,n,r){var i=jE[t.name];i||(i={},jE[t.name]=i);var s=i[e.toURLString()];return s&&wi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new lG(e,M2,n,r),i[e.toURLString()]=s,s}function s5(e){M2=e}var a5=function(){function e(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(cG(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Ti(this._repo,ke())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return this._checkNotDeleted("delete"),i5(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null,Promise.resolve()},e.prototype._checkNotDeleted=function(t){this._rootInternal===null&&wi("Cannot call "+t+" on a deleted database.")},e}();function u5(e,t,n,r){r===void 0&&(r={}),e=he(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&wi("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,s=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&wi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ff(ff.OWNER);else if(r.mockUserToken){var a=nL(r.mockUserToken,e.app.options.projectId);s=new ff(a)}r5(i,t,n,s)}function l5(e){e=he(e),e._checkNotDeleted("goOffline"),T2(e._repo)}function c5(e){e=he(e),e._checkNotDeleted("goOnline"),wG(e._repo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f5={".sv":"timestamp"};function h5(){return f5}function d5(e){return{".sv":{increment:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p5=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function v5(e,t,n){var r;if(e=he(e),mr("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,s=new xn,a=function(c,h,p){var v=null;c?s.reject(c):(v=new Qg(p,new Ti(e._repo,e._path),je),s.resolve(new p5(h,v)))},l=UE(e,function(){});return IG(e._repo,e._path,t,a,l,i),s.promise}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g5=function(){function e(t){this._delegate=t}return e.prototype.cancel=function(t){ne("OnDisconnect.cancel",0,1,arguments.length),Pt("OnDisconnect.cancel","onComplete",t,!0);var n=this._delegate.cancel();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.remove=function(t){ne("OnDisconnect.remove",0,1,arguments.length),Pt("OnDisconnect.remove","onComplete",t,!0);var n=this._delegate.remove();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.set=function(t,n){ne("OnDisconnect.set",1,2,arguments.length),Pt("OnDisconnect.set","onComplete",n,!0);var r=this._delegate.set(t);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},e.prototype.setWithPriority=function(t,n,r){ne("OnDisconnect.setWithPriority",2,3,arguments.length),Pt("OnDisconnect.setWithPriority","onComplete",r,!0);var i=this._delegate.setWithPriority(t,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},e.prototype.update=function(t,n){if(ne("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var r={},i=0;i<t.length;++i)r[""+i]=t[i];t=r,Wt("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Pt("OnDisconnect.update","onComplete",n,!0);var s=this._delegate.update(t);return n&&s.then(function(){return n(null)},function(a){return n(a)}),s},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m5=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return ne("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vf=function(){function e(t,n){this._database=t,this._delegate=n}return e.prototype.val=function(){return ne("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return ne("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return ne("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return ne("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return ne("DataSnapshot.child",0,1,arguments.length),t=String(t),Gf("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(t){return ne("DataSnapshot.hasChild",1,1,arguments.length),Gf("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},e.prototype.getPriority=function(){return ne("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return ne("DataSnapshot.forEach",1,1,arguments.length),Pt("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(function(r){return t(new e(n._database,r))})},e.prototype.hasChildren=function(){return ne("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return ne("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return ne("DataSnapshot.ref",0,0,arguments.length),new Xs(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),U2=function(){function e(t,n){this.database=t,this._delegate=n}return e.prototype.on=function(t,n,r,i){var s=this,a;ne("Query.on",2,4,arguments.length),Pt("Query.on","callback",n,!1);var l=e.getCancelAndContextArgs_("Query.on",r,i),c=function(p,v){n.call(l.context,new vf(s.database,p),v)};c.userCallback=n,c.context=l.context;var h=(a=l.cancel)===null||a===void 0?void 0:a.bind(l.context);switch(t){case"value":return UE(this._delegate,c,h),n;case"child_added":return PR(this._delegate,c,h),n;case"child_removed":return DR(this._delegate,c,h),n;case"child_changed":return OR(this._delegate,c,h),n;case"child_moved":return xR(this._delegate,c,h),n;default:throw new Error(jn("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(t,n,r){if(ne("Query.off",0,3,arguments.length),rG("Query.off",t,!0),Pt("Query.off","callback",n,!0),QA("Query.off","context",r,!0),n){var i=function(){};i.userCallback=n,i.context=r,LR(this._delegate,t,i)}else LR(this._delegate,t)},e.prototype.get=function(){var t=this;return LG(this._delegate).then(function(n){return new vf(t.database,n)})},e.prototype.once=function(t,n,r,i){var s=this;ne("Query.once",1,4,arguments.length),Pt("Query.once","callback",n,!0);var a=e.getCancelAndContextArgs_("Query.on",r,i),l=new xn,c=function(p,v){var m=new vf(s.database,p);n&&n.call(a.context,m,v),l.resolve(m)};c.userCallback=n,c.context=a.context;var h=function(p){a.cancel&&a.cancel.call(a.context,p),l.reject(p)};switch(t){case"value":UE(this._delegate,c,h,{onlyOnce:!0});break;case"child_added":PR(this._delegate,c,h,{onlyOnce:!0});break;case"child_removed":DR(this._delegate,c,h,{onlyOnce:!0});break;case"child_changed":OR(this._delegate,c,h,{onlyOnce:!0});break;case"child_moved":xR(this._delegate,c,h,{onlyOnce:!0});break;default:throw new Error(jn("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise},e.prototype.limitToFirst=function(t){return ne("Query.limitToFirst",1,1,arguments.length),new e(this.database,Vr(this._delegate,qG(t)))},e.prototype.limitToLast=function(t){return ne("Query.limitToLast",1,1,arguments.length),new e(this.database,Vr(this._delegate,WG(t)))},e.prototype.orderByChild=function(t){return ne("Query.orderByChild",1,1,arguments.length),new e(this.database,Vr(this._delegate,HG(t)))},e.prototype.orderByKey=function(){return ne("Query.orderByKey",0,0,arguments.length),new e(this.database,Vr(this._delegate,QG()))},e.prototype.orderByPriority=function(){return ne("Query.orderByPriority",0,0,arguments.length),new e(this.database,Vr(this._delegate,XG()))},e.prototype.orderByValue=function(){return ne("Query.orderByValue",0,0,arguments.length),new e(this.database,Vr(this._delegate,ZG()))},e.prototype.startAt=function(t,n){return t===void 0&&(t=null),ne("Query.startAt",0,2,arguments.length),new e(this.database,Vr(this._delegate,jG(t,n)))},e.prototype.startAfter=function(t,n){return t===void 0&&(t=null),ne("Query.startAfter",0,2,arguments.length),new e(this.database,Vr(this._delegate,BG(t,n)))},e.prototype.endAt=function(t,n){return t===void 0&&(t=null),ne("Query.endAt",0,2,arguments.length),new e(this.database,Vr(this._delegate,MG(t,n)))},e.prototype.endBefore=function(t,n){return t===void 0&&(t=null),ne("Query.endBefore",0,2,arguments.length),new e(this.database,Vr(this._delegate,UG(t,n)))},e.prototype.equalTo=function(t,n){return ne("Query.equalTo",1,2,arguments.length),new e(this.database,Vr(this._delegate,t5(t,n)))},e.prototype.toString=function(){return ne("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return ne("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(ne("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(t,n,r){var i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Pt(t,"cancel",i.cancel,!0),i.context=r,QA(t,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(jn(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return i},Object.defineProperty(e.prototype,"ref",{get:function(){return new Xs(this.database,new Ti(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Xs=function(e){H(t,e);function t(n,r){var i=e.call(this,n,new Ar(r._repo,r._path,new QL,!1))||this;return i.database=n,i._delegate=r,i}return t.prototype.getKey=function(){return ne("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(n){return ne("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new t(this.database,_a(this._delegate,n))},t.prototype.getParent=function(){ne("Reference.parent",0,0,arguments.length);var n=this._delegate.parent;return n?new t(this.database,n):null},t.prototype.getRoot=function(){return ne("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(n,r){ne("Reference.set",1,2,arguments.length),Pt("Reference.set","onComplete",r,!0);var i=iT(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},t.prototype.update=function(n,r){if(ne("Reference.update",1,2,arguments.length),Array.isArray(n)){for(var i={},s=0;s<n.length;++s)i[""+s]=n[s];n=i,Wt("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}mr("Reference.update",this._delegate._path),Pt("Reference.update","onComplete",r,!0);var a=DG(this._delegate,n);return r&&a.then(function(){return r(null)},function(l){return r(l)}),a},t.prototype.setWithPriority=function(n,r,i){ne("Reference.setWithPriority",2,3,arguments.length),Pt("Reference.setWithPriority","onComplete",i,!0);var s=xG(this._delegate,n,r);return i&&s.then(function(){return i(null)},function(a){return i(a)}),s},t.prototype.remove=function(n){ne("Reference.remove",0,1,arguments.length),Pt("Reference.remove","onComplete",n,!0);var r=PG(this._delegate);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},t.prototype.transaction=function(n,r,i){var s=this;ne("Reference.transaction",1,3,arguments.length),Pt("Reference.transaction","transactionUpdate",n,!1),Pt("Reference.transaction","onComplete",r,!0),oG("Reference.transaction","applyLocally",i,!0);var a=v5(this._delegate,n,{applyLocally:i}).then(function(l){return new m5(l.committed,new vf(s.database,l.snapshot))});return r&&a.then(function(l){return r(null,l.committed,l.snapshot)},function(l){return r(l,!1,null)}),a},t.prototype.setPriority=function(n,r){ne("Reference.setPriority",1,2,arguments.length),Pt("Reference.setPriority","onComplete",r,!0);var i=OG(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},t.prototype.push=function(n,r){var i=this;ne("Reference.push",0,2,arguments.length),Pt("Reference.push","onComplete",r,!0);var s=RG(this._delegate,n),a=s.then(function(c){return new t(i.database,c)});r&&a.then(function(){return r(null)},function(c){return r(c)});var l=new t(this.database,s);return l.then=a.then.bind(a),l.catch=a.catch.bind(a,void 0),l},t.prototype.onDisconnect=function(){return mr("Reference.onDisconnect",this._delegate._path),new g5(new AG(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(U2);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lv=function(){function e(t,n){var r=this;this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),u5(this._delegate,t,n,r)},e.prototype.ref=function(t){if(ne("database.ref",0,1,arguments.length),t instanceof Xs){var n=RR(this._delegate,t.toString());return new Xs(this,n)}else{var n=P2(this._delegate,t);return new Xs(this,n)}},e.prototype.refFromURL=function(t){var n="database.refFromURL";ne(n,1,1,arguments.length);var r=RR(this._delegate,t);return new Xs(this,r)},e.prototype.goOffline=function(){return ne("database.goOffline",0,0,arguments.length),l5(this._delegate)},e.prototype.goOnline=function(){return ne("database.goOnline",0,0,arguments.length),c5(this._delegate)},e.ServerValue={TIMESTAMP:h5(),increment:function(t){return d5(t)}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y5=function(){Ws.forceDisallow(),AI.forceAllow()},_5=function(){AI.forceDisallow()},w5=function(){return Ws.isAvailable()},E5=function(e,t){var n=e._delegate._repo.persistentConnection_;n.securityDebugCallback_=t},b5=function(e,t){EG(e._delegate._repo,t)},I5=function(e,t){bG(e._delegate._repo,t)},T5=function(e){return e._delegate._repo.dataUpdateCount},S5=function(e,t){return fG(e._delegate._repo,t)};function C5(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,s=e.namespace,a=e.nodeAdmin,l=a===void 0?!1:a;dL(r);var c=new aL("auth-internal",new uL("database-standalone"));return c.setComponent(new $n("auth-internal",function(){return i},"PRIVATE")),{instance:new Lv(F2(t,c,void 0,n,l),t),namespace:s}}var k5=Object.freeze({__proto__:null,forceLongPolling:y5,forceWebSockets:_5,isWebSocketsAvailable:w5,setSecurityDebugCallback:E5,stats:b5,statsIncrementCounter:I5,dataUpdateCount:T5,interceptServerData:S5,initStandalone:C5});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N5=oa;oa.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};oa.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var A5=LL,R5=function(e){var t=oa.prototype.put;return oa.prototype.put=function(n,r,i,s){s!==void 0&&(s=e()),t.call(this,n,r,i,s)},function(){oa.prototype.put=t}},P5=kI,O5=function(e){return e._delegate._queryIdentifier},x5=function(e){s5(e)},D5=Object.freeze({__proto__:null,DataConnection:N5,RealTimeConnection:A5,hijackHash:R5,ConnectionTarget:P5,queryIdentifier:O5,forceRestClient:x5});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L5=Lv.ServerValue;function M5(e){dL(e.SDK_VERSION),e.INTERNAL.registerComponent(new $n("database",function(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Lv(F2(i,s,a,r),i)},"PUBLIC").setServiceProps({Reference:Xs,Query:U2,Database:Lv,DataSnapshot:vf,enableLogging:mL,INTERNAL:k5,ServerValue:L5,TEST_ACCESS:D5}).setMultipleInstances(!0)),e.registerVersion(wW,EW)}M5(Z);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var VE=function(e,t){return VE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},VE(e,t)};function F5(e,t){VE(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function j2(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var U5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},X,oT=oT||{},ce=U5||self;function Mv(){}function BE(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Nh(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function j5(e){return Object.prototype.hasOwnProperty.call(e,z_)&&e[z_]||(e[z_]=++V5)}var z_="closure_uid_"+(1e9*Math.random()>>>0),V5=0;function B5(e,t,n){return e.call.apply(e.bind,arguments)}function $5(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function nn(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?nn=B5:nn=$5,nn.apply(null,arguments)}function vp(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Si(){return Date.now()}function Sn(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(r,i,s){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[i].apply(r,a)}}function ls(){this.j=this.j,this.i=this.i}var q5=0;ls.prototype.j=!1;ls.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),q5!=0)&&j5(this)};ls.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var V2=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},B2=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function z5(e){e:{for(var t=x8,n=e.length,r=typeof e=="string"?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function MR(e){return Array.prototype.concat.apply([],arguments)}function sT(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Fv(e){return/^[\s\xa0]*$/.test(e)}var FR=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function gn(e,t){return e.indexOf(t)!=-1}function W_(e,t){return e<t?-1:e>t?1:0}var mn;e:{var UR=ce.navigator;if(UR){var jR=UR.userAgent;if(jR){mn=jR;break e}}mn=""}function aT(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function $2(e){var t={};for(var n in e)t[n]=e[n];return t}var VR="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q2(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var s=0;s<VR.length;s++)n=VR[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function uT(e){return uT[" "](e),e}uT[" "]=Mv;function W5(e,t){var n=G5;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var K5=gn(mn,"Opera"),es=gn(mn,"Trident")||gn(mn,"MSIE"),z2=gn(mn,"Edge"),$E=z2||es,W2=gn(mn,"Gecko")&&!(gn(mn.toLowerCase(),"webkit")&&!gn(mn,"Edge"))&&!(gn(mn,"Trident")||gn(mn,"MSIE"))&&!gn(mn,"Edge"),H5=gn(mn.toLowerCase(),"webkit")&&!gn(mn,"Edge");function K2(){var e=ce.document;return e?e.documentMode:void 0}var Uv;e:{var K_="",H_=function(){var e=mn;if(W2)return/rv:([^\);]+)(\)|;)/.exec(e);if(z2)return/Edge\/([\d\.]+)/.exec(e);if(es)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(H5)return/WebKit\/(\S+)/.exec(e);if(K5)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(H_&&(K_=H_?H_[1]:""),es){var G_=K2();if(G_!=null&&G_>parseFloat(K_)){Uv=String(G_);break e}}Uv=K_}var G5={};function H2(e){return W5(e,function(){for(var t=0,n=FR(String(Uv)).split("."),r=FR(String(e)).split("."),i=Math.max(n.length,r.length),s=0;t==0&&s<i;s++){var a=n[s]||"",l=r[s]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],a[0].length==0&&l[0].length==0)break;t=W_(a[1].length==0?0:parseInt(a[1],10),l[1].length==0?0:parseInt(l[1],10))||W_(a[2].length==0,l[2].length==0)||W_(a[2],l[2]),a=a[3],l=l[3]}while(t==0)}return 0<=t})}var qE;if(ce.document&&es){var BR=K2();qE=BR||parseInt(Uv,10)||void 0}else qE=void 0;var G2=qE,lT=!es||9<=Number(G2),Q5=es&&!H2("9"),Y5=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ce.addEventListener("test",Mv,t),ce.removeEventListener("test",Mv,t)}catch{}return e}();function rn(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}rn.prototype.b=function(){this.defaultPrevented=!0};function Qf(e,t){if(rn.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(W2){e:{try{uT(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:X5[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}Sn(Qf,rn);var X5={2:"touch",3:"pen",4:"mouse"};Qf.prototype.b=function(){Qf.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Q5)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch{}};var Ah="closure_listenable_"+(1e6*Math.random()|0),J5=0;function Z5(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++J5,this.Y=this.Z=!1}function Yg(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function Xg(e){this.src=e,this.a={},this.b=0}Xg.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.a[s],e||(e=this.a[s]=[],this.b++);var a=WE(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):(t=new Z5(t,this.src,s,!!r,i),t.Z=n,e.push(t)),t};function zE(e,t){var n=t.type;if(n in e.a){var r=e.a[n],i=V2(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Yg(t),e.a[n].length==0&&(delete e.a[n],e.b--))}}function WE(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.Y&&s.listener==t&&s.capture==!!n&&s.ca==r)return i}return-1}var cT="closure_lm_"+(1e6*Math.random()|0),Q_={};function fT(e,t,n,r,i){if(r&&r.once)return Y2(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)fT(e,t[s],n,r,i);return null}return n=pT(n),e&&e[Ah]?e.va(t,n,Nh(r)?!!r.capture:!!r,i):Q2(e,t,n,!1,r,i)}function Q2(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=Nh(i)?!!i.capture:!!i;if(a&&!lT)return null;var l=dT(e);if(l||(e[cT]=l=new Xg(e)),n=l.add(t,n,r,a,s),n.proxy)return n;if(r=e8(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Y5||(i=a),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(J2(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function e8(){var e=t8,t=lT?function(n){return e.call(t.src,t.listener,n)}:function(n){if(n=e.call(t.src,t.listener,n),!n)return n};return t}function Y2(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Y2(e,t[s],n,r,i);return null}return n=pT(n),e&&e[Ah]?e.wa(t,n,Nh(r)?!!r.capture:!!r,i):Q2(e,t,n,!0,r,i)}function X2(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)X2(e,t[s],n,r,i);else r=Nh(r)?!!r.capture:!!r,n=pT(n),e&&e[Ah]?(e=e.c,t=String(t).toString(),t in e.a&&(s=e.a[t],n=WE(s,n,r,i),-1<n&&(Yg(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.a[t],e.b--)))):e&&(e=dT(e))&&(t=e.a[t.toString()],e=-1,t&&(e=WE(t,n,r,i)),(n=-1<e?t[e]:null)&&hT(n))}function hT(e){if(typeof e!="number"&&e&&!e.Y){var t=e.src;if(t&&t[Ah])zE(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(J2(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=dT(t))?(zE(n,e),n.b==0&&(n.src=null,t[cT]=null)):Yg(e)}}}function J2(e){return e in Q_?Q_[e]:Q_[e]="on"+e}function $R(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&hT(e),n.call(r,t)}function t8(e,t){if(e.Y)return!0;if(!lT){if(!t)e:{t=["window","event"];for(var n=ce,r=0;r<t.length;r++)if(n=n[t[r]],n==null){t=null;break e}t=n}return t=new Qf(t,this),$R(e,t)}return $R(e,new Qf(t,this))}function dT(e){return e=e[cT],e instanceof Xg?e:null}var Y_="__closure_events_fn_"+(1e9*Math.random()>>>0);function pT(e){return typeof e=="function"?e:(e[Y_]||(e[Y_]=function(t){return e.handleEvent(t)}),e[Y_])}function or(){ls.call(this),this.c=new Xg(this),this.J=this,this.C=null}Sn(or,ls);or.prototype[Ah]=!0;X=or.prototype;X.addEventListener=function(e,t,n,r){fT(this,e,t,n,r)};X.removeEventListener=function(e,t,n,r){X2(this,e,t,n,r)};function Kt(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,typeof t=="string")t=new rn(t,e);else if(t instanceof rn)t.target=t.target||e;else{var i=t;t=new rn(r,e),q2(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.a=n[s];i=gp(a,r,!0,t)&&i}if(a=t.a=e,i=gp(a,r,!0,t)&&i,i=gp(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)a=t.a=n[s],i=gp(a,r,!1,t)&&i}X.G=function(){if(or.X.G.call(this),this.c){var e=this.c,t;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Yg(n[r]);delete e.a[t],e.b--}}this.C=null};X.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)};X.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};function gp(e,t,n,r){if(t=e.c.a[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.Y&&a.capture==n){var l=a.listener,c=a.ca||a.src;a.Z&&zE(e.c,a),i=l.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var vT=ce.JSON.stringify;function Z2(){this.b=this.a=null}var eM=new(function(){function e(t,n){this.c=t,this.f=n,this.b=0,this.a=null}return e.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},e}())(function(){return new gT},function(e){e.reset()});Z2.prototype.add=function(e,t){var n=eM.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n};function n8(){var e=nM,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function gT(){this.next=this.b=this.a=null}gT.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null};gT.prototype.reset=function(){this.next=this.b=this.a=null};function r8(e){ce.setTimeout(function(){throw e},0)}function tM(e,t){KE||i8(),HE||(KE(),HE=!0),nM.add(e,t)}var KE;function i8(){var e=ce.Promise.resolve(void 0);KE=function(){e.then(o8)}}var HE=!1,nM=new Z2;function o8(){for(var e;e=n8();){try{e.a.call(e.b)}catch(n){r8(n)}var t=eM;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}HE=!1}function Jg(e,t){or.call(this),this.b=e||1,this.a=t||ce,this.f=nn(this.Za,this),this.g=Si()}Sn(Jg,or);X=Jg.prototype;X.aa=!1;X.M=null;X.Za=function(){if(this.aa){var e=Si()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Kt(this,"tick"),this.aa&&(mT(this),this.start()))}};X.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Si())};function mT(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}X.G=function(){Jg.X.G.call(this),mT(this),delete this.a};function yT(e,t,n){if(typeof e=="function")n&&(e=nn(e,n));else if(e&&typeof e.handleEvent=="function")e=nn(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:ce.setTimeout(e,t||0)}function rM(e){e.a=yT(function(){e.a=null,e.c&&(e.c=!1,rM(e))},e.h);var t=e.b;e.b=null,e.g.apply(null,t)}var s8=function(e){F5(t,e);function t(n,r){var i=e.call(this)||this;return i.g=n,i.h=r,i.b=null,i.c=!1,i.a=null,i}return t.prototype.f=function(n){this.b=arguments,this.a?this.c=!0:rM(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(ce.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(ls);function Yf(e){ls.call(this),this.b=e,this.a={}}Sn(Yf,ls);var qR=[];function iM(e,t,n,r){Array.isArray(n)||(n&&(qR[0]=n.toString()),n=qR);for(var i=0;i<n.length;i++){var s=fT(t,n[i],r||e.handleEvent,!1,e.b||e);if(!s)break;e.a[s.key]=s}}function oM(e){aT(e.a,function(t,n){this.a.hasOwnProperty(n)&&hT(t)},e),e.a={}}Yf.prototype.G=function(){Yf.X.G.call(this),oM(this)};Yf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function _T(){this.a=!0}function a8(e,t,n,r,i,s){e.info(function(){if(e.a)if(s)for(var a="",l=s.split("&"),c=0;c<l.length;c++){var h=l[c].split("=");if(1<h.length){var p=h[0];h=h[1];var v=p.split("_");a=2<=v.length&&v[1]=="type"?a+(p+"="+h+"&"):a+(p+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+a})}function u8(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+a})}function Du(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+c8(e,n)+(r?" "+r:"")})}function l8(e,t){e.info(function(){return"TIMEOUT: "+t})}_T.prototype.info=function(){};function c8(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return vT(n)}catch{return t}}var xa={},zR=null;function Zg(){return zR=zR||new or}xa.Fa="serverreachability";function sM(e){rn.call(this,xa.Fa,e)}Sn(sM,rn);function Xf(e){var t=Zg();Kt(t,new sM(t))}xa.STAT_EVENT="statevent";function aM(e,t){rn.call(this,xa.STAT_EVENT,e),this.stat=t}Sn(aM,rn);function _n(e){var t=Zg();Kt(t,new aM(t,e))}xa.Ga="timingevent";function uM(e){rn.call(this,xa.Ga,e)}Sn(uM,rn);function Rh(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){e()},t)}var em={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},lM={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function cM(){}cM.prototype.a=null;function WR(e){var t;return(t=e.a)||(t=e.a={}),t}function fM(){}var Ph={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function wT(){rn.call(this,"d")}Sn(wT,rn);function ET(){rn.call(this,"c")}Sn(ET,rn);var hM;function dM(){}Sn(dM,cM);hM=new dM;function Oh(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new Yf(this),this.P=f8,e=$E?125:void 0,this.R=new Jg(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}var f8=45e3,pM={},GE={};X=Oh.prototype;X.setTimeout=function(e){this.P=e};function QE(e,t,n){e.H=1,e.i=nm(Xi(t)),e.j=n,e.I=!0,vM(e,null)}function vM(e,t){e.u=Si(),xh(e),e.l=Xi(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),EM(n.b,"t",r),e.D=0,e.a=jM(e.g,e.g.C?t:null),0<e.O&&(e.F=new s8(nn(e.Ca,e,e.a),e.O)),iM(e.J,e.a,"readystatechange",e.Xa),t=e.B?$2(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),Xf(),a8(e.c,e.m,e.l,e.f,e.S,e.j)}X.Xa=function(e){e=e.target;var t=this.F;t&&xo(e)==3?t.f():this.Ca(e)};X.Ca=function(e){try{if(e==this.a)e:{var t=xo(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||t==3&&!$E&&!this.a.$())){this.A||t!=4||n==7||(n==8||0>=r?Xf(3):Xf(2)),tm(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=i==200,u8(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,l=this.a;if((a=l.a?l.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fv(a)){var c=a;break t}}c=null}if(c)Du(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,YE(this,c);else{this.b=!1,this.h=3,_n(12),qu(this),jv(this);break e}}this.I?(gM(this,t,s),$E&&this.b&&t==3&&(iM(this.J,this.R,"tick",this.Wa),this.R.start())):(Du(this.c,this.f,s,null),YE(this,s)),t==4&&qu(this),this.b&&!this.A&&(t==4?LM(this.g,this):(this.b=!1,xh(this)))}else i==400&&0<s.indexOf("Unknown SID")?(this.h=3,_n(12)):(this.h=0,_n(13)),qu(this),jv(this)}}}catch{}finally{}};function gM(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=h8(e,n);if(i==GE){t==4&&(e.h=4,_n(14),r=!1),Du(e.c,e.f,null,"[Incomplete Response]");break}else if(i==pM){e.h=4,_n(15),Du(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}else Du(e.c,e.f,i,null),YE(e,i)}t==4&&n.length==0&&(e.h=1,_n(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,t=e.g,t.a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),AT(t),t.F=!0,_n(11))):(Du(e.c,e.f,n,"[Invalid Chunked Response]"),qu(e),jv(e))}X.Wa=function(){if(this.a){var e=xo(this.a),t=this.a.$();this.D<t.length&&(tm(this),gM(this,e,t),this.b&&e!=4&&xh(this))}};function h8(e,t){var n=e.D,r=t.indexOf(`
`,n);return r==-1?GE:(n=Number(t.substring(n,r)),isNaN(n)?pM:(r+=1,r+n>t.length?GE:(t=t.substr(r,n),e.D=r+n,t)))}X.cancel=function(){this.A=!0,qu(this)};function xh(e){e.T=Si()+e.P,mM(e,e.P)}function mM(e,t){if(e.o!=null)throw Error("WatchDog timer not null");e.o=Rh(nn(e.Va,e),t)}function tm(e){e.o&&(ce.clearTimeout(e.o),e.o=null)}X.Va=function(){this.o=null;var e=Si();0<=e-this.T?(l8(this.c,this.l),this.H!=2&&(Xf(),_n(17)),qu(this),this.h=2,jv(this)):mM(this,this.T-e)};function jv(e){e.g.v==0||e.A||LM(e.g,e)}function qu(e){tm(e);var t=e.F;t&&typeof t.ja=="function"&&t.ja(),e.F=null,mT(e.R),oM(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function YE(e,t){try{var n=e.g;if(n.v!=0&&(n.a==e||XE(n.b,e))){if(n.I=e.N,!e.C&&XE(n.b,e)&&n.v==3){try{var r=n.ka.a.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.j){if(n.a)if(n.a.u+3e3<e.u)qv(n),im(n);else break e;NT(n),_n(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&n.o==0&&!n.m&&(n.m=Rh(nn(n.Sa,n),6e3));if(1>=TM(n.b)&&n.ea){try{n.ea()}catch{}n.ea=void 0}}else Js(n,11)}else if((e.C||n.a==e)&&qv(n),!Fv(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],n.v==2)if(i[0]=="c"){n.J=i[1],n.ga=i[2];var s=i[3];s!=null&&(n.ha=s,n.c.info("VER="+n.ha));var a=i[4];a!=null&&(n.pa=a,n.c.info("SVER="+n.pa));var l=i[5];if(l!=null&&typeof l=="number"&&0<l){var c=1.5*l;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var h=e.a;if(h){var p=h.a?h.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var v=c.b;!v.a&&(gn(p,"spdy")||gn(p,"quic")||gn(p,"h2"))&&(v.f=v.g,v.a=new Set,v.b&&(TT(v,v.b),v.b=null))}if(c.A){var m=h.a?h.a.getResponseHeader("X-HTTP-Session-Id"):null;m&&(c.na=m,He(c.B,c.A,m))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Si()-e.u,n.c.info("Handshake RTT: "+n.N+"ms")),c=n;var y=e;if(c.la=UM(c,c.C?c.ga:null,c.fa),y.C){SM(c.b,y);var w=y,b=c.D;b&&w.setTimeout(b),w.o&&(tm(w),xh(w)),c.a=y}else xM(c);0<n.g.length&&om(n)}else i[0]!="stop"&&i[0]!="close"||Js(n,7);else n.v==3&&(i[0]=="stop"||i[0]=="close"?i[0]=="stop"?Js(n,7):kT(n):i[0]!="noop"&&n.f&&n.f.sa(i),n.o=0)}Xf(4)}catch{}}function d8(e){if(e.K&&typeof e.K=="function")return e.K();if(typeof e=="string")return e.split("");if(BE(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return e=t}function bT(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(BE(e)||typeof e=="string")B2(e,t,void 0);else{if(e.L&&typeof e.L=="function")var n=e.L();else if(e.K&&typeof e.K=="function")n=void 0;else if(BE(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=d8(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function Ul(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Ul)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}X=Ul.prototype;X.K=function(){IT(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e};X.L=function(){return IT(this),this.a.concat()};function IT(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];wa(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)r=e.a[t],wa(i,r)||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}X.get=function(e,t){return wa(this.b,e)?this.b[e]:t};X.set=function(e,t){wa(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t};X.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};function wa(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var yM=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function p8(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ea(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof Ea){this.a=t!==void 0?t:e.a,Vv(this,e.f),this.j=e.j,Bv(this,e.c),$v(this,e.h),this.g=e.g,t=e.b;var n=new Jf;n.c=t.c,t.a&&(n.a=new Ul(t.a),n.b=t.b),KR(this,n),this.i=e.i}else e&&(n=String(e).match(yM))?(this.a=!!t,Vv(this,n[1]||"",!0),this.j=gf(n[2]||""),Bv(this,n[3]||"",!0),$v(this,n[4]),this.g=gf(n[5]||"",!0),KR(this,n[6]||"",!0),this.i=gf(n[7]||"")):(this.a=!!t,this.b=new Jf(null,this.a))}Ea.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Jc(t,HR,!0),":");var n=this.c;return(n||t=="file")&&(e.push("//"),(t=this.j)&&e.push(Jc(t,HR,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.h,n!=null&&e.push(":",String(n))),(n=this.g)&&(this.c&&n.charAt(0)!="/"&&e.push("/"),e.push(Jc(n,n.charAt(0)=="/"?_8:y8,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Jc(n,E8)),e.join("")};function Xi(e){return new Ea(e)}function Vv(e,t,n){e.f=n?gf(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Bv(e,t,n){e.c=n?gf(t,!0):t}function $v(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function KR(e,t,n){t instanceof Jf?(e.b=t,b8(e.b,e.a)):(n||(t=Jc(t,w8)),e.b=new Jf(t,e.a))}function He(e,t,n){e.b.set(t,n)}function nm(e){return He(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Si()).toString(36)),e}function v8(e){return e instanceof Ea?Xi(e):new Ea(e,void 0)}function g8(e,t,n,r){var i=new Ea(null,void 0);return e&&Vv(i,e),t&&Bv(i,t),n&&$v(i,n),r&&(i.g=r),i}function gf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Jc(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,m8),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function m8(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var HR=/[#\/\?@]/g,y8=/[#\?:]/g,_8=/[#\?]/g,w8=/[#\?@]/g,E8=/#/g;function Jf(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function cs(e){e.a||(e.a=new Ul,e.b=0,e.c&&p8(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}X=Jf.prototype;X.add=function(e,t){cs(this),this.c=null,e=jl(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this};function _M(e,t){cs(e),t=jl(e,t),wa(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,e=e.a,wa(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&IT(e)))}function wM(e,t){return cs(e),t=jl(e,t),wa(e.a.b,t)}X.forEach=function(e,t){cs(this),this.a.forEach(function(n,r){B2(n,function(i){e.call(t,i,r,this)},this)},this)};X.L=function(){cs(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n};X.K=function(e){cs(this);var t=[];if(typeof e=="string")wM(this,e)&&(t=MR(t,this.a.get(jl(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=MR(t,e[n])}return t};X.set=function(e,t){return cs(this),this.c=null,e=jl(this,e),wM(this,e)&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this};X.get=function(e,t){return e?(e=this.K(e),0<e.length?String(e[0]):t):t};function EM(e,t,n){_M(e,t),0<n.length&&(e.c=null,e.a.set(jl(e,t),sT(n)),e.b+=n.length)}X.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var a=i;r[s]!==""&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}}return this.c=e.join("&")};function jl(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function b8(e,t){t&&!e.f&&(cs(e),e.c=null,e.a.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(_M(this,r),EM(this,i,n))},e)),e.f=t}var I8=function(){function e(t,n){this.b=t,this.a=n}return e}();function bM(e){this.g=e||T8,ce.PerformanceNavigationTiming?(e=ce.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(ce.ia&&ce.ia.ya&&ce.ia.ya()&&ce.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var T8=10;function IM(e){return e.b?!0:e.a?e.a.size>=e.f:!1}function TM(e){return e.b?1:e.a?e.a.size:0}function XE(e,t){return e.b?e.b==t:e.a?e.a.has(t):!1}function TT(e,t){e.a?e.a.add(t):e.b=t}function SM(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}bM.prototype.cancel=function(){var e,t;if(this.c=CM(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&this.a.size!==0){try{for(var n=j2(this.a.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}};function CM(e){var t,n;if(e.b!=null)return e.c.concat(e.b.s);if(e.a!=null&&e.a.size!==0){var r=e.c;try{for(var i=j2(e.a.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r.concat(a.s)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return sT(e.c)}function ST(){}ST.prototype.stringify=function(e){return ce.JSON.stringify(e,void 0)};ST.prototype.parse=function(e){return ce.JSON.parse(e,void 0)};function S8(){this.a=new ST}function C8(e,t,n){var r=n||"";try{bT(e,function(i,s){var a=i;Nh(i)&&(a=vT(i)),t.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function k8(e,t){var n=new _T;if(ce.Image){var r=new Image;r.onload=vp(mp,n,r,"TestLoadImage: loaded",!0,t),r.onerror=vp(mp,n,r,"TestLoadImage: error",!1,t),r.onabort=vp(mp,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=vp(mp,n,r,"TestLoadImage: timeout",!1,t),ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function mp(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}var N8=ce.JSON.parse;function kt(e){or.call(this),this.headers=new Ul,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=A8,this.D=this.F=!1}Sn(kt,or);var A8="",R8=/^https?$/i,P8=["POST","PUT"];X=kt.prototype;X.ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?WR(this.H):WR(hM),this.a.onreadystatechange=nn(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(s){GR(this,s);return}e=n||"";var i=new Ul(this.headers);r&&bT(r,function(s,a){i.set(a,s)}),r=z5(i.L()),n=ce.FormData&&e instanceof ce.FormData,!(0<=V2(P8,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,a){this.a.setRequestHeader(a,s)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{AM(this),0<this.o&&((this.D=O8(this.a))?(this.a.timeout=this.o,this.a.ontimeout=nn(this.xa,this)):this.m=yT(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(s){GR(this,s)}};function O8(e){return es&&H2(9)&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function x8(e){return e.toLowerCase()=="content-type"}X.xa=function(){typeof oT<"u"&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Kt(this,"timeout"),this.abort(8))};function GR(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,kM(e),rm(e)}function kM(e){e.u||(e.u=!0,Kt(e,"complete"),Kt(e,"error"))}X.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,Kt(this,"complete"),Kt(this,"abort"),rm(this))};X.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),rm(this,!0)),kt.X.G.call(this)};X.za=function(){this.j||(this.A||this.l||this.g?NM(this):this.Ua())};X.Ua=function(){NM(this)};function NM(e){if(e.b&&typeof oT<"u"&&(!e.s[1]||xo(e)!=4||e.W()!=2)){if(e.l&&xo(e)==4)yT(e.za,0,e);else if(Kt(e,"readystatechange"),xo(e)==4){e.b=!1;try{{var t=e.W();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=t===0){var s=String(e.B).match(yM)[1]||null;if(!s&&ce.self&&ce.self.location){var a=ce.self.location.protocol;s=a.substr(0,a.length-1)}i=!R8.test(s?s.toLowerCase():"")}r=i}var l=r}if(l)Kt(e,"complete"),Kt(e,"success");else{e.h=6;try{var c=2<xo(e)?e.a.statusText:""}catch{c=""}e.f=c+" ["+e.W()+"]",kM(e)}}finally{rm(e)}}}}function rm(e,t){if(e.a){AM(e);var n=e.a,r=e.s[0]?Mv:null;e.a=null,e.s=null,t||Kt(e,"ready");try{n.onreadystatechange=r}catch{}}}function AM(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(ce.clearTimeout(e.m),e.m=null)}function xo(e){return e.a?e.a.readyState:0}X.W=function(){try{return 2<xo(this)?this.a.status:-1}catch{return-1}};X.$=function(){try{return this.a?this.a.responseText:""}catch{return""}};X.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),N8(t)}};X.ua=function(){return this.h};X.Qa=function(){return typeof this.f=="string"?this.f:String(this.f)};function D8(e){var t="";return aT(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function CT(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=D8(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):He(e,t,n))}function Wc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function RM(e){this.pa=0,this.g=[],this.c=new _T,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Wc("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Wc("baseRetryDelayMs",5e3,e),this.Ra=Wc("retryDelaySeedMs",1e4,e),this.Ma=Wc("forwardChannelMaxRetries",2,e),this.ma=Wc("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new bM(e&&e.concurrentRequestLimit),this.ka=new S8,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}X=RM.prototype;X.ha=8;X.v=1;function kT(e){if(PM(e),e.v==3){var t=e.R++,n=Xi(e.B);He(n,"SID",e.J),He(n,"RID",t),He(n,"TYPE","terminate"),Dh(e,n),t=new Oh(e,e.c,t,void 0),t.H=2,t.i=nm(Xi(n)),n=!1,ce.navigator&&ce.navigator.sendBeacon&&(n=ce.navigator.sendBeacon(t.i.toString(),"")),!n&&ce.Image&&(new Image().src=t.i,n=!0),n||(t.a=jM(t.g,null),t.a.ba(t.i)),t.u=Si(),xh(t)}FM(e)}function im(e){e.a&&(AT(e),e.a.cancel(),e.a=null)}function PM(e){im(e),e.j&&(ce.clearTimeout(e.j),e.j=null),qv(e),e.b.cancel(),e.h&&(typeof e.h=="number"&&ce.clearTimeout(e.h),e.h=null)}function X_(e,t){e.g.push(new I8(e.Oa++,t)),e.v==3&&om(e)}function om(e){IM(e.b)||e.h||(e.h=!0,tM(e.Ba,e),e.u=0)}function L8(e,t){return TM(e.b)>=e.b.f-(e.h?1:0)?!1:e.h?(e.g=t.s.concat(e.g),!0):e.v==1||e.v==2||e.u>=(e.La?0:e.Ma)?!1:(e.h=Rh(nn(e.Ba,e,t),MM(e,e.u)),e.u++,!0)}X.Ba=function(e){if(this.h)if(this.h=null,this.v==1){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t=new Oh(this,this.c,e,void 0),n=this.l;this.O&&(n?(n=$2(n),q2(n,this.O)):n=this.O),this.i===null&&(t.B=n);var r;if(this.da)e:{for(var i=r=0;i<this.g.length;i++){t:{var s=this.g[i];if("__data__"in s.a&&(s=s.a.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=i;break e}if(r===4096||i===this.g.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=OM(this,t,r),i=Xi(this.B),He(i,"RID",e),He(i,"CVER",22),this.A&&He(i,"X-HTTP-Session-Id",this.A),Dh(this,i),this.i&&n&&CT(i,this.i,n),TT(this.b,t),this.Ia&&He(i,"TYPE","init"),this.da?(He(i,"$req",r),He(i,"SID","null"),t.U=!0,QE(t,i,null)):QE(t,i,r),this.v=2}}else this.v==3&&(e?QR(this,e):this.g.length==0||IM(this.b)||QR(this))};function QR(e,t){var n;t?n=t.f:n=e.R++;var r=Xi(e.B);He(r,"SID",e.J),He(r,"RID",n),He(r,"AID",e.P),Dh(e,r),e.i&&e.l&&CT(r,e.i,e.l),n=new Oh(e,e.c,n,e.u+1),e.i===null&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=OM(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),TT(e.b,n),QE(n,r,t)}function Dh(e,t){e.f&&bT({},function(n,r){He(t,r,n)})}function OM(e,t,n){n=Math.min(e.g.length,n);var r=e.f?nn(e.f.Ja,e.f,e):null;e:for(var i=e.g,s=-1;;){var a=["count="+n];s==-1?0<n?(s=i[0].b,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var l=!0,c=0;c<n;c++){var h=i[c].b,p=i[c].a;if(h-=s,0>h)s=Math.max(0,i[c].b-100),l=!1;else try{C8(p,a,"req"+h+"_")}catch{r&&r(p)}}if(l){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function xM(e){e.a||e.j||(e.T=1,tM(e.Aa,e),e.o=0)}function NT(e){return e.a||e.j||3<=e.o?!1:(e.T++,e.j=Rh(nn(e.Aa,e),MM(e,e.o)),e.o++,!0)}X.Aa=function(){if(this.j=null,DM(this),this.U&&!(this.F||this.a==null||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=Rh(nn(this.Ta,this),e)}};X.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,_n(10),im(this),DM(this))};function AT(e){e.s!=null&&(ce.clearTimeout(e.s),e.s=null)}function DM(e){e.a=new Oh(e,e.c,"rpc",e.T),e.i===null&&(e.a.B=e.l),e.a.O=0;var t=Xi(e.la);He(t,"RID","rpc"),He(t,"SID",e.J),He(t,"CI",e.H?"0":"1"),He(t,"AID",e.P),Dh(e,t),He(t,"TYPE","xmlhttp"),e.i&&e.l&&CT(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=nm(Xi(t)),n.j=null,n.I=!0,vM(n,e)}X.Sa=function(){this.m!=null&&(this.m=null,im(this),NT(this),_n(19))};function qv(e){e.m!=null&&(ce.clearTimeout(e.m),e.m=null)}function LM(e,t){var n=null;if(e.a==t){qv(e),AT(e),e.a=null;var r=2}else if(XE(e.b,t))n=t.s,SM(e.b,t),r=1;else return;if(e.I=t.N,e.v!=0){if(t.b)if(r==1){n=t.j?t.j.length:0,t=Si()-t.u;var i=e.u;r=Zg(),Kt(r,new uM(r)),om(e)}else xM(e);else if(i=t.h,i==3||i==0&&0<e.I||!(r==1&&L8(e,t)||r==2&&NT(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:Js(e,5);break;case 4:Js(e,10);break;case 3:Js(e,6);break;default:Js(e,2)}}}function MM(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function Js(e,t){if(e.c.info("Error code "+t),t==2){var n=null;e.f&&(n=null);var r=nn(e.Ya,e);n||(n=new Ea("//www.google.com/images/cleardot.gif"),ce.location&&ce.location.protocol=="http"||Vv(n,"https"),nm(n)),k8(n.toString(),r)}else _n(2);e.v=0,e.f&&e.f.ra(t),FM(e),PM(e)}X.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),_n(2)):(this.c.info("Failed to ping google.com"),_n(1))};function FM(e){e.v=0,e.I=-1,e.f&&((CM(e.b).length!=0||e.g.length!=0)&&(e.b.c.length=0,sT(e.g),e.g.length=0),e.f.qa())}function UM(e,t,n){var r=v8(n);if(r.c!="")t&&Bv(r,t+"."+r.c),$v(r,r.h);else{var i=ce.location;r=g8(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&aT(e.V,function(s,a){He(r,a,s)}),t=e.A,n=e.na,t&&n&&He(r,t,n),He(r,"VER",e.ha),Dh(e,r),r}function jM(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return t=new kt(e.Na),t.F=e.C,t}function VM(){}X=VM.prototype;X.ta=function(){};X.sa=function(){};X.ra=function(){};X.qa=function(){};X.Ja=function(){};function zv(){if(es&&!(10<=Number(G2)))throw Error("Environmental error: no available transport.")}zv.prototype.a=function(e,t){return new sr(e,t)};function sr(e,t){or.call(this),this.a=new RM(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!Fv(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Fv(t)&&(this.a.A=t,e=this.b,e!==null&&t in e&&(e=this.b,t in e&&delete e[t])),this.f=new Vl(this)}Sn(sr,or);sr.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;_n(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=UM(e,null,e.fa),om(e)};sr.prototype.close=function(){kT(this.a)};sr.prototype.h=function(e){if(typeof e=="string"){var t={};t.__data__=e,X_(this.a,t)}else this.l?(t={},t.__data__=vT(e),X_(this.a,t)):X_(this.a,e)};sr.prototype.G=function(){this.a.f=null,delete this.f,kT(this.a),delete this.a,sr.X.G.call(this)};function BM(e){wT.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=t!==null&&e in t?t[e]:void 0):this.data=t}else this.data=e}Sn(BM,wT);function $M(){ET.call(this),this.status=1}Sn($M,ET);function Vl(e){this.a=e}Sn(Vl,VM);Vl.prototype.ta=function(){Kt(this.a,"a")};Vl.prototype.sa=function(e){Kt(this.a,new BM(e))};Vl.prototype.ra=function(e){Kt(this.a,new $M)};Vl.prototype.qa=function(){Kt(this.a,"b")};zv.prototype.createWebChannel=zv.prototype.a;sr.prototype.send=sr.prototype.h;sr.prototype.open=sr.prototype.g;sr.prototype.close=sr.prototype.close;em.NO_ERROR=0;em.TIMEOUT=8;em.HTTP_ERROR=6;lM.COMPLETE="complete";fM.EventType=Ph;Ph.OPEN="a";Ph.CLOSE="b";Ph.ERROR="c";Ph.MESSAGE="d";or.prototype.listen=or.prototype.va;kt.prototype.listenOnce=kt.prototype.wa;kt.prototype.getLastError=kt.prototype.Qa;kt.prototype.getLastErrorCode=kt.prototype.ua;kt.prototype.getStatus=kt.prototype.W;kt.prototype.getResponseJson=kt.prototype.Pa;kt.prototype.getResponseText=kt.prototype.$;kt.prototype.send=kt.prototype.ba;var M8=function(){return new zv},F8=function(){return Zg()},J_=em,U8=lM,j8=xa,YR={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},yp=fM,V8=kt;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zn=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();Zn.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},U=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return H(t,e),t}(Error),Yr=new xl("@firebase/firestore");function JE(){return Yr.logLevel}function q(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Yr.logLevel<=ge.DEBUG){var r=t.map(RT);Yr.debug.apply(Yr,me(["Firestore (8.5.0): "+e],r))}}function vt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Yr.logLevel<=ge.ERROR){var r=t.map(RT);Yr.error.apply(Yr,me(["Firestore (8.5.0): "+e],r))}}function Wv(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Yr.logLevel<=ge.WARN){var r=t.map(RT);Yr.warn.apply(Yr,me(["Firestore (8.5.0): "+e],r))}}function RT(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.5.0) INTERNAL ASSERTION FAILED: "+e;throw vt(t),new Error(t)}function re(e,t){e||J()}function K(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B8(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qM=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var i=B8(40),s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length));return r},e}();function we(e,t){return e<t?-1:e>t?1:0}function sl(e,t,n){return e.length===t.length&&e.every(function(r,i){return n(r,t[i])})}function zM(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vn=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new U(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new U(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new U(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?we(this.nanoseconds,t.nanoseconds):we(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),ve=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Vn(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Lh(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function WM(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KM=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&J(),r===void 0?r=t.length-n:r>t.length-n&&J(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var s=t.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),Ne=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return H(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],s=0,a=n;s<a.length;s++){var l=a[s];if(l.indexOf("//")>=0)throw new U(x.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");i.push.apply(i,l.split("/").filter(function(c){return c.length>0}))}return new t(i)},t.emptyPath=function(){return new t([])},t}(KM),$8=/^[_a-zA-Z][_a-zA-Z0-9]*$/,kr=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return H(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.isValidIdentifier=function(n){return $8.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],i="",s=0,a=function(){if(i.length===0)throw new U(x.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},l=!1;s<n.length;){var c=n[s];if(c==="\\"){if(s+1===n.length)throw new U(x.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var h=n[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new U(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(a(),s++)}if(a(),l)throw new U(x.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(KM),al=function(){function e(t){this.fields=t,t.sort(kr.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return sl(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),En=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return we(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();En.EMPTY_BYTE_STRING=new En("");var q8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(e){if(re(!!e),typeof e=="string"){var t=0,n=q8.exec(e);if(re(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:dt(e.seconds),nanos:dt(e.nanos)}}function dt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ul(e){return typeof e=="string"?En.fromBase64String(e):En.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function HM(e){var t=e.mapValue.fields.__previous_value__;return PT(t)?HM(t):t}function Zf(e){var t=ts(e.mapValue.fields.__local_write_time__.timestampValue);return new Vn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(e){return e==null}function Kv(e){return e===0&&1/e==-1/0}function GM(e){return typeof e=="number"&&Number.isInteger(e)&&!Kv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ee=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(Ne.fromString(t))},e.fromName=function(t){return new e(Ne.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&Ne.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return Ne.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new Ne(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?PT(e)?4:10:J()}function Ii(e,t){var n=ns(e);if(n!==ns(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Zf(e).isEqual(Zf(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var s=ts(r.timestampValue),a=ts(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return ul(r.bytesValue).isEqual(ul(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return dt(r.geoPointValue.latitude)===dt(i.geoPointValue.latitude)&&dt(r.geoPointValue.longitude)===dt(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return dt(r.integerValue)===dt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var s=dt(r.doubleValue),a=dt(i.doubleValue);return s===a?Kv(s)===Kv(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return sl(e.arrayValue.values||[],t.arrayValue.values||[],Ii);case 10:return function(r,i){var s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(XR(s)!==XR(a))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Ii(s[l],a[l])))return!1;return!0}(e,t);default:return J()}}function eh(e,t){return(e.values||[]).find(function(n){return Ii(n,t)})!==void 0}function ll(e,t){var n=ns(e),r=ns(t);if(n!==r)return we(n,r);switch(n){case 0:return 0;case 1:return we(e.booleanValue,t.booleanValue);case 2:return function(i,s){var a=dt(i.integerValue||i.doubleValue),l=dt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return JR(e.timestampValue,t.timestampValue);case 4:return JR(Zf(e),Zf(t));case 5:return we(e.stringValue,t.stringValue);case 6:return function(i,s){var a=ul(i),l=ul(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){for(var a=i.split("/"),l=s.split("/"),c=0;c<a.length&&c<l.length;c++){var h=we(a[c],l[c]);if(h!==0)return h}return we(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){var a=we(dt(i.latitude),dt(s.latitude));return a!==0?a:we(dt(i.longitude),dt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){for(var a=i.values||[],l=s.values||[],c=0;c<a.length&&c<l.length;++c){var h=ll(a[c],l[c]);if(h)return h}return we(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){var a=i.fields||{},l=Object.keys(a),c=s.fields||{},h=Object.keys(c);l.sort(),h.sort();for(var p=0;p<l.length&&p<h.length;++p){var v=we(l[p],h[p]);if(v!==0)return v;var m=ll(a[l[p]],c[h[p]]);if(m!==0)return m}return we(l.length,h.length)}(e.mapValue,t.mapValue);default:throw J()}}function JR(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return we(e,t);var n=ts(e),r=ts(t),i=we(n.seconds,r.seconds);return i!==0?i:we(n.nanos,r.nanos)}function OT(e){return ZE(e)}function ZE(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var i=ts(r);return"time("+i.seconds+","+i.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ul(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ee.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var i="[",s=!0,a=0,l=r.values||[];a<l.length;a++)s?s=!1:i+=",",i+=ZE(l[a]);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var i="{",s=!0,a=0,l=Object.keys(r.fields||{}).sort();a<l.length;a++){var c=l[a];s?s=!1:i+=",",i+=c+":"+ZE(r.fields[c])}return i+"}"}(e.mapValue):J();var t,n}function Hv(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function eb(e){return!!e&&"integerValue"in e}function xT(e){return!!e&&"arrayValue"in e}function ZR(e){return!!e&&"nullValue"in e}function eP(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function tb(e){return!!e&&"mapValue"in e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yn=function(){function e(t){this.overlayMap=new Map,this.partialValue=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){return e.extractNestedValue(this.buildProto(),t)},e.prototype.toProto=function(){return this.field(kr.emptyPath())},e.prototype.set=function(t,n){this.setOverlay(t,n)},e.prototype.setAll=function(t){var n=this;t.forEach(function(r,i){r?n.set(i,r):n.delete(i)})},e.prototype.delete=function(t){this.setOverlay(t,null)},e.prototype.isEqual=function(t){return Ii(this.buildProto(),t.buildProto())},e.prototype.setOverlay=function(t,n){for(var r=this.overlayMap,i=0;i<t.length-1;++i){var s=t.get(i),a=r.get(s);a instanceof Map?r=a:a&&ns(a)===10?(a=new Map(Object.entries(a.mapValue.fields||{})),r.set(s,a),r=a):(a=new Map,r.set(s,a),r=a)}r.set(t.lastSegment(),n)},e.prototype.applyOverlay=function(t,n){var r=this,i=!1,s=e.extractNestedValue(this.partialValue,t),a=tb(s)?Object.assign({},s.mapValue.fields):{};return n.forEach(function(l,c){if(l instanceof Map){var h=r.applyOverlay(t.child(c),l);h!=null&&(a[c]=h,i=!0)}else l!==null?(a[c]=l,i=!0):a.hasOwnProperty(c)&&(delete a[c],i=!0)}),i?{mapValue:{fields:a}}:null},e.prototype.buildProto=function(){var t=this.applyOverlay(kr.emptyPath(),this.overlayMap);return t!=null&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},e.extractNestedValue=function(t,n){if(n.isEmpty())return t;for(var r=t,i=0;i<n.length-1;++i)if(!r.mapValue.fields||!tb(r=r.mapValue.fields[n.get(i)]))return null;return(r=(r.mapValue.fields||{})[n.lastSegment()])||null},e.prototype.clone=function(){return new e(this.buildProto())},e}();function QM(e){var t=[];return Lh(e.fields||{},function(n,r){var i=new kr([n]);if(tb(r)){var s=QM(r.mapValue).fields;if(s.length===0)t.push(i);else for(var a=0,l=s;a<l.length;a++){var c=l[a];t.push(i.child(c))}}else t.push(i)}),new al(t)}var Gt=function(){function e(t,n,r,i,s){this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,ve.min(),Yn.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Yn.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Yn.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),z8=function(e,t,n,r,i,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(e,t,n,r,i,s,a){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),new z8(e,t,n,r,i,s,a)}function Mh(e){var t=K(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+OT(i.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),Da(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Qv(t.startAt)),t.endAt&&(n+="|ub:",n+=Qv(t.endAt)),t.h=n}return t.h}function sm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!J8(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],s=t.filters[r],i.op!==s.op||!i.field.isEqual(s.field)||!Ii(i.value,s.value))return!1;var i,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!rP(e.startAt,t.startAt)&&rP(e.endAt,t.endAt)}function Gv(e){return ee.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var er=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=i,s}return H(t,e),t.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new W8(n,r,i):r==="array-contains"?new G8(n,i):r==="in"?new Q8(n,i):r==="not-in"?new Y8(n,i):r==="array-contains-any"?new X8(n,i):new t(n,r,i)},t.l=function(n,r,i){return r==="in"?new K8(n,i):new H8(n,i)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(ll(r,this.value)):r!==null&&ns(this.value)===ns(r)&&this.m(ll(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return J()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),W8=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,i)||this).key=ee.fromName(i.referenceValue),s}return H(t,e),t.prototype.matches=function(n){var r=ee.comparator(n.key,this.key);return this.m(r)},t}(er),K8=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=YM("in",r),i}return H(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(er),H8=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=YM("not-in",r),i}return H(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(er);function YM(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return ee.fromName(r.referenceValue)})}var G8=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return H(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return xT(r)&&eh(r.arrayValue,this.value)},t}(er),Q8=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return H(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&eh(this.value.arrayValue,r)},t}(er),Y8=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return H(t,e),t.prototype.matches=function(n){if(eh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!eh(this.value.arrayValue,r)},t}(er),X8=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return H(t,e),t.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!xT(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(s){return eh(r.value.arrayValue,s)})},t}(er),th=function(e,t){this.position=e,this.before=t};function Qv(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return OT(t)}).join(",")}var zu=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function J8(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function nP(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var s=t[i],a=e.position[i];if(r=s.field.isKeyField()?ee.comparator(ee.fromName(a.referenceValue),n.key):ll(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function rP(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ii(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var to=function(e,t,n,r,i,s,a,l){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function XM(e,t,n,r,i,s,a,l){return new to(e,t,n,r,i,s,a,l)}function Bl(e){return new to(e)}function Bp(e){return!Da(e.limit)&&e.limitType==="F"}function Yv(e){return!Da(e.limit)&&e.limitType==="L"}function DT(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function LT(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function MT(e){return e.collectionGroup!==null}function cl(e){var t=K(e);if(t.p===null){t.p=[];var n=LT(t),r=DT(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new zu(n)),t.p.push(new zu(kr.keyField(),"asc"));else{for(var i=!1,s=0,a=t.explicitOrderBy;s<a.length;s++){var l=a[s];t.p.push(l),l.field.isKeyField()&&(i=!0)}if(!i){var c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new zu(kr.keyField(),c))}}}return t.p}function Nr(e){var t=K(e);if(!t.T)if(t.limitType==="F")t.T=tP(t.path,t.collectionGroup,cl(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=cl(t);r<i.length;r++){var s=i[r],a=s.dir==="desc"?"asc":"desc";n.push(new zu(s.field,a))}var l=t.endAt?new th(t.endAt.position,!t.endAt.before):null,c=t.startAt?new th(t.startAt.position,!t.startAt.before):null;t.T=tP(t.path,t.collectionGroup,n,t.filters,t.limit,l,c)}return t.T}function JM(e,t,n){return new to(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Fh(e,t){return sm(Nr(e),Nr(t))&&e.limitType===t.limitType}function ZM(e){return Mh(Nr(e))+"|lt:"+e.limitType}function nb(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+OT(i.value);var i}).join(", ")+"]"),Da(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Qv(t.startAt)),t.endAt&&(n+=", endAt: "+Qv(t.endAt)),"Target("+n+")"}(Nr(e))+"; limitType="+e.limitType+")"}function Uh(e,t){return t.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ee.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(var i=0,s=n.explicitOrderBy;i<s.length;i++){var a=s[i];if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var i=0,s=n.filters;i<s.length;i++)if(!s[i].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!nP(n.startAt,cl(n),r))&&(!n.endAt||!nP(n.endAt,cl(n),r))}(e,t)}function eF(e){return function(t,n){for(var r=!1,i=0,s=cl(e);i<s.length;i++){var a=s[i],l=Z8(a,t,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function Z8(e,t,n){var r=e.field.isKeyField()?ee.comparator(t.key,n.key):function(i,s,a){var l=s.data.field(i),c=a.data.field(i);return l!==null&&c!==null?ll(l,c):J()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return J()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kv(t)?"-0":t}}function nF(e){return{integerValue:""+e}}function rF(e,t){return GM(t)?nF(t):tF(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var am=function(){this._=void 0};function eQ(e,t,n){return e instanceof fl?function(r,i){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof ba?oF(e,t):e instanceof Ia?sF(e,t):function(r,i){var s=iF(r,i),a=iP(s)+iP(r.A);return eb(s)&&eb(r.A)?nF(a):tF(r.R,a)}(e,t)}function tQ(e,t,n){return e instanceof ba?oF(e,t):e instanceof Ia?sF(e,t):n}function iF(e,t){return e instanceof hl?eb(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var fl=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return H(t,e),t}(am),ba=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return H(t,e),t}(am);function oF(e,t){for(var n=aF(t),r=function(a){n.some(function(l){return Ii(l,a)})||n.push(a)},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Ia=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return H(t,e),t}(am);function sF(e,t){for(var n=aF(t),r=function(a){n=n.filter(function(l){return!Ii(l,a)})},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var hl=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).R=n,i.A=r,i}return H(t,e),t}(am);function iP(e){return dt(e.integerValue||e.doubleValue)}function aF(e){return xT(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jh=function(e,t){this.field=e,this.transform=t},nQ=function(e,t){this.version=e,this.transformResults=t},tn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function $p(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var um=function(){};function rQ(e,t,n){e instanceof Vh?function(r,i,s){var a=r.value.clone(),l=aP(r.fieldTransforms,i,s.transformResults);a.setAll(l),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof fs?function(r,i,s){if($p(r.precondition,i)){var a=aP(r.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(uF(r)),l.setAll(a),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else i.convertToUnknownDocument(s.version)}(e,t,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function rb(e,t,n){e instanceof Vh?function(r,i,s){if($p(r.precondition,i)){var a=r.value.clone(),l=uP(r.fieldTransforms,s,i);a.setAll(l),i.convertToFoundDocument(sP(i),a).setHasLocalMutations()}}(e,t,n):e instanceof fs?function(r,i,s){if($p(r.precondition,i)){var a=uP(r.fieldTransforms,s,i),l=i.data;l.setAll(uF(r)),l.setAll(a),i.convertToFoundDocument(sP(i),l).setHasLocalMutations()}}(e,t,n):function(r,i){$p(r.precondition,i)&&i.convertToNoDocument(ve.min())}(e,t)}function iQ(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var s=i[r],a=t.data.field(s.field),l=iF(s.transform,a||null);l!=null&&(n==null&&(n=Yn.empty()),n.set(s.field,l))}return n||null}function oP(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&sl(n,r,function(i,s){return function(a,l){return a.field.isEqual(l.field)&&function(c,h){return c instanceof ba&&h instanceof ba||c instanceof Ia&&h instanceof Ia?sl(c.elements,h.elements,Ii):c instanceof hl&&h instanceof hl?Ii(c.A,h.A):c instanceof fl&&h instanceof fl}(a.transform,l.transform)}(i,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function sP(e){return e.isFoundDocument()?e.version:ve.min()}var Vh=function(e){function t(n,r,i,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=r,a.precondition=i,a.fieldTransforms=s,a.type=0,a}return H(t,e),t}(um),fs=function(e){function t(n,r,i,s,a){a===void 0&&(a=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=r,l.fieldMask=i,l.precondition=s,l.fieldTransforms=a,l.type=1,l}return H(t,e),t}(um);function uF(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function aP(e,t,n){var r=new Map;re(e.length===n.length);for(var i=0;i<n.length;i++){var s=e[i],a=s.transform,l=t.data.field(s.field);r.set(s.field,tQ(a,l,n[i]))}return r}function uP(e,t,n){for(var r=new Map,i=0,s=e;i<s.length;i++){var a=s[i],l=a.transform,c=n.data.field(a.field);r.set(a.field,eQ(l,c,t))}return r}var ht,Ie,Bh=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return H(t,e),t}(um),FT=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return H(t,e),t}(um),oQ=function(e){this.count=e};function lF(e){switch(e){case x.OK:return J();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0;default:return J()}}function cF(e){if(e===void 0)return vt("GRPC error has no .code"),x.UNKNOWN;switch(e){case ht.OK:return x.OK;case ht.CANCELLED:return x.CANCELLED;case ht.UNKNOWN:return x.UNKNOWN;case ht.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case ht.INTERNAL:return x.INTERNAL;case ht.UNAVAILABLE:return x.UNAVAILABLE;case ht.UNAUTHENTICATED:return x.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case ht.NOT_FOUND:return x.NOT_FOUND;case ht.ALREADY_EXISTS:return x.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return x.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case ht.ABORTED:return x.ABORTED;case ht.OUT_OF_RANGE:return x.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return x.UNIMPLEMENTED;case ht.DATA_LOSS:return x.DATA_LOSS;default:return J()}}(Ie=ht||(ht={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un=function(){function e(t,n){this.comparator=t,this.root=n||So.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,So.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,So.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new _p(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new _p(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new _p(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new _p(this.root,t,this.comparator,!0)},e}(),_p=function(){function e(t,n,r,i){this.isReverse=i,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),So=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return(i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();var t=this.left.check();if(t!==this.right.check())throw J();return t+(this.isRed()?0:1)},e}();So.EMPTY=null,So.RED=!0,So.BLACK=!1,So.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw J()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new So(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St=function(){function e(t){this.comparator=t,this.data=new un(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new lP(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new lP(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),lP=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),sQ=new un(ee.comparator);function br(){return sQ}var aQ=new un(ee.comparator);function ib(){return aQ}var uQ=new un(ee.comparator);function fF(){return uQ}var lQ=new St(ee.comparator);function Oe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=lQ,r=0,i=e;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var cQ=new St(we);function lm(){return cQ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UT=function(){function e(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,jT.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ve.min(),r,lm(),br(),Oe())},e}(),jT=function(){function e(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(En.EMPTY_BYTE_STRING,n,Oe(),Oe(),Oe())},e}(),qp=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},hF=function(e,t){this.targetId=e,this.V=t},dF=function(e,t,n,r){n===void 0&&(n=En.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},cP=function(){function e(){this.S=0,this.D=hP(),this.C=En.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},e.prototype.M=function(){var t=Oe(),n=Oe(),r=Oe();return this.D.forEach(function(i,s){switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:J()}}),new jT(this.C,this.N,t,n,r)},e.prototype.L=function(){this.F=!1,this.D=hP()},e.prototype.B=function(t,n){this.F=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),fQ=function(){function e(t){this.W=t,this.G=new Map,this.H=br(),this.J=fP(),this.Y=new St(we)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var i=r[n];t.P&&t.P.isFoundDocument()?this.Z(i,t.P):this.tt(i,t.key,t.P)}for(var s=0,a=t.removedTargetIds;s<a.length;s++)i=a[s],this.tt(i,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var i=n.nt(r);switch(t.state){case 0:n.st(r)&&i.$(t.resumeToken);break;case 1:i.K(),i.k||i.L(),i.$(t.resumeToken);break;case 2:i.K(),i.k||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.$(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.$(t.resumeToken));break;default:J()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(i,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,i=this.ot(n);if(i){var s=i.target;if(Gv(s))if(r===0){var a=new ee(s.path);this.tt(n,a,Gt.newNoDocument(a,ve.min()))}else re(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(a,l){var c=n.ot(l);if(c){if(a.current&&Gv(c.target)){var h=new ee(c.target.path);n.H.get(h)!==null||n.at(l,h)||n.tt(l,h,Gt.newNoDocument(h,t))}a.O&&(r.set(l,a.M()),a.L())}});var i=Oe();this.J.forEach(function(a,l){var c=!0;l.forEachWhile(function(h){var p=n.ot(h);return!p||p.purpose===2||(c=!1,!1)}),c&&(i=i.add(a))});var s=new UT(t,r,this.Y,this.H,i);return this.H=br(),this.J=fP(),this.Y=new St(we),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var i=this.nt(t);this.at(t,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new cP,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new St(we),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||q("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.k?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new cP),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function fP(){return new un(ee.comparator)}function hP(){return new un(ee.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hQ={asc:"ASCENDING",desc:"DESCENDING"},dQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pQ=function(e,t){this.databaseId=e,this.I=t};function nh(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function pF(e,t){return e.I?t.toBase64():t.toUint8Array()}function vQ(e,t){return nh(e,t.toTimestamp())}function Dt(e){return re(!!e),ve.fromTimestamp(function(t){var n=ts(t);return new Vn(n.seconds,n.nanos)}(e))}function VT(e,t){return function(n){return new Ne(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function vF(e){var t=Ne.fromString(e);return re(IF(t)),t}function rh(e,t){return VT(e.databaseId,t.path)}function mi(e,t){var n=vF(t);if(n.get(1)!==e.databaseId.projectId)throw new U(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new U(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ee(mF(n))}function ob(e,t){return VT(e.databaseId,t)}function gF(e){var t=vF(e);return t.length===4?Ne.emptyPath():mF(t)}function ih(e){return new Ne(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function mF(e){return re(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function dP(e,t,n){return{name:rh(e,t),fields:n.toProto().mapValue.fields}}function yF(e,t,n){var r=mi(e,t.name),i=Dt(t.updateTime),s=new Yn({mapValue:{fields:t.fields}}),a=Gt.newFoundDocument(r,i,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Xv(e,t){var n;if(t instanceof Vh)n={update:dP(e,t.key,t.value)};else if(t instanceof Bh)n={delete:rh(e,t.key)};else if(t instanceof fs)n={update:dP(e,t.key,t.data),updateMask:wQ(t.fieldMask)};else{if(!(t instanceof FT))return J();n={verify:rh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(i,s){var a=s.transform;if(a instanceof fl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ba)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ia)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof hl)return{fieldPath:s.field.canonicalString(),increment:a.A};throw J()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:vQ(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:J()}(e,t.precondition)),n}function pP(e,t){var n=t.currentDocument?function(h){return h.updateTime!==void 0?tn.updateTime(Dt(h.updateTime)):h.exists!==void 0?tn.exists(h.exists):tn.none()}(t.currentDocument):tn.none(),r=t.updateTransforms?t.updateTransforms.map(function(h){return function(p,v){var m=null;if("setToServerValue"in v)re(v.setToServerValue==="REQUEST_TIME"),m=new fl;else if("appendMissingElements"in v){var y=v.appendMissingElements.values||[];m=new ba(y)}else if("removeAllFromArray"in v){var w=v.removeAllFromArray.values||[];m=new Ia(w)}else"increment"in v?m=new hl(p,v.increment):J();var b=kr.fromServerFormat(v.fieldPath);return new jh(b,m)}(e,h)}):[];if(t.update){t.update.name;var i=mi(e,t.update.name),s=new Yn({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(h){var p=h.fieldPaths||[];return new al(p.map(function(v){return kr.fromServerFormat(v)}))}(t.updateMask);return new fs(i,s,a,n,r)}return new Vh(i,s,n,r)}if(t.delete){var l=mi(e,t.delete);return new Bh(l,n)}if(t.verify){var c=mi(e,t.verify);return new FT(c,n)}return J()}function _F(e,t){return{documents:[ob(e,t.path)]}}function wF(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=ob(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ob(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(l){if(l.length!==0){var c=l.map(function(h){return function(p){if(p.op==="=="){if(eP(p.value))return{unaryFilter:{field:gu(p.field),op:"IS_NAN"}};if(ZR(p.value))return{unaryFilter:{field:gu(p.field),op:"IS_NULL"}}}else if(p.op==="!="){if(eP(p.value))return{unaryFilter:{field:gu(p.field),op:"IS_NOT_NAN"}};if(ZR(p.value))return{unaryFilter:{field:gu(p.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gu(p.field),op:mQ(p.op),value:p.value}}}(h)});return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}}(t.filters);i&&(n.structuredQuery.where=i);var s=function(l){if(l.length!==0)return l.map(function(c){return function(h){return{field:gu(h.field),direction:gQ(h.dir)}}(c)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(l,c){return l.I||Da(c)?c:{value:c}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=vP(t.startAt)),t.endAt&&(n.structuredQuery.endAt=vP(t.endAt)),n}function EF(e){var t=gF(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){re(r===1);var s=n.from[0];s.allDescendants?i=s.collectionId:t=t.child(s.collectionId)}var a=[];n.where&&(a=bF(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(v){return function(m){return new zu(Lu(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(v)}));var c=null;n.limit&&(c=function(v){var m;return Da(m=typeof v=="object"?v.value:v)?null:m}(n.limit));var h=null;n.startAt&&(h=gP(n.startAt));var p=null;return n.endAt&&(p=gP(n.endAt)),XM(t,i,l,a,c,"F",h,p)}function bF(e){return e?e.unaryFilter!==void 0?[_Q(e)]:e.fieldFilter!==void 0?[yQ(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return bF(t)}).reduce(function(t,n){return t.concat(n)}):J():[]}function vP(e){return{before:e.before,values:e.position}}function gP(e){var t=!!e.before,n=e.values||[];return new th(n,t)}function gQ(e){return hQ[e]}function mQ(e){return dQ[e]}function gu(e){return{fieldPath:e.canonicalString()}}function Lu(e){return kr.fromServerFormat(e.fieldPath)}function yQ(e){return er.create(Lu(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return J()}}(e.fieldFilter.op),e.fieldFilter.value)}function _Q(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Lu(e.unaryFilter.field);return er.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Lu(e.unaryFilter.field);return er.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Lu(e.unaryFilter.field);return er.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Lu(e.unaryFilter.field);return er.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return J()}}function wQ(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function IF(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=mP(t)),t=EQ(e.get(n),t);return mP(t)}function EQ(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var s=e.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function mP(e){return e+""}function Bi(e){var t=e.length;if(re(t>=2),t===2)return re(e.charAt(0)===""&&e.charAt(1)===""),Ne.emptyPath();for(var n=t-2,r=[],i="",s=0;s<t;){var a=e.indexOf("",s);switch((a<0||a>n)&&J(),e.charAt(a+1)){case"":var l=e.substring(s,a),c=void 0;i.length===0?c=l:(c=i+=l,i=""),r.push(c);break;case"":i+=e.substring(s,a),i+="\0";break;case"":i+=e.substring(s,a+1);break;default:J()}s=a+2}return new Ne(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bQ=function(e,t){this.seconds=e,this.nanoseconds=t},Gn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Gn.store="owner",Gn.key="owner";var Wo=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Wo.store="mutationQueues",Wo.keyPath="userId";var $e=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};$e.store="mutations",$e.keyPath="batchId",$e.userMutationsIndex="userMutationsIndex",$e.userMutationsKeyPath=["userId","batchId"];var en=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Xr(n)]},e.key=function(t,n,r){return[t,Xr(n),r]},e}();en.store="documentMutations",en.PLACEHOLDER=new en;var IQ=function(e,t){this.path=e,this.readTime=t},TQ=function(e,t){this.path=e,this.version=t},it=function(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};it.store="remoteDocuments",it.readTimeIndex="readTimeIndex",it.readTimeIndexPath="readTime",it.collectionReadTimeIndex="collectionReadTimeIndex",it.collectionReadTimeIndexPath=["parentPath","readTime"];var di=function(e){this.byteSize=e};di.store="remoteDocumentGlobal",di.key="remoteDocumentGlobalKey";var Ln=function(e,t,n,r,i,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=a};Ln.store="targets",Ln.keyPath="targetId",Ln.queryTargetsIndexName="queryTargetsIndex",Ln.queryTargetsKeyPath=["canonicalId","targetId"];var qt=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};qt.store="targetDocuments",qt.keyPath=["targetId","path"],qt.documentTargetsIndex="documentTargetsIndex",qt.documentTargetsKeyPath=["path","targetId"];var Qn=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Qn.key="targetGlobalKey",Qn.store="targetGlobal";var sa=function(e,t){this.collectionId=e,this.parent=t};sa.store="collectionParents",sa.keyPath=["collectionId","parent"];var zi=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};zi.store="clientMetadata",zi.keyPath="clientId";var dl=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};dl.store="bundles",dl.keyPath="bundleId";var pl=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};pl.store="namedQueries",pl.keyPath="name";var SQ=me(me([],me(me([],me(me([],me(me([],[Wo.store,$e.store,en.store,it.store,Ln.store,Gn.store,Qn.store,qt.store]),[zi.store])),[di.store])),[sa.store])),[dl.store,pl.store]),TF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",SF=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),bn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},j=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(i,s){r.nextCallback=function(a){r.wrapSuccess(t,a).next(i,s)},r.catchCallback=function(a){r.wrapFailure(n,a).next(i,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var i=0,s=0,a=!1;t.forEach(function(l){++i,l.next(function(){++s,a&&s===i&&n()},function(c){return r(c)})}),a=!0,s===i&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(a){n=n.next(function(l){return l?e.resolve(l):a()})},i=0,s=t;i<s.length;i++)r(s[i]);return n},e.forEach=function(t,n){var r=this,i=[];return t.forEach(function(s,a){i.push(n.call(r,s,a))}),this.waitFor(i)},e}(),CF=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new bn,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new mf(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var s=BT(i.target.error);r.ft.reject(new mf(t,s))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(s){throw new mf(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(q("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new kQ(n)},e}(),vl=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(ga())===12.2&&vt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return q("SimpleDb","Removing database:",t),Ks(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=ga(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return R(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(q("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var l=indexedDB.open(r.name,r.version);l.onsuccess=function(c){var h=c.target.result;s(h)},l.onblocked=function(){a(new mf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(c){var h=c.target.error;h.name==="VersionError"?a(new U(x.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new mf(t,h))},l.onupgradeneeded=function(c){q("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',c.oldVersion);var h=c.target.result;r.wt.Rt(h,l.transaction,c.oldVersion,r.version).next(function(){q("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,i){return R(this,void 0,void 0,function(){var s,a,l,c,h;return N(this,function(p){switch(p.label){case 0:s=n==="readonly",a=0,l=function(){var v,m,y,w,b;return N(this,function(S){switch(S.label){case 0:++a,S.label=1;case 1:return S.trys.push([1,4,,5]),[4,c.At(t)];case 2:return c.db=S.sent(),v=CF.open(c.db,t,s?"readonly":"readwrite",r),m=i(v).catch(function(I){return v.abort(I),j.reject(I)}).toPromise(),y={},m.catch(function(){}),[4,v.dt];case 3:return[2,(y.value=(S.sent(),m),y)];case 4:return w=S.sent(),b=w.name!=="FirebaseError"&&a<3,q("SimpleDb","Transaction failed with error:",w.message,"Retrying:",b),c.close(),b?[3,5]:[2,{value:Promise.reject(w)}];case 5:return[2]}})},c=this,p.label=1;case 1:return[5,l()];case 2:if(typeof(h=p.sent())=="object")return[2,h.value];p.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),CQ=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return Ks(this.Pt.delete())},e}(),mf=function(e){function t(n,r){var i=this;return(i=e.call(this,x.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return H(t,e),t}(U);function La(e){return e.name==="IndexedDbTransactionError"}var kQ=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(q("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(q("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Ks(r)},e.prototype.add=function(t){return q("SimpleDb","ADD",this.store.name,t,t),Ks(this.store.add(t))},e.prototype.get=function(t){var n=this;return Ks(this.store.get(t)).next(function(r){return r===void 0&&(r=null),q("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return q("SimpleDb","DELETE",this.store.name,t),Ks(this.store.delete(t))},e.prototype.count=function(){return q("SimpleDb","COUNT",this.store.name),Ks(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),i=[];return this.xt(r,function(s,a){i.push(a)}).next(function(){return i})},e.prototype.Ft=function(t,n){q("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.kt=!1;var i=this.cursor(r);return this.xt(i,function(s,a,l){return l.delete()})},e.prototype.Ot=function(t,n){var r;n?r=t:(r={},n=t);var i=this.cursor(r);return this.xt(i,n)},e.prototype.$t=function(t){var n=this.cursor({});return new j(function(r,i){n.onerror=function(s){var a=BT(s.target.error);i(a)},n.onsuccess=function(s){var a=s.target.result;a?t(a.primaryKey,a.value).next(function(l){l?a.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new j(function(i,s){t.onerror=function(a){s(a.target.error)},t.onsuccess=function(a){var l=a.target.result;if(l){var c=new CQ(l),h=n(l.primaryKey,l.value,c);if(h instanceof j){var p=h.catch(function(v){return c.done(),j.reject(v)});r.push(p)}c.isDone?i():c.Dt===null?l.continue():l.continue(c.Dt)}else i()}}).next(function(){return j.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.kt?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function Ks(e){return new j(function(t,n){e.onsuccess=function(r){var i=r.target.result;t(i)},e.onerror=function(r){var i=BT(r.target.error);n(i)}})}var yP=!1;function BT(e){var t=vl._t(ga());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new U("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return yP||(yP=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _P=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return H(t,e),t}(SF);function qn(e,t){var n=K(e);return vl.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $T=function(){function e(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t.key)&&rQ(s,t,r[i])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t.key)&&rb(a,t,this.localWriteTime);for(var i=0,s=this.mutations;i<s.length;i++){var a;(a=s[i]).key.isEqual(t.key)&&rb(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var i=t.get(r.key),s=i;n.applyToLocalView(s),i.isValidDocument()||s.convertToNoDocument(ve.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},Oe())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&sl(this.mutations,t.mutations,function(n,r){return oP(n,r)})&&sl(this.baseMutations,t.baseMutations,function(n,r){return oP(n,r)})},e}(),NQ=function(){function e(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return e.from=function(t,n,r){re(t.mutations.length===r.length);for(var i=fF(),s=t.mutations,a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new e(t,n,r,i)},e}(),cm=function(){function e(t,n,r,i,s,a,l){s===void 0&&(s=ve.min()),a===void 0&&(a=ve.min()),l===void 0&&(l=En.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),kF=function(e){this.Lt=e};function sb(e,t){if(t.document)return yF(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=ee.fromSegments(t.noDocument.path),r=ml(t.noDocument.readTime),i=Gt.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var s=ee.fromSegments(t.unknownDocument.path);return r=ml(t.unknownDocument.version),Gt.newUnknownDocument(s,r)}return J()}function wP(e,t,n){var r=qT(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(v,m){return{name:rh(v,m.key),fields:m.data.toProto().mapValue.fields,updateTime:nh(v,m.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new it(null,null,s,a,r,i)}if(t.isNoDocument()){var l=t.key.path.toArray(),c=gl(t.version);return a=t.hasCommittedMutations,new it(null,new IQ(l,c),null,a,r,i)}if(t.isUnknownDocument()){var h=t.key.path.toArray(),p=gl(t.version);return new it(new TQ(h,p),null,null,!0,r,i)}return J()}function qT(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function NF(e){var t=new Vn(e[0],e[1]);return ve.fromTimestamp(t)}function gl(e){var t=e.toTimestamp();return new bQ(t.seconds,t.nanoseconds)}function ml(e){var t=new Vn(e.seconds,e.nanoseconds);return ve.fromTimestamp(t)}function wu(e,t){for(var n=(t.baseMutations||[]).map(function(c){return pP(e.Lt,c)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];i.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map(function(c){return pP(e.Lt,c)}),l=Vn.fromMillis(t.localWriteTimeMs);return new $T(t.batchId,l,n,a)}function Zc(e){var t,n,r=ml(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?ml(e.lastLimboFreeSnapshotVersion):ve.min();return e.query.documents!==void 0?(re((n=e.query).documents.length===1),t=Nr(Bl(gF(n.documents[0])))):t=function(s){return Nr(EF(s))}(e.query),new cm(t,e.targetId,0,e.lastListenSequenceNumber,r,i,En.fromBase64String(e.resumeToken))}function AF(e,t){var n,r=gl(t.snapshotVersion),i=gl(t.lastLimboFreeSnapshotVersion);n=Gv(t.target)?_F(e.Lt,t.target):wF(e.Lt,t.target);var s=t.resumeToken.toBase64();return new Ln(t.targetId,Mh(t.target),r,s,t.sequenceNumber,i,n)}function zT(e){var t=EF({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?JM(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AQ=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return EP(t).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:ml(i.createTime),version:i.version};var i})},e.prototype.saveBundleMetadata=function(t,n){return EP(t).put({bundleId:(r=n).id,createTime:gl(Dt(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return bP(t).get(n).next(function(r){if(r)return{name:(i=r).name,query:zT(i.bundledQuery),readTime:ml(i.readTime)};var i})},e.prototype.saveNamedQuery=function(t,n){return bP(t).put(function(r){return{name:r.name,readTime:gl(Dt(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function EP(e){return qn(e,dl.store)}function bP(e){return qn(e,pl.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RQ=function(){function e(){this.Bt=new WT}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),j.resolve()},e.prototype.getCollectionParents=function(t,n){return j.resolve(this.Bt.getEntries(n))},e}(),WT=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new St(Ne.comparator),s=!i.has(r);return this.index[n]=i.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new St(Ne.comparator)).toArray()},e}(),PQ=function(){function e(){this.qt=new WT}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var a={collectionId:i,parent:Xr(s)};return IP(t).put(a)}return j.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],i=IDBKeyRange.bound([n,""],[zM(n),""],!1,!0);return IP(t).Nt(i).next(function(s){for(var a=0,l=s;a<l.length;a++){var c=l[a];if(c.collectionId!==n)break;r.push(Bi(c.parent))}return r})},e}();function IP(e){return qn(e,sa.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fi=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RF(e,t,n){var r=e.store($e.store),i=e.store(en.store),s=[],a=IDBKeyRange.only(n.batchId),l=0,c=r.Ot({range:a},function(w,b,S){return l++,S.delete()});s.push(c.next(function(){re(l===1)}));for(var h=[],p=0,v=n.mutations;p<v.length;p++){var m=v[p],y=en.key(t,m.key.path,n.batchId);s.push(i.delete(y)),h.push(m.key)}return j.waitFor(s).next(function(){return h})}function Jv(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw J();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fi.DEFAULT_COLLECTION_PERCENTILE=10,fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fi.DEFAULT=new fi(41943040,fi.DEFAULT_COLLECTION_PERCENTILE,fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fi.DISABLED=new fi(-1,0,0);var OQ=function(){function e(t,n,r,i){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Qt={}}return e.Kt=function(t,n,r,i){return re(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return go(t).Ot({index:$e.userMutationsIndex,range:r},function(i,s,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,i){var s=this,a=Eu(t),l=go(t);return l.add({}).next(function(c){re(typeof c=="number");for(var h=new $T(c,n,r,i),p=function(I,T,C){var P=C.baseMutations.map(function(O){return Xv(I.Lt,O)}),D=C.mutations.map(function(O){return Xv(I.Lt,O)});return new $e(T,C.batchId,C.localWriteTime.toMillis(),P,D)}(s.R,s.userId,h),v=[],m=new St(function(I,T){return we(I.canonicalString(),T.canonicalString())}),y=0,w=i;y<w.length;y++){var b=w[y],S=en.key(s.userId,b.key.path,c);m=m.add(b.key.path.popLast()),v.push(l.put(p)),v.push(a.put(S,en.PLACEHOLDER))}return m.forEach(function(I){v.push(s.Ut.addToCollectionParentIndex(t,I))}),t.addOnCommittedListener(function(){s.Qt[c]=h.keys()}),j.waitFor(v).next(function(){return h})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return go(t).get(n).next(function(i){return i?(re(i.userId===r.userId),wu(r.R,i)):null})},e.prototype.jt=function(t,n){var r=this;return this.Qt[n]?j.resolve(this.Qt[n]):this.lookupMutationBatch(t,n).next(function(i){if(i){var s=i.keys();return r.Qt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,i=n+1,s=IDBKeyRange.lowerBound([this.userId,i]),a=null;return go(t).Ot({index:$e.userMutationsIndex,range:s},function(l,c,h){c.userId===r.userId&&(re(c.batchId>=i),a=wu(r.R,c)),h.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return go(t).Ot({index:$e.userMutationsIndex,range:n,reverse:!0},function(i,s,a){r=s.batchId,a.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return go(t).Nt($e.userMutationsIndex,r).next(function(i){return i.map(function(s){return wu(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=en.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(i),a=[];return Eu(t).Ot({range:s},function(l,c,h){var p=l[0],v=l[1],m=l[2],y=Bi(v);if(p===r.userId&&n.path.isEqual(y))return go(t).get(m).next(function(w){if(!w)throw J();re(w.userId===r.userId),a.push(wu(r.R,w))});h.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new St(we),s=[];return n.forEach(function(a){var l=en.prefixForPath(r.userId,a.path),c=IDBKeyRange.lowerBound(l),h=Eu(t).Ot({range:c},function(p,v,m){var y=p[0],w=p[1],b=p[2],S=Bi(w);y===r.userId&&a.path.isEqual(S)?i=i.add(b):m.done()});s.push(h)}),j.waitFor(s).next(function(){return r.Wt(t,i)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,i=n.path,s=i.length+1,a=en.prefixForPath(this.userId,i),l=IDBKeyRange.lowerBound(a),c=new St(we);return Eu(t).Ot({range:l},function(h,p,v){var m=h[0],y=h[1],w=h[2],b=Bi(y);m===r.userId&&i.isPrefixOf(b)?b.length===s&&(c=c.add(w)):v.done()}).next(function(){return r.Wt(t,c)})},e.prototype.Wt=function(t,n){var r=this,i=[],s=[];return n.forEach(function(a){s.push(go(t).get(a).next(function(l){if(l===null)throw J();re(l.userId===r.userId),i.push(wu(r.R,l))}))}),j.waitFor(s).next(function(){return i})},e.prototype.removeMutationBatch=function(t,n){var r=this;return RF(t.Mt,this.userId,n).next(function(i){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),j.forEach(i,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Qt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return j.resolve();var i=IDBKeyRange.lowerBound(en.prefixForUser(n.userId)),s=[];return Eu(t).Ot({range:i},function(a,l,c){if(a[0]===n.userId){var h=Bi(a[1]);s.push(h)}else c.done()}).next(function(){re(s.length===0)})})},e.prototype.containsKey=function(t,n){return PF(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return OF(t).get(this.userId).next(function(r){return r||new Wo(n.userId,-1,"")})},e}();function PF(e,t,n){var r=en.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return Eu(e).Ot({range:s,kt:!0},function(l,c,h){var p=l[0],v=l[1];l[2],p===t&&v===i&&(a=!0),h.done()}).next(function(){return a})}function go(e){return qn(e,$e.store)}function Eu(e){return qn(e,en.store)}function OF(e){return qn(e,Wo.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zv=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),xQ=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var i=new Zv(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return ve.fromTimestamp(new Vn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var i=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),i.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(t,i)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return mu(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(i){return re(i.targetCount>0),i.targetCount-=1,r.Zt(t,i)})},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return mu(t).Ot(function(l,c){var h=Zc(c);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,a.push(i.removeTargetData(t,h)))}).next(function(){return j.waitFor(a)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return mu(t).Ot(function(r,i){var s=Zc(i);n(s)})},e.prototype.Xt=function(t){return SP(t).get(Qn.key).next(function(n){return re(n!==null),n})},e.prototype.Zt=function(t,n){return SP(t).put(Qn.key,n)},e.prototype.te=function(t,n){return mu(t).put(AF(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=Mh(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return mu(t).Ot({range:i,index:Ln.queryTargetsIndexName},function(a,l,c){var h=Zc(l);sm(n,h.target)&&(s=h,c.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var i=this,s=[],a=Co(t);return n.forEach(function(l){var c=Xr(l.path);s.push(a.put(new qt(r,c))),s.push(i.referenceDelegate.addReference(t,r,l))}),j.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var i=this,s=Co(t);return j.forEach(n,function(a){var l=Xr(a.path);return j.waitFor([s.delete([r,l]),i.referenceDelegate.removeReference(t,r,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=Co(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Co(t),s=Oe();return i.Ot({range:r,kt:!0},function(a,l,c){var h=Bi(a[1]),p=new ee(h);s=s.add(p)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=Xr(n.path),i=IDBKeyRange.bound([r],[zM(r)],!1,!0),s=0;return Co(t).Ot({index:qt.documentTargetsIndex,kt:!0,range:i},function(a,l,c){var h=a[0];a[1],h!==0&&(s++,c.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return mu(t).get(n).next(function(r){return r?Zc(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(e){return qn(e,Ln.store)}function SP(e){return qn(e,Qn.store)}function Co(e){return qn(e,qt.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(e){return R(this,void 0,void 0,function(){return N(this,function(t){if(e.code!==x.FAILED_PRECONDITION||e.message!==TF)throw e;return q("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(e,t){var n=e[0],r=e[1],i=t[0],s=t[1],a=we(n,i);return a===0?we(r,s):a}var DQ=function(){function e(t){this.ne=t,this.buffer=new St(CP),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();CP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),LQ=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;q("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return R(n,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return La(i=s.sent())?(q("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Ma(i)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),MQ=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return j.resolve(Zn.o);var i=new DQ(n);return this.ae.forEachTarget(t,function(s){return i.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return i.re(s)})}).next(function(){return i.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(TP)):this.getCacheSize(t).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),TP):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,i,s,a,l,c,h,p=this,v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(m){return m>p.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+p.params.maximumSequenceNumbersToCollect+" from "+m),i=p.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),p.nthSequenceNumber(t,i)}).next(function(m){return r=m,l=Date.now(),p.removeTargets(t,r,n)}).next(function(m){return s=m,c=Date.now(),p.removeOrphanedDocuments(t,r)}).next(function(m){return h=Date.now(),JE()<=ge.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-v)+`ms
	Determined least recently used `+i+" in "+(l-a)+`ms
	Removed `+s+" targets in "+(c-l)+`ms
	Removed `+m+" documents in "+(h-c)+`ms
Total Duration: `+(h-v)+"ms"),j.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})})},e}(),FQ=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,i){return new MQ(r,i)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(i){return r+i})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,i){return n(i)})},e.prototype.addReference=function(t,n,r){return wp(t,r)},e.prototype.removeReference=function(t,n,r){return wp(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return wp(t,n)},e.prototype._e=function(t,n){return function(r,i){var s=!1;return OF(r).$t(function(a){return PF(r,a,i).next(function(l){return l&&(s=!0),j.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.we(t,function(l,c){if(c<=n){var h=r._e(t,l).next(function(p){if(!p)return a++,i.getEntry(t,l).next(function(){return i.removeEntry(l),Co(t).delete([0,Xr(l.path)])})});s.push(h)}}).next(function(){return j.waitFor(s)}).next(function(){return i.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return wp(t,n)},e.prototype.we=function(t,n){var r,i=Co(t),s=Zn.o;return i.Ot({index:qt.documentTargetsIndex},function(a,l){var c=a[0],h=(a[1],l.path),p=l.sequenceNumber;c===0?(s!==Zn.o&&n(new ee(Bi(r)),s),s=p,r=h):s=Zn.o}).next(function(){s!==Zn.o&&n(new ee(Bi(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function wp(e,t){return Co(e).put(function(n,r){return new qt(0,Xr(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $l=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var i=0,s=r;i<s.length;i++){var a=s[i],l=a[0],c=a[1];if(this.equalsFn(l,t))return c}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),i=this.inner[r];if(i!==void 0){for(var s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(t){Lh(this.inner,function(n,r){for(var i=0,s=r;i<s.length;i++){var a=s[i],l=a[0],c=a[1];t(l,c)}})},e.prototype.isEmpty=function(){return WM(this.inner)},e}(),xF=function(){function e(){this.changes=new $l(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:ve.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:Gt.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?j.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),UQ=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return bo(t).put(Ep(n),r)},e.prototype.removeEntry=function(t,n){var r=bo(t),i=Ep(n);return r.delete(i)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.me(t,i)})},e.prototype.getEntry=function(t,n){var r=this;return bo(t).get(Ep(n)).next(function(i){return r.ye(n,i)})},e.prototype.ge=function(t,n){var r=this;return bo(t).get(Ep(n)).next(function(i){return{document:r.ye(n,i),size:Jv(i)}})},e.prototype.getEntries=function(t,n){var r=this,i=br();return this.pe(t,n,function(s,a){var l=r.ye(s,a);i=i.insert(s,l)}).next(function(){return i})},e.prototype.Ee=function(t,n){var r=this,i=br(),s=new un(ee.comparator);return this.pe(t,n,function(a,l){var c=r.ye(a,l);i=i.insert(a,c),s=s.insert(a,Jv(l))}).next(function(){return{documents:i,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return j.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),a=s.getNext();return bo(t).Ot({range:i},function(l,c,h){for(var p=ee.fromSegments(l);a&&ee.comparator(a,p)<0;)r(a,null),a=s.getNext();a&&a.isEqual(p)&&(r(a,c),a=s.hasNext()?s.getNext():null),a?h.Ct(a.path.toArray()):h.done()}).next(function(){for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var i=this,s=br(),a=n.path.length+1,l={};if(r.isEqual(ve.min())){var c=n.path.toArray();l.range=IDBKeyRange.lowerBound(c)}else{var h=n.path.toArray(),p=qT(r);l.range=IDBKeyRange.lowerBound([h,p],!0),l.index=it.collectionReadTimeIndex}return bo(t).Ot(l,function(v,m,y){if(v.length===a){var w=sb(i.R,m);n.path.isPrefixOf(w.key.path)?Uh(n,w)&&(s=s.insert(w.key,w)):y.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new jQ(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return kP(t).get(di.key).next(function(n){return re(!!n),n})},e.prototype.me=function(t,n){return kP(t).put(di.key,n)},e.prototype.ye=function(t,n){if(n){var r=sb(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(ve.min()))return r}return Gt.newInvalidDocument(t)},e}(),jQ=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new $l(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),i}return H(t,e),t.prototype.applyChanges=function(n){var r=this,i=[],s=0,a=new St(function(l,c){return we(l.canonicalString(),c.canonicalString())});return this.changes.forEach(function(l,c){var h=r.Ae.get(l);if(c.document.isValidDocument()){var p=wP(r.Ie.R,c.document,r.getReadTime(l));a=a.add(l.path.popLast());var v=Jv(p);s+=v-h,i.push(r.Ie.addEntry(n,l,p))}else if(s-=h,r.trackRemovals){var m=wP(r.Ie.R,Gt.newNoDocument(l,ve.min()),r.getReadTime(l));i.push(r.Ie.addEntry(n,l,m))}else i.push(r.Ie.removeEntry(n,l))}),a.forEach(function(l){i.push(r.Ie.Ut.addToCollectionParentIndex(n,l))}),i.push(this.Ie.updateMetadata(n,s)),j.waitFor(i)},t.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(s){return i.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(s){var a=s.documents;return s.Te.forEach(function(l,c){i.Ae.set(l,c)}),a})},t}(xF);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(e){return qn(e,di.store)}function bo(e){return qn(e,it.store)}function Ep(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VQ=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,i){var s=this;re(r<i&&r>=0&&i<=11);var a=new CF("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore(Gn.store)}(t),function(c){c.createObjectStore(Wo.store,{keyPath:Wo.keyPath}),c.createObjectStore($e.store,{keyPath:$e.keyPath,autoIncrement:!0}).createIndex($e.userMutationsIndex,$e.userMutationsKeyPath,{unique:!0}),c.createObjectStore(en.store)}(t),NP(t),function(c){c.createObjectStore(it.store)}(t));var l=j.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore(qt.store),c.deleteObjectStore(Ln.store),c.deleteObjectStore(Qn.store)}(t),NP(t)),l=l.next(function(){return function(c){var h=c.store(Qn.store),p=new Qn(0,0,ve.min().toTimestamp(),0);return h.put(Qn.key,p)}(a)})),r<4&&i>=4&&(r!==0&&(l=l.next(function(){return function(c,h){return h.store($e.store).Nt().next(function(p){c.deleteObjectStore($e.store),c.createObjectStore($e.store,{keyPath:$e.keyPath,autoIncrement:!0}).createIndex($e.userMutationsIndex,$e.userMutationsKeyPath,{unique:!0});var v=h.store($e.store),m=p.map(function(y){return v.put(y)});return j.waitFor(m)})}(t,a)})),l=l.next(function(){(function(c){c.createObjectStore(zi.store,{keyPath:zi.keyPath})})(t)})),r<5&&i>=5&&(l=l.next(function(){return s.Re(a)})),r<6&&i>=6&&(l=l.next(function(){return function(c){c.createObjectStore(di.store)}(t),s.be(a)})),r<7&&i>=7&&(l=l.next(function(){return s.ve(a)})),r<8&&i>=8&&(l=l.next(function(){return s.Pe(t,a)})),r<9&&i>=9&&(l=l.next(function(){(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(t),function(c){var h=c.objectStore(it.store);h.createIndex(it.readTimeIndex,it.readTimeIndexPath,{unique:!1}),h.createIndex(it.collectionReadTimeIndex,it.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(l=l.next(function(){return s.Ve(a)})),r<11&&i>=11&&(l=l.next(function(){(function(c){c.createObjectStore(dl.store,{keyPath:dl.keyPath})})(t),function(c){c.createObjectStore(pl.store,{keyPath:pl.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(it.store).Ot(function(r,i){n+=Jv(i)}).next(function(){var r=new di(n);return t.store(di.store).put(di.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(Wo.store),i=t.store($e.store);return r.Nt().next(function(s){return j.forEach(s,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.Nt($e.userMutationsIndex,l).next(function(c){return j.forEach(c,function(h){re(h.userId===a.userId);var p=wu(n.R,h);return RF(t,a.userId,p).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(qt.store),r=t.store(it.store);return t.store(Qn.store).get(Qn.key).next(function(i){var s=[];return r.Ot(function(a,l){var c=new Ne(a),h=function(p){return[0,Xr(p)]}(c);s.push(n.get(h).next(function(p){return p?j.resolve():function(v){return n.put(new qt(0,Xr(v),i.highestListenSequenceNumber))}(c)}))}).next(function(){return j.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(sa.store,{keyPath:sa.keyPath});var r=n.store(sa.store),i=new WT,s=function(a){if(i.add(a)){var l=a.lastSegment(),c=a.popLast();return r.put({collectionId:l,parent:Xr(c)})}};return n.store(it.store).Ot({kt:!0},function(a,l){var c=new Ne(a);return s(c.popLast())}).next(function(){return n.store(en.store).Ot({kt:!0},function(a,l){a[0];var c=a[1],h=(a[2],Bi(c));return s(h.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(Ln.store);return r.Ot(function(i,s){var a=Zc(s),l=AF(n.R,a);return r.put(l)})},e}();function NP(e){e.createObjectStore(qt.store,{keyPath:qt.keyPath}).createIndex(qt.documentTargetsIndex,qt.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Ln.store,{keyPath:Ln.keyPath}).createIndex(Ln.queryTargetsIndexName,Ln.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Qn.store)}var Z_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",BQ=function(){function e(t,n,r,i,s,a,l,c,h,p){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=a,this.document=l,this.De=h,this.Ce=p,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(v){return Promise.resolve()},!e.yt())throw new U(x.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new FQ(this,i),this.Le=n+"main",this.R=new kF(c),this.Be=new vl(this.Le,11,new VQ(this.R)),this.qe=new xQ(this.referenceDelegate,this.R),this.Ut=new PQ,this.Ue=function(v,m){return new UQ(v,m)}(this.R,this.Ut),this.Qe=new AQ,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,p===!1&&vt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new U(x.FAILED_PRECONDITION,Z_);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new Zn(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return R(n,void 0,void 0,function(){return N(this,function(i){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return R(n,void 0,void 0,function(){return N(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return R(n,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return bp(n).put(new zi(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(La(n))return q("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return q("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return Kc(t).get(Gn.key).next(function(r){return j.resolve(n.tn(r))})},e.prototype.en=function(t){return bp(t).delete(this.clientId)},e.prototype.nn=function(){return R(this,void 0,void 0,function(){var t,n,r,i,s=this;return N(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var c=qn(l,zi.store);return c.Nt().next(function(h){var p=s.rn(h,18e5),v=h.filter(function(m){return p.indexOf(m)===-1});return j.forEach(v,function(m){return c.delete(m.clientId)}).next(function(){return v})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Ke)for(n=0,r=t;n<r.length;n++)i=r[n],this.Ke.removeItem(this.on(i.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?j.resolve(!0):Kc(t).get(Gn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new U(x.FAILED_PRECONDITION,Z_);return!1}}return!(!n.networkEnabled||!n.inForeground)||bp(t).Nt().next(function(i){return n.rn(i,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,c=n.networkEnabled===s.networkEnabled;if(a||l&&c)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&q("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return R(this,void 0,void 0,function(){var t=this;return N(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Gn.store,zi.store],function(r){var i=new _P(r,Zn.o);return t.Xe(i).next(function(){return t.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return bp(n).Nt().next(function(r){return t.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return OQ.Kt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(t,n,r){var i=this;q("IndexedDbPersistence","Starting transaction:",t);var s,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,SQ,function(l){return s=new _P(l,i.Ne?i.Ne.next():Zn.o),n==="readwrite-primary"?i.Je(s).next(function(c){return!!c||i.Ye(s)}).next(function(c){if(!c)throw vt("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new U(x.FAILED_PRECONDITION,TF);return r(s)}).next(function(c){return i.Ze(s).next(function(){return c})}):i.dn(s).next(function(){return r(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return Kc(t).get(Gn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new U(x.FAILED_PRECONDITION,Z_)})},e.prototype.Ze=function(t){var n=new Gn(this.clientId,this.allowTabSynchronization,Date.now());return Kc(t).put(Gn.key,n)},e.yt=function(){return vl.yt()},e.prototype.Xe=function(t){var n=this,r=Kc(t);return r.get(Gn.key).next(function(i){return n.tn(i)?(q("IndexedDbPersistence","Releasing primary lease."),r.delete(Gn.key)):j.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(vt("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.Fe=function(){n.un(),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("unload",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Ke)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return q("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return vt("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},e.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){vt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function Kc(e){return qn(e,Gn.store)}function bp(e){return qn(e,zi.store)}function KT(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var $Q=function(e,t){this.progress=e,this.wn=t},DF=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(i){return r.yn(t,n,i)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(i){for(var s=0,a=r;s<a.length;s++)a[s].applyToLocalView(i);return i})},e.prototype.gn=function(t,n){t.forEach(function(r,i){for(var s=0,a=n;s<a.length;s++)a[s].applyToLocalView(i)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(i){return r.En(t,i).next(function(){return i})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(i){return r.gn(n,i)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(i){return ee.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(t,n.path):MT(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new ee(n)).next(function(r){var i=ib();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},e.prototype.In=function(t,n,r){var i=this,s=n.collectionGroup,a=ib();return this.Ut.getCollectionParents(t,s).next(function(l){return j.forEach(l,function(c){var h=function(p,v){return new to(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(s));return i.An(t,h,r).next(function(p){p.forEach(function(v,m){a=a.insert(v,m)})})}).next(function(){return a})})},e.prototype.An=function(t,n,r){var i,s,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(l){return i=l,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,a.Rn(t,s,i).next(function(c){i=c;for(var h=0,p=s;h<p.length;h++)for(var v=p[h],m=0,y=v.mutations;m<y.length;m++){var w=y[m],b=w.key,S=i.get(b);S==null&&(S=Gt.newInvalidDocument(b),i=i.insert(b,S)),rb(w,S,v.localWriteTime),S.isFoundDocument()||(i=i.remove(b))}})}).next(function(){return i.forEach(function(l,c){Uh(n,c)||(i=i.remove(l))}),i})},e.prototype.Rn=function(t,n,r){for(var i=Oe(),s=0,a=n;s<a.length;s++)for(var l=0,c=a[s].mutations;l<c.length;l++){var h=c[l];h instanceof fs&&r.get(h.key)===null&&(i=i.add(h.key))}var p=r;return this.Ue.getEntries(t,i).next(function(v){return v.forEach(function(m,y){y.isFoundDocument()&&(p=p.insert(m,y))}),p})},e}(),qQ=function(){function e(t,n,r,i){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=i}return e.Pn=function(t,n){for(var r=Oe(),i=Oe(),s=0,a=n.docChanges;s<a.length;s++){var l=a[s];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),LF=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,i){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(ve.min())?this.Dn(t,n):this.Sn.pn(t,i).next(function(a){var l=s.Cn(n,a);return(Bp(n)||Yv(n))&&s.Nn(n.limitType,l,i,r)?s.Dn(t,n):(JE()<=ge.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),nb(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(c){return l.forEach(function(h){c=c.insert(h.key,h)}),c}))})},e.prototype.Cn=function(t,n){var r=new St(eF(t));return n.forEach(function(i,s){Uh(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,i){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)},e.prototype.Dn=function(t,n){return JE()<=ge.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",nb(n)),this.Sn.getDocumentsMatchingQuery(t,n,ve.min())},e}(),zQ=function(){function e(t,n,r,i){this.persistence=t,this.xn=n,this.R=i,this.Fn=new un(we),this.kn=new $l(function(s){return Mh(s)},sm),this.On=ve.min(),this._n=t.getMutationQueue(r),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new DF(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.Fn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MF(e,t,n,r){return new zQ(e,t,n,r)}function FF(e,t){return R(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=K(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var c;return n._n.getAllMutationBatches(l).next(function(h){return c=h,r=n.persistence.getMutationQueue(t),i=new DF(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(l)}).next(function(h){for(var p=[],v=[],m=Oe(),y=0,w=c;y<w.length;y++){var b=w[y];p.push(b.batchId);for(var S=0,I=b.mutations;S<I.length;S++){var T=I[S];m=m.add(T.key)}}for(var C=0,P=h;C<P.length;C++){var D=P[C];v.push(D.batchId);for(var O=0,B=D.mutations;O<B.length;O++){var M=B[O];m=m.add(M.key)}}return i.pn(l,m).next(function(ae){return{Ln:ae,removedBatchIds:p,addedBatchIds:v}})})})];case 1:return s=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function WQ(e,t){var n=K(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=t.batch.keys(),s=n.$n.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){var p=c.batch,v=p.keys(),m=j.resolve();return v.forEach(function(y){m=m.next(function(){return h.getEntry(l,y)}).next(function(w){var b=c.docVersions.get(y);re(b!==null),w.version.compareTo(b)<0&&(p.applyToRemoteDocument(w,c),w.isValidDocument()&&h.addEntry(w,c.commitVersion))})}),m.next(function(){return a._n.removeMutationBatch(l,p)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function UF(e){var t=K(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function KQ(e,t){var n=K(e),r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var l=[];t.targetChanges.forEach(function(p,v){var m=i.get(v);if(m){l.push(n.qe.removeMatchingKeys(s,p.removedDocuments,v).next(function(){return n.qe.addMatchingKeys(s,p.addedDocuments,v)}));var y=p.resumeToken;if(y.approximateByteSize()>0){var w=m.withResumeToken(y,r).withSequenceNumber(s.currentSequenceNumber);i=i.insert(v,w),function(b,S,I){return re(S.resumeToken.approximateByteSize()>0),b.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8||I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(m,w,p)&&l.push(n.qe.updateTargetData(s,w))}}});var c=br();if(t.documentUpdates.forEach(function(p,v){t.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),l.push(jF(s,a,t.documentUpdates,r,void 0).next(function(p){c=p})),!r.isEqual(ve.min())){var h=n.qe.getLastRemoteSnapshotVersion(s).next(function(p){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});l.push(h)}return j.waitFor(l).next(function(){return a.apply(s)}).next(function(){return n.Mn.En(s,c)}).next(function(){return c})}).then(function(s){return n.Fn=i,s})}function jF(e,t,n,r,i){var s=Oe();return n.forEach(function(a){return s=s.add(a)}),t.getEntries(e,s).next(function(a){var l=br();return n.forEach(function(c,h){var p=a.get(c),v=(i==null?void 0:i.get(c))||r;h.isNoDocument()&&h.version.isEqual(ve.min())?(t.removeEntry(c,v),l=l.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(h,v),l=l.insert(c,h)):q("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),l})}function HQ(e,t){var n=K(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function yl(e,t){var n=K(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,t).next(function(s){return s?(i=s,j.resolve(i)):n.qe.allocateTargetId(r).next(function(a){return i=new cm(t,a,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.Fn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(r.targetId,r),n.kn.set(t,r.targetId)),r})}function _l(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(l){switch(l.label){case 0:r=K(e),i=r.Fn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(c){return r.persistence.referenceDelegate.removeTarget(c,i)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!La(a=l.sent()))throw a;return q("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}})})}function eg(e,t,n){var r=K(e),i=ve.min(),s=Oe();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(l,c,h){var p=K(l),v=p.kn.get(h);return v!==void 0?j.resolve(p.Fn.get(v)):p.qe.getTargetData(c,h)}(r,a,Nr(t)).next(function(l){if(l)return i=l.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(c){s=c})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,t,n?i:ve.min(),n?s:Oe())}).next(function(l){return{documents:l,Bn:s}})})}function VF(e,t){var n=K(e),r=K(n.qe),i=n.Fn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(a){return a?a.target:null})})}function BF(e){var t=K(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,s){var a=K(r),l=br(),c=qT(s),h=bo(i),p=IDBKeyRange.lowerBound(c,!0);return h.Ot({index:it.readTimeIndex,range:p},function(v,m){var y=sb(a.R,m);l=l.insert(y.key,y),c=m.readTime}).next(function(){return{wn:l,readTime:NF(c)}})}(t.$n,n,t.On)}).then(function(n){var r=n.wn,i=n.readTime;return t.On=i,r})}function GQ(e){return R(this,void 0,void 0,function(){var t;return N(this,function(n){return[2,(t=K(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var s=bo(i),a=ve.min();return s.Ot({index:it.readTimeIndex,reverse:!0},function(l,c,h){c.readTime&&(a=NF(c.readTime)),h.done()}).next(function(){return a})}(r)}).then(function(r){t.On=r})]})})}function QQ(e,t,n,r){return R(this,void 0,void 0,function(){var i,s,a,l,c,h,p,v,m,y;return N(this,function(w){switch(w.label){case 0:for(i=K(e),s=Oe(),a=br(),l=fF(),c=0,h=n;c<h.length;c++)p=h[c],v=t.qn(p.metadata.name),p.document&&(s=s.add(v)),a=a.insert(v,t.Un(p)),l=l.insert(v,t.Qn(p.metadata.readTime));return m=i.$n.newChangeBuffer({trackRemovals:!0}),[4,yl(i,function(b){return Nr(Bl(Ne.fromString("__bundle__/docs/"+b)))}(r))];case 1:return y=w.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(b){return jF(b,m,a,ve.min(),l).next(function(S){return m.apply(b),S}).next(function(S){return i.qe.removeMatchingKeysForTargetId(b,y.targetId).next(function(){return i.qe.addMatchingKeys(b,s,y.targetId)}).next(function(){return i.Mn.En(b,S)}).next(function(){return S})})})]}})})}function YQ(e,t,n){return n===void 0&&(n=Oe()),R(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return[4,yl(e,Nr(zT(t.bundledQuery)))];case 1:return r=s.sent(),[2,(i=K(e)).persistence.runTransaction("Save named query","readwrite",function(a){var l=Dt(t.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Qe.saveNamedQuery(a,t);var c=r.withResumeToken(En.EMPTY_BYTE_STRING,l);return i.Fn=i.Fn.insert(c.targetId,c),i.qe.updateTargetData(a,c).next(function(){return i.qe.removeMatchingKeysForTargetId(a,r.targetId)}).next(function(){return i.qe.addMatchingKeys(a,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(a,t)})})]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XQ=function(){function e(t){this.R=t,this.Kn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return j.resolve(this.Kn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Kn.set(n.id,{id:(r=n).id,version:r.version,createTime:Dt(r.createTime)}),j.resolve()},e.prototype.getNamedQuery=function(t,n){return j.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:zT(r.bundledQuery),readTime:Dt(r.readTime)}}(n)),j.resolve()},e}(),HT=function(){function e(){this.Wn=new St(At.Gn),this.zn=new St(At.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new At(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(i){return r.addReference(i,n)})},e.prototype.removeReference=function(t,n){this.Yn(new At(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(i){return r.removeReference(i,n)})},e.prototype.Zn=function(t){var n=this,r=new ee(new Ne([])),i=new At(r,t),s=new At(r,t+1),a=[];return this.zn.forEachInRange([i,s],function(l){n.Yn(l),a.push(l.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new ee(new Ne([])),r=new At(n,t),i=new At(n,t+1),s=Oe();return this.zn.forEachInRange([r,i],function(a){s=s.add(a.key)}),s},e.prototype.containsKey=function(t){var n=new At(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),At=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return ee.comparator(t.key,n.key)||we(t.ns,n.ns)},e.Hn=function(t,n){return we(t.ns,n.ns)||ee.comparator(t.key,n.key)},e}(),JQ=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new St(At.Gn)}return e.prototype.checkEmpty=function(t){return j.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,i){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new $T(s,n,r,i);this._n.push(a);for(var l=0,c=i;l<c.length;l++){var h=c[l];this.rs=this.rs.add(new At(h.key,s)),this.Ut.addToCollectionParentIndex(t,h.key.path.popLast())}return j.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return j.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,i=this.cs(r),s=i<0?0:i;return j.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return j.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return j.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=new At(n,0),s=new At(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([i,s],function(l){var c=r.os(l.ns);a.push(c)}),j.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new St(we);return n.forEach(function(s){var a=new At(s,0),l=new At(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,l],function(c){i=i.add(c.ns)})}),j.resolve(this.us(i))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,i=r.length+1,s=r;ee.isDocumentKey(s)||(s=s.child(""));var a=new At(new ee(s),0),l=new St(we);return this.rs.forEachWhile(function(c){var h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(c.ns)),!0)},a),j.resolve(this.us(l))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(i){var s=n.os(i);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;re(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return j.forEach(n.mutations,function(s){var a=new At(s.key,n.batchId);return i=i.delete(a),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=i})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new At(n,0),i=this.rs.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,j.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),ZQ=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new un(ee.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var i=n.key,s=this.docs.get(i),a=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:l,readTime:r}),this.size+=l-a,this.Ut.addToCollectionParentIndex(t,i.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return j.resolve(r?r.document.clone():Gt.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,i=br();return n.forEach(function(s){var a=r.docs.get(s);i=i.insert(s,a?a.document.clone():Gt.newInvalidDocument(s))}),j.resolve(i)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var i=br(),s=new ee(n.path.child("")),a=this.docs.getIteratorFrom(s);a.hasNext();){var l=a.getNext(),c=l.key,h=l.value,p=h.document,v=h.readTime;if(!n.path.isPrefixOf(c.path))break;v.compareTo(r)<=0||Uh(n,p)&&(i=i.insert(p.key,p.clone()))}return j.resolve(i)},e.prototype.fs=function(t,n){return j.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new eY(this)},e.prototype.getSize=function(t){return j.resolve(this.size)},e}(),eY=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return H(t,e),t.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(s,a){a.document.isValidDocument()?i.push(r.Ie.addEntry(n,a.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),j.waitFor(i)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(xF),tY=function(){function e(t){this.persistence=t,this.ds=new $l(function(n){return Mh(n)},sm),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.ws=0,this._s=new HT,this.targetCount=0,this.ys=Zv.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,i){return n(i)}),j.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return j.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return j.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),j.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),j.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new Zv(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,j.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),j.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,j.resolve()},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return this.ds.forEach(function(l,c){c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i.ds.delete(l),a.push(i.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),j.waitFor(a).next(function(){return s})},e.prototype.getTargetCount=function(t){return j.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return j.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),j.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(function(a){s.push(i.markPotentiallyOrphaned(t,a))}),j.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),j.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return j.resolve(r)},e.prototype.containsKey=function(t,n){return j.resolve(this._s.containsKey(n))},e}(),nY=function(){function e(t,n){var r=this;this.gs={},this.Ne=new Zn(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new tY(this),this.Ut=new RQ,this.Ue=function(i,s){return new ZQ(i,function(a){return r.referenceDelegate.ps(a)})}(this.Ut),this.R=new kF(n),this.Qe=new XQ(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new JQ(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(t,n,r){var i=this;q("MemoryPersistence","Starting transaction:",t);var s=new rY(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(a){return i.referenceDelegate.Ts(s).next(function(){return a})}).toPromise().then(function(a){return s.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return j.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),rY=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return H(t,e),t}(SF),iY=function(){function e(t){this.persistence=t,this.As=new HT,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw J()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),j.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),j.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),j.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return i.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.vs,function(i){var s=ee.fromPath(i);return n.Ps(t,s).next(function(a){a||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return j.or([function(){return j.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),On=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(e,t){return"firestore_clients_"+e+"_"+t}function RP(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function ew(e,t){return"firestore_targets_"+e+"_"+t}On.UNAUTHENTICATED=new On(null),On.GOOGLE_CREDENTIALS=new On("google-credentials-uid"),On.FIRST_PARTY=new On("first-party-uid");var PP=function(){function e(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}return e.Vs=function(t,n,r){var i,s=JSON.parse(r),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(i=new U(s.error.code,s.error.message)),a?new e(t,n,s.state,i):(vt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),tw=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,i=JSON.parse(n),s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new U(i.error.code,i.error.message)),s?new e(t,i.state,r):(vt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),OP=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=lm(),a=0;i&&a<r.activeTargetIds.length;++a)i=GM(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new e(t,s):(vt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),oY=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(vt("SharedClientState","Failed to parse online state: "+t),null)},e}(),ab=function(){function e(){this.activeTargetIds=lm()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),nw=function(){function e(t,n,r,i,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new un(we),this.started=!1,this.Os=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.$s=AP(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new ab),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Qs=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return R(this,void 0,void 0,function(){var t,n,r,i,s,a,l,c,h,p,v,m=this;return N(this,function(y){switch(y.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=y.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.Ns&&(s=this.getItem(AP(this.persistenceKey,i)))&&(a=OP.Vs(i,s))&&(this.ks=this.ks.insert(a.clientId,a));for(this.Ks(),(l=this.storage.getItem(this.Us))&&(c=this.js(l))&&this.Ws(c),h=0,p=this.Os;h<p.length;h++)v=p[h],this.Fs(v);return this.Os=[],this.window.addEventListener("unload",function(){return m.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.ks.forEach(function(r,i){i.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(ew(this.persistenceKey,t));if(r){var i=tw.Vs(t,r);i&&(n=i.state)}}return this.Js.Ds(t),this.Ks(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(ew(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var i=this;n.forEach(function(s){i.Hs(s)}),this.currentUser=t,r.forEach(function(s){i.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return q("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){q("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){q("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.Fs=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(q("SharedClientState","EVENT",r.key,r.newValue),r.key===this.$s)return void vt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return R(n,void 0,void 0,function(){var i,s,a,l,c,h;return N(this,function(p){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(l=this.ri(r.key,r.newValue)))return[2,this.oi(l)]}else if(r.key===this.Us){if(r.newValue!==null&&(c=this.js(r.newValue)))return[2,this.Ws(c)]}else if(r.key===this.Ms)(h=function(v){var m=Zn.o;if(v!=null)try{var y=JSON.parse(v);re(typeof y=="number"),m=y}catch(w){vt("SharedClientState","Failed to read sequence number from WebStorage",w)}return m}(r.newValue))!==Zn.o&&this.sequenceNumberHandler(h);else if(r.key===this.Qs)return[2,this.syncEngine.ci()]}}else this.Os.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},e.prototype.zs=function(t,n,r){var i=new PP(this.currentUser,t,n,r),s=RP(this.persistenceKey,this.currentUser,t);this.setItem(s,i.Ss())},e.prototype.Hs=function(t){var n=RP(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var i=ew(this.persistenceKey,t),s=new tw(t,n,r);this.setItem(i,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return OP.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return PP.Vs(new On(s),i,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),i=Number(r[1]);return tw.Vs(i,n)},e.prototype.js=function(t){return oY.Vs(t)},e.prototype.ii=function(t){return R(this,void 0,void 0,function(){return N(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(q("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,i=n?this.ks.insert(t,n):this.ks.remove(t),s=this.Gs(this.ks),a=this.Gs(i),l=[],c=[];return a.forEach(function(h){s.has(h)||l.push(h)}),s.forEach(function(h){a.has(h)||c.push(h)}),this.syncEngine.hi(l,c).then(function(){r.ks=i})},e.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=lm();return t.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},e}(),$F=function(){function e(){this.li=new ab,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new ab,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),sY=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),xP=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),aY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},uY=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),lY=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r}return H(t,e),t.prototype.ki=function(n,r,i,s){return new Promise(function(a,l){var c=new V8;c.listenOnce(U8.COMPLETE,function(){try{switch(c.getLastErrorCode()){case J_.NO_ERROR:var p=c.getResponseJson();q("Connection","XHR received:",JSON.stringify(p)),a(p);break;case J_.TIMEOUT:q("Connection",'RPC "'+n+'" timed out'),l(new U(x.DEADLINE_EXCEEDED,"Request time out"));break;case J_.HTTP_ERROR:var v=c.getStatus();if(q("Connection",'RPC "'+n+'" failed with status:',v,"response text:",c.getResponseText()),v>0){var m=c.getResponseJson().error;if(m&&m.status&&m.message){var y=function(w){var b=w.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(b)>=0?b:x.UNKNOWN}(m.status);l(new U(y,m.message))}else l(new U(x.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new U(x.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{q("Connection",'RPC "'+n+'" completed.')}});var h=JSON.stringify(s);c.send(r,"POST",h,i,15)})},t.prototype.$i=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=M8(),a=F8(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(l.initMessageHeaders,r),yI()||rL()||N6()||A6()||R6()||_I()||(l.httpHeadersOverwriteParam="$httpHeaders");var c=i.join("");q("Connection","Creating WebChannel: "+c,l);var h=s.createWebChannel(c,l),p=!1,v=!1,m=new uY({Ei:function(w){v?q("Connection","Not sending because WebChannel is closed:",w):(p||(q("Connection","Opening WebChannel transport."),h.open(),p=!0),q("Connection","WebChannel sending:",w),h.send(w))},Ti:function(){return h.close()}}),y=function(w,b,S){w.listen(b,function(I){try{S(I)}catch(T){setTimeout(function(){throw T},0)}})};return y(h,yp.EventType.OPEN,function(){v||q("Connection","WebChannel transport opened.")}),y(h,yp.EventType.CLOSE,function(){v||(v=!0,q("Connection","WebChannel transport closed"),m.Vi())}),y(h,yp.EventType.ERROR,function(w){v||(v=!0,Wv("Connection","WebChannel transport errored:",w),m.Vi(new U(x.UNAVAILABLE,"The operation could not be completed")))}),y(h,yp.EventType.MESSAGE,function(w){var b;if(!v){var S=w.data[0];re(!!S);var I=S,T=I.error||((b=I[0])===null||b===void 0?void 0:b.error);if(T){q("Connection","WebChannel received error:",T);var C=T.status,P=function(O){var B=ht[O];if(B!==void 0)return cF(B)}(C),D=T.message;P===void 0&&(P=x.INTERNAL,D="Unknown error status: "+C+" with message "+T.message),v=!0,m.Vi(new U(P,D)),h.close()}else q("Connection","WebChannel received:",S),m.Si(S)}}),y(a,j8.STAT_EVENT,function(w){w.stat===YR.PROXY?q("Connection","Detected buffering proxy"):w.stat===YR.NOPROXY&&q("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Pi()},0),m},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,i){var s=this.xi(t,n);q("RestConnection","Sending: ",s,r);var a={};return this.Fi(a,i),this.ki(t,s,a,r).then(function(l){return q("RestConnection","Received: ",l),l},function(l){throw Wv("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",r),l})},e.prototype.Oi=function(t,n,r,i){return this.Ni(t,n,r,i)},e.prototype.Fi=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.5.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=aY[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qF(){return typeof window<"u"?window:null}function zp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(e){return new pQ(e,!0)}var GT=function(){function e(t,n,r,i,s){r===void 0&&(r=1e3),i===void 0&&(i=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=s,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Ki=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Qi),s=Math.max(0,r-i);s>0&&q("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),zF=function(){function e(t,n,r,i,s,a){this.Se=t,this.zi=r,this.Hi=i,this.Ji=s,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new GT(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return R(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return R(this,void 0,void 0,function(){return N(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return R(this,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(vt(n.toString()),vt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):n&&n.code===x.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){t.Yi===r&&t.lr(i)},function(i){n(function(){var s=new U(x.UNKNOWN,"Fetching auth token failed: "+i.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return R(t,void 0,void 0,function(){return N(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return q("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),cY=function(e){function t(n,r,i,s,a){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).R=s,l}return H(t,e),t.prototype.wr=function(n){return this.Hi.$i("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,a){var l;if("targetChange"in a){a.targetChange;var c=function(S){return S==="NO_CHANGE"?0:S==="ADD"?1:S==="REMOVE"?2:S==="CURRENT"?3:S==="RESET"?4:J()}(a.targetChange.targetChangeType||"NO_CHANGE"),h=a.targetChange.targetIds||[],p=function(S,I){return S.I?(re(I===void 0||typeof I=="string"),En.fromBase64String(I||"")):(re(I===void 0||I instanceof Uint8Array),En.fromUint8Array(I||new Uint8Array))}(s,a.targetChange.resumeToken),v=(m=a.targetChange.cause)&&function(S){var I=S.code===void 0?x.UNKNOWN:cF(S.code);return new U(I,S.message||"")}(m);l=new dF(c,h,p,v||null)}else if("documentChange"in a){a.documentChange,(c=a.documentChange).document,c.document.name,c.document.updateTime,h=mi(s,c.document.name),p=Dt(c.document.updateTime);var m=new Yn({mapValue:{fields:c.document.fields}}),y=(v=Gt.newFoundDocument(h,p,m),c.targetIds||[]),w=c.removedTargetIds||[];l=new qp(y,w,v.key,v)}else if("documentDelete"in a)a.documentDelete,(c=a.documentDelete).document,h=mi(s,c.document),p=c.readTime?Dt(c.readTime):ve.min(),m=Gt.newNoDocument(h,p),v=c.removedTargetIds||[],l=new qp([],v,m.key,m);else if("documentRemove"in a)a.documentRemove,(c=a.documentRemove).document,h=mi(s,c.document),p=c.removedTargetIds||[],l=new qp([],p,h,null);else{if(!("filter"in a))return J();a.filter;var b=a.filter;b.targetId,c=b.count||0,h=new oQ(c),p=b.targetId,l=new hF(p,h)}return l}(this.R,n),i=function(s){if(!("targetChange"in s))return ve.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?ve.min():a.readTime?Dt(a.readTime):ve.min()}(n);return this.listener._r(r,i)},t.prototype.mr=function(n){var r={};r.database=ih(this.R),r.addTarget=function(s,a){var l,c=a.target;return(l=Gv(c)?{documents:_F(s,c)}:{query:wF(s,c)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=pF(s,a.resumeToken):a.snapshotVersion.compareTo(ve.min())>0&&(l.readTime=nh(s,a.snapshotVersion.toTimestamp())),l}(this.R,n);var i=function(s,a){var l=function(c,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return J()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);i&&(r.labels=i),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=ih(this.R),r.removeTarget=n,this.cr(r)},t}(zF),fY=function(e){function t(n,r,i,s,a){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).R=s,l.gr=!1,l}return H(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.$i("Write",n)},t.prototype.onMessage=function(n){if(re(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,a){return s&&s.length>0?(re(a!==void 0),s.map(function(l){return function(c,h){var p=c.updateTime?Dt(c.updateTime):Dt(h);return p.isEqual(ve.min())&&(p=Dt(h)),new nQ(p,c.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),i=Dt(n.commitTime);return this.listener.Tr(i,r)}return re(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=ih(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(s){return Xv(r.R,s)})};this.cr(i)},t}(zF),hY=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=i,s.Rr=!1,s}return H(t,e),t.prototype.br=function(){if(this.Rr)throw new U(x.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Ni(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===x.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new U(x.UNKNOWN,a.toString())})},t.prototype.Oi=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Oi(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===x.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new U(x.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),dY=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.Fr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(vt(n),this.Vr=!1):q("OnlineStateTracker",n)},e.prototype.Fr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),pY=function(e,t,n,r,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(a){n.enqueueAndForget(function(){return R(s,void 0,void 0,function(){return N(this,function(l){switch(l.label){case 0:return hs(this)?(q("RemoteStore","Restarting streams for network reachability change."),[4,function(c){return R(this,void 0,void 0,function(){var h;return N(this,function(p){switch(p.label){case 0:return(h=K(c)).$r.add(4),[4,ql(h)];case 1:return p.sent(),h.Br.set("Unknown"),h.$r.delete(4),[4,qh(h)];case 2:return p.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new dY(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(e){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:if(!hs(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function ql(e){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function fm(e,t){var n=K(e);n.Or.has(t.targetId)||(n.Or.set(t.targetId,t),XT(n)?YT(n):Wl(n).er()&&QT(n,t))}function oh(e,t){var n=K(e),r=Wl(n);n.Or.delete(t),r.er()&&WF(n,t),n.Or.size===0&&(r.er()?r.ir():hs(n)&&n.Br.set("Unknown"))}function QT(e,t){e.qr.U(t.targetId),Wl(e).mr(t)}function WF(e,t){e.qr.U(t),Wl(e).yr(t)}function YT(e){e.qr=new fQ({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.Or.get(t)||null}}),Wl(e).start(),e.Br.Sr()}function XT(e){return hs(e)&&!Wl(e).tr()&&e.Or.size>0}function hs(e){return K(e).$r.size===0}function KF(e){e.qr=void 0}function vY(e){return R(this,void 0,void 0,function(){return N(this,function(t){return e.Or.forEach(function(n,r){QT(e,n)}),[2]})})}function gY(e,t){return R(this,void 0,void 0,function(){return N(this,function(n){return KF(e),XT(e)?(e.Br.Nr(t),YT(e)):e.Br.set("Unknown"),[2]})})}function mY(e,t,n){return R(this,void 0,void 0,function(){var r,i,s;return N(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof dF&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,c){return R(this,void 0,void 0,function(){var h,p,v,m;return N(this,function(y){switch(y.label){case 0:h=c.cause,p=0,v=c.targetIds,y.label=1;case 1:return p<v.length?(m=v[p],l.Or.has(m)?[4,l.remoteSyncer.rejectListen(m,h)]:[3,3]):[3,5];case 2:y.sent(),l.Or.delete(m),l.qr.removeTarget(m),y.label=3;case 3:y.label=4;case 4:return p++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),q("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,tg(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof qp?e.qr.X(t):t instanceof hF?e.qr.rt(t):e.qr.et(t),n.isEqual(ve.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,UF(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(l,c){var h=l.qr.ut(c);return h.targetChanges.forEach(function(p,v){if(p.resumeToken.approximateByteSize()>0){var m=l.Or.get(v);m&&l.Or.set(v,m.withResumeToken(p.resumeToken,c))}}),h.targetMismatches.forEach(function(p){var v=l.Or.get(p);if(v){l.Or.set(p,v.withResumeToken(En.EMPTY_BYTE_STRING,v.snapshotVersion)),WF(l,p);var m=new cm(v.target,p,1,v.sequenceNumber);QT(l,m)}}),l.remoteSyncer.applyRemoteEvent(h)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return q("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,tg(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function tg(e,t,n){return R(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:if(!La(t))throw t;return e.$r.add(1),[4,ql(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return UF(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return R(r,void 0,void 0,function(){return N(this,function(s){switch(s.label){case 0:return q("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.$r.delete(1),[4,qh(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function HF(e,t){return t().catch(function(n){return tg(e,n,t)})}function zl(e){return R(this,void 0,void 0,function(){var t,n,r,i,s;return N(this,function(a){switch(a.label){case 0:t=K(e),n=rs(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return hs(l)&&l.kr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,HQ(t.localStore,r)];case 3:return(i=a.sent())===null?(t.kr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(l,c){l.kr.push(c);var h=rs(l);h.er()&&h.pr&&h.Er(c.mutations)}(t,i),[3,6]);case 4:return s=a.sent(),[4,tg(t,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return GF(t)&&QF(t),[2]}})})}function GF(e){return hs(e)&&!rs(e).tr()&&e.kr.length>0}function QF(e){rs(e).start()}function yY(e){return R(this,void 0,void 0,function(){return N(this,function(t){return rs(e).Ar(),[2]})})}function _Y(e){return R(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){for(t=rs(e),n=0,r=e.kr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]})})}function wY(e,t,n){return R(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return r=e.kr.shift(),i=NQ.from(r,t,n),[4,HF(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,zl(e)];case 2:return s.sent(),[2]}})})}function EY(e,t){return R(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return t&&rs(e).pr?[4,function(r,i){return R(this,void 0,void 0,function(){var s,a;return N(this,function(l){switch(l.label){case 0:return lF(a=i.code)&&a!==x.ABORTED?(s=r.kr.shift(),rs(r).sr(),[4,HF(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,i)})]):[3,3];case 1:return l.sent(),[4,zl(r)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return GF(e)&&QF(e),[2]}})})}function ub(e,t){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return n=K(e),t?(n.$r.delete(2),[4,qh(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.$r.add(2),[4,ql(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Wl(e){var t=this;return e.Ur||(e.Ur=function(n,r,i){var s=K(n);return s.br(),new cY(r,s.Hi,s.credentials,s.R,i)}(e.datastore,e.asyncQueue,{Ii:vY.bind(null,e),Ri:gY.bind(null,e),_r:mY.bind(null,e)}),e.Mr.push(function(n){return R(t,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),XT(e)?YT(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),KF(e),r.label=3;case 3:return[2]}})})})),e.Ur}function rs(e){var t=this;return e.Qr||(e.Qr=function(n,r,i){var s=K(n);return s.br(),new fY(r,s.Hi,s.credentials,s.R,i)}(e.datastore,e.asyncQueue,{Ii:yY.bind(null,e),Ri:EY.bind(null,e),Ir:_Y.bind(null,e),Tr:wY.bind(null,e)}),e.Mr.push(function(n){return R(t,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return n?(e.Qr.sr(),[4,zl(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Qr.stop()];case 3:r.sent(),e.kr.length>0&&(q("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),r.label=4;case 4:return[2]}})})})),e.Qr}var bY=function(){function e(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new bn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,r,i,s){var a=new e(t,n,Date.now()+r,i,s);return a.start(r),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(x.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Kl(e,t){if(vt("AsyncQueue",t+": "+e),La(e))return new U(x.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YF=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||ee.comparator(n.key,r.key)}:function(n,r){return ee.comparator(n.key,r.key)},this.keyedMap=ib(),this.sortedSet=new un(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),DP=function(){function e(){this.Kr=new un(ee.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Kr.get(n);r?t.type!==0&&r.type===3?this.Kr=this.Kr.insert(n,t):t.type===3&&r.type!==1?this.Kr=this.Kr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Kr=this.Kr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Kr=this.Kr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Kr=this.Kr.remove(n):t.type===1&&r.type===2?this.Kr=this.Kr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Kr=this.Kr.insert(n,{type:2,doc:t.doc}):J():this.Kr=this.Kr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),ng=function(){function e(t,n,r,i,s,a,l,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c}return e.fromInitialDocuments=function(t,n,r,i){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new e(t,n,YF.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Fh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e}(),IY=function(){this.Wr=void 0,this.listeners=[]},TY=function(){this.queries=new $l(function(e){return ZM(e)},Fh),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:if(n=K(e),r=t.query,i=!1,(s=n.queries.get(r))||(i=!0,s=new IY),!i)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),a=s,[4,n.onListen(r)];case 2:return a.Wr=h.sent(),[3,4];case 3:return l=h.sent(),c=Kl(l,"Initialization of query '"+nb(t.query)+"' failed"),[2,void t.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&eS(n),[2]}})})}function ZT(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(l){return n=K(e),r=t.query,i=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),i=s.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function SY(e,t){for(var n=K(e),r=!1,i=0,s=t;i<s.length;i++){var a=s[i],l=a.query,c=n.queries.get(l);if(c){for(var h=0,p=c.listeners;h<p.length;h++)p[h].Hr(a)&&(r=!0);c.Wr=a}}r&&eS(n)}function CY(e,t,n){var r=K(e),i=r.queries.get(t);if(i)for(var s=0,a=i.listeners;s<a.length;s++)a[s].onError(n);r.queries.delete(t)}function eS(e){e.Gr.forEach(function(t){t.next()})}var tS=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=t.docChanges;r<i.length;r++){var s=i[r];s.type!==3&&n.push(s)}t=new ng(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=ng.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}(),kY=function(){function e(t,n){this.payload=t,this.byteLength=n}return e.prototype.io=function(){return"metadata"in this.payload},e}(),LP=function(){function e(t){this.R=t}return e.prototype.qn=function(t){return mi(this.R,t)},e.prototype.Un=function(t){return t.metadata.exists?yF(this.R,t.document,!1):Gt.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},e.prototype.Qn=function(t){return Dt(t)},e}(),NY=function(){function e(t,n,r){this.ro=t,this.localStore=n,this.R=r,this.queries=[],this.documents=[],this.progress=XF(t)}return e.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var n=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++n):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},e.prototype.co=function(t){for(var n=new Map,r=new LP(this.R),i=0,s=t;i<s.length;i++){var a=s[i];if(a.metadata.queries)for(var l=r.qn(a.metadata.name),c=0,h=a.metadata.queries;c<h.length;c++){var p=h[c],v=(n.get(p)||Oe()).add(l);n.set(p,v)}}return n},e.prototype.complete=function(){return R(this,void 0,void 0,function(){var t,n,r,i,s;return N(this,function(a){switch(a.label){case 0:return[4,QQ(this.localStore,new LP(this.R),this.documents,this.ro.id)];case 1:t=a.sent(),n=this.co(this.documents),r=0,i=this.queries,a.label=2;case 2:return r<i.length?(s=i[r],[4,YQ(this.localStore,s,n.get(s.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new $Q(Object.assign({},this.progress),t))]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XF(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JF=function(e){this.key=e},ZF=function(e){this.key=e},eU=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=Oe(),this.mutatedKeys=Oe(),this.lo=eF(t),this.fo=new YF(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,i=n?n.mo:new DP,s=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1,h=Bp(this.query)&&s.size===this.query.limit?s.last():null,p=Yv(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(m,y){var w=s.get(m),b=Uh(r.query,y)?y:null,S=!!w&&r.mutatedKeys.has(w.key),I=!!b&&(b.hasLocalMutations||r.mutatedKeys.has(b.key)&&b.hasCommittedMutations),T=!1;w&&b?w.data.isEqual(b.data)?S!==I&&(i.track({type:3,doc:b}),T=!0):r.yo(w,b)||(i.track({type:2,doc:b}),T=!0,(h&&r.lo(b,h)>0||p&&r.lo(b,p)<0)&&(c=!0)):!w&&b?(i.track({type:0,doc:b}),T=!0):w&&!b&&(i.track({type:1,doc:w}),T=!0,(h||p)&&(c=!0)),T&&(b?(l=l.add(b),a=I?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),Bp(this.query)||Yv(this.query))for(;l.size>this.query.limit;){var v=Bp(this.query)?l.last():l.first();l=l.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{fo:l,mo:i,Nn:c,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var i=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(p,v){return function(m,y){var w=function(b){switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return w(m)-w(y)}(p.type,v.type)||i.lo(p.doc,v.doc)}),this.po(r);var l=n?this.Eo():[],c=this.ho.size===0&&this.current?1:0,h=c!==this.ao;return this.ao=c,a.length!==0||h?{snapshot:new ng(this.query,t.fo,s,a,t.mutatedKeys,c===0,h,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new DP,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=Oe(),this.fo.forEach(function(i){t.Io(i.key)&&(t.ho=t.ho.add(i.key))});var r=[];return n.forEach(function(i){t.ho.has(i)||r.push(new ZF(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new JF(i))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Oe();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return ng.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),AY=function(e,t,n){this.query=e,this.targetId=t,this.view=n},RY=function(e){this.key=e,this.bo=!1},PY=function(){function e(t,n,r,i,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new $l(function(l){return ZM(l)},Fh),this.Vo=new Map,this.So=new Set,this.Do=new un(ee.comparator),this.Co=new Map,this.No=new HT,this.xo={},this.Fo=new Map,this.ko=Zv.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.Oo===!0},enumerable:!1,configurable:!0}),e}();function OY(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l;return N(this,function(c){switch(c.label){case 0:return n=sS(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ro(),[3,4]):[3,1];case 1:return[4,yl(n.localStore,Nr(t))];case 2:return a=c.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,nS(n,t,r,l==="current")];case 3:i=c.sent(),n.isPrimaryClient&&fm(n.remoteStore,a),c.label=4;case 4:return[2,i]}})})}function nS(e,t,n,r){return R(this,void 0,void 0,function(){var i,s,a,l,c,h;return N(this,function(p){switch(p.label){case 0:return e.$o=function(v,m,y){return function(w,b,S,I){return R(this,void 0,void 0,function(){var T,C,P;return N(this,function(D){switch(D.label){case 0:return T=b.view._o(S),T.Nn?[4,eg(w.localStore,b.query,!1).then(function(O){var B=O.documents;return b.view._o(B,T)})]:[3,2];case 1:T=D.sent(),D.label=2;case 2:return C=I&&I.targetChanges.get(b.targetId),P=b.view.applyChanges(T,w.isPrimaryClient,C),[2,(lb(w,b.targetId,P.To),P.snapshot)]}})})}(e,v,m,y)},[4,eg(e.localStore,t,!0)];case 1:return i=p.sent(),s=new eU(t,i.Bn),a=s._o(i.documents),l=jT.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),c=s.applyChanges(a,e.isPrimaryClient,l),lb(e,n,c.To),h=new AY(t,n,s),[2,(e.Po.set(t,h),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),c.snapshot)]}})})}function xY(e,t){return R(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return n=K(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(a){return!Fh(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,_l(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),oh(n.remoteStore,r.targetId),wl(n,r.targetId)}).catch(Ma)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return wl(n,r.targetId),[4,_l(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function DY(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(l){switch(l.label){case 0:r=aS(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(c,h){var p,v=K(c),m=Vn.now(),y=h.reduce(function(w,b){return w.add(b.key)},Oe());return v.persistence.runTransaction("Locally write mutations","readwrite",function(w){return v.Mn.pn(w,y).next(function(b){p=b;for(var S=[],I=0,T=h;I<T.length;I++){var C=T[I],P=iQ(C,p.get(C.key));P!=null&&S.push(new fs(C.key,P,QM(P.toProto().mapValue),tn.exists(!0)))}return v._n.addMutationBatch(w,m,S,h)})}).then(function(w){return w.applyToLocalDocumentSet(p),{batchId:w.batchId,changes:p}})}(r.localStore,t)];case 2:return i=l.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(c,h,p){var v=c.xo[c.currentUser.toKey()];v||(v=new un(we)),v=v.insert(h,p),c.xo[c.currentUser.toKey()]=v}(r,i.batchId,n),[4,no(r,i.changes)];case 3:return l.sent(),[4,zl(r.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),a=Kl(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function tU(e,t){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:n=K(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,KQ(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach(function(s,a){var l=n.Co.get(a);l&&(re(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?re(l.bo):s.removedDocuments.size>0&&(re(l.bo),l.bo=!1))}),[4,no(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Ma(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function MP(e,t,n){var r=K(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(s,a){var l=a.view.zr(t);l.snapshot&&i.push(l.snapshot)}),function(s,a){var l=K(s);l.onlineState=a;var c=!1;l.queries.forEach(function(h,p){for(var v=0,m=p.listeners;v<m.length;v++)m[v].zr(a)&&(c=!0)}),c&&eS(l)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function LY(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:return(r=K(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(s=i&&i.key)?(a=(a=new un(ee.comparator)).insert(s,Gt.newNoDocument(s,ve.min())),l=Oe().add(s),c=new UT(ve.min(),new Map,new St(we),a,l),[4,tU(r,c)]):[3,2];case 1:return h.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),oS(r),[3,4];case 2:return[4,_l(r.localStore,t,!1).then(function(){return wl(r,t,n)}).catch(Ma)];case 3:h.sent(),h.label=4;case 4:return[2]}})})}function MY(e,t){return R(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:n=K(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,WQ(n.localStore,t)];case 2:return i=s.sent(),iS(n,r,null),rS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,no(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Ma(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function FY(e,t,n){return R(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:r=K(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,l){var c=K(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",function(h){var p;return c._n.lookupMutationBatch(h,l).next(function(v){return re(v!==null),p=v.keys(),c._n.removeMutationBatch(h,v)}).next(function(){return c._n.performConsistencyCheck(h)}).next(function(){return c.Mn.pn(h,p)})})}(r.localStore,t)];case 2:return i=s.sent(),iS(r,t,n),rS(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,no(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Ma(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function UY(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(l){switch(l.label){case 0:hs((n=K(e)).remoteStore)||q("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(c){var h=K(c);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(p){return h._n.getHighestUnacknowledgedBatchId(p)})}(n.localStore)];case 2:return(r=l.sent())===-1?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return s=l.sent(),a=Kl(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function rS(e,t){(e.Fo.get(t)||[]).forEach(function(n){n.resolve()}),e.Fo.delete(t)}function iS(e,t,n){var r=K(e),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function wl(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var s=i[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||nU(e,a)})}function nU(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(oh(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),oS(e))}function lb(e,t,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof JF?(e.No.addReference(s.key,t),jY(e,s)):s instanceof ZF?(q("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||nU(e,s.key)):J()}}function jY(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(q("SyncEngine","New document in limbo: "+n),e.So.add(r),oS(e))}function oS(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new ee(Ne.fromString(t)),r=e.ko.next();e.Co.set(r,new RY(n)),e.Do=e.Do.insert(n,r),fm(e.remoteStore,new cm(Nr(Bl(n.path)),r,2,Zn.o))}}function no(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(l){switch(l.label){case 0:return r=K(e),i=[],s=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(c,h){a.push(r.$o(h,t,n).then(function(p){if(p){r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,p.fromCache?"not-current":"current"),i.push(p);var v=qQ.Pn(h.targetId,p);s.push(v)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),r.vo._r(i),[4,function(c,h){return R(this,void 0,void 0,function(){var p,v,m,y,w,b,S,I,T;return N(this,function(C){switch(C.label){case 0:p=K(c),C.label=1;case 1:return C.trys.push([1,3,,4]),[4,p.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(P){return j.forEach(h,function(D){return j.forEach(D.bn,function(O){return p.persistence.referenceDelegate.addReference(P,D.targetId,O)}).next(function(){return j.forEach(D.vn,function(O){return p.persistence.referenceDelegate.removeReference(P,D.targetId,O)})})})})];case 2:return C.sent(),[3,4];case 3:if(!La(v=C.sent()))throw v;return q("LocalStore","Failed to update sequence numbers: "+v),[3,4];case 4:for(m=0,y=h;m<y.length;m++)w=y[m],b=w.targetId,w.fromCache||(S=p.Fn.get(b),I=S.snapshotVersion,T=S.withLastLimboFreeSnapshotVersion(I),p.Fn=p.Fn.insert(b,T));return[2]}})})}(r.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function VY(e,t){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return(n=K(e)).currentUser.isEqual(t)?[3,3]:(q("SyncEngine","User change. New user:",t.toKey()),[4,FF(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(s,a){s.Fo.forEach(function(l){l.forEach(function(c){c.reject(new U(x.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,no(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function BY(e,t){var n=K(e),r=n.Co.get(t);if(r&&r.bo)return Oe().add(r.key);var i=Oe(),s=n.Vo.get(t);if(!s)return i;for(var a=0,l=s;a<l.length;a++){var c=l[a],h=n.Po.get(c);i=i.unionWith(h.view.wo)}return i}function $Y(e,t){return R(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,eg((n=K(e)).localStore,t.query,!0)];case 1:return r=s.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&lb(n,t.targetId,i.To),i)]}})})}function qY(e){return R(this,void 0,void 0,function(){var t;return N(this,function(n){return[2,BF((t=K(e)).localStore).then(function(r){return no(t,r)})]})})}function zY(e,t,n,r){return R(this,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:return[4,function(l,c){var h=K(l),p=K(h._n);return h.persistence.runTransaction("Lookup mutation documents","readonly",function(v){return p.jt(v,c).next(function(m){return m?h.Mn.pn(v,m):j.resolve(null)})})}((i=K(e)).localStore,t)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,zl(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(iS(i,t,r||null),rS(i,t),function(l,c){K(K(l)._n).Gt(c)}(i.localStore,t)):J(),a.label=4;case 4:return[4,no(i,s)];case 5:return a.sent(),[3,7];case 6:q("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function WY(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h;return N(this,function(p){switch(p.label){case 0:return sS(n=K(e)),aS(n),t!==!0||n.Oo===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,FP(n,r.toArray())]);case 1:return i=p.sent(),n.Oo=!0,[4,ub(n.remoteStore,!0)];case 2:for(p.sent(),s=0,a=i;s<a.length;s++)l=a[s],fm(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.Oo===!1?[3,7]:(c=[],h=Promise.resolve(),n.Vo.forEach(function(v,m){n.sharedClientState.isLocalQueryTarget(m)?c.push(m):h=h.then(function(){return wl(n,m),_l(n.localStore,m,!0)}),oh(n.remoteStore,m)}),[4,h]);case 4:return p.sent(),[4,FP(n,c)];case 5:return p.sent(),function(v){var m=K(v);m.Co.forEach(function(y,w){oh(m.remoteStore,w)}),m.No.ts(),m.Co=new Map,m.Do=new un(ee.comparator)}(n),n.Oo=!1,[4,ub(n.remoteStore,!1)];case 6:p.sent(),p.label=7;case 7:return[2]}})})}function FP(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a,l,c,h,p,v,m,y,w,b,S;return N(this,function(I){switch(I.label){case 0:r=K(e),i=[],s=[],a=0,l=t,I.label=1;case 1:return a<l.length?(c=l[a],h=void 0,(p=r.Vo.get(c))&&p.length!==0?[4,yl(r.localStore,Nr(p[0]))]:[3,7]):[3,13];case 2:h=I.sent(),v=0,m=p,I.label=3;case 3:return v<m.length?(y=m[v],w=r.Po.get(y),[4,$Y(r,w)]):[3,6];case 4:(b=I.sent()).snapshot&&s.push(b.snapshot),I.label=5;case 5:return v++,[3,3];case 6:return[3,11];case 7:return[4,VF(r.localStore,c)];case 8:return S=I.sent(),[4,yl(r.localStore,S)];case 9:return h=I.sent(),[4,nS(r,rU(S),c,!1)];case 10:I.sent(),I.label=11;case 11:i.push(h),I.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(s),i)]}})})}function rU(e){return XM(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function KY(e){var t=K(e);return K(K(t.localStore).persistence).fn()}function HY(e,t,n,r){return R(this,void 0,void 0,function(){var i,s,a;return N(this,function(l){switch(l.label){case 0:return(i=K(e)).Oo?(q("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,BF(i.localStore)];case 3:return s=l.sent(),a=UT.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,no(i,s,a)];case 4:return l.sent(),[3,8];case 5:return[4,_l(i.localStore,t,!0)];case 6:return l.sent(),wl(i,t,r),[3,8];case 7:J(),l.label=8;case 8:return[2]}})})}function GY(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a,l,c,h,p,v,m;return N(this,function(y){switch(y.label){case 0:if(!(r=sS(e)).Oo)return[3,10];i=0,s=t,y.label=1;case 1:return i<s.length?(a=s[i],r.Vo.has(a)?(q("SyncEngine","Adding an already active target "+a),[3,5]):[4,VF(r.localStore,a)]):[3,6];case 2:return l=y.sent(),[4,yl(r.localStore,l)];case 3:return c=y.sent(),[4,nS(r,rU(l),c.targetId,!1)];case 4:y.sent(),fm(r.remoteStore,c),y.label=5;case 5:return i++,[3,1];case 6:h=function(w){return N(this,function(b){switch(b.label){case 0:return r.Vo.has(w)?[4,_l(r.localStore,w,!1).then(function(){oh(r.remoteStore,w),wl(r,w)}).catch(Ma)]:[3,2];case 1:b.sent(),b.label=2;case 2:return[2]}})},p=0,v=n,y.label=7;case 7:return p<v.length?(m=v[p],[5,h(m)]):[3,10];case 8:y.sent(),y.label=9;case 9:return p++,[3,7];case 10:return[2]}})})}function sS(e){var t=K(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=tU.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=BY.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=LY.bind(null,t),t.vo._r=SY.bind(null,t.eventManager),t.vo.Mo=CY.bind(null,t.eventManager),t}function aS(e){var t=K(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=MY.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=FY.bind(null,t),t}function QY(e,t,n){var r=K(e);(function(i,s,a){return R(this,void 0,void 0,function(){var l,c,h,p,v,m;return N(this,function(y){switch(y.label){case 0:return y.trys.push([0,14,,15]),[4,s.getMetadata()];case 1:return l=y.sent(),[4,function(w,b){var S=K(w),I=Dt(b.createTime);return S.persistence.runTransaction("hasNewerBundle","readonly",function(T){return S.Qe.getBundleMetadata(T,b.id)}).then(function(T){return!!T&&T.createTime.compareTo(I)>=0})}(i.localStore,l)];case 2:return y.sent()?[4,s.close()]:[3,4];case 3:return[2,(y.sent(),void a._completeWith(function(w){return{taskState:"Success",documentsLoaded:w.totalDocuments,bytesLoaded:w.totalBytes,totalDocuments:w.totalDocuments,totalBytes:w.totalBytes}}(l)))];case 4:return a._updateProgress(XF(l)),c=new NY(l,i.localStore,s.R),[4,s.Lo()];case 5:h=y.sent(),y.label=6;case 6:return h?[4,c.oo(h)]:[3,10];case 7:return(p=y.sent())&&a._updateProgress(p),[4,s.Lo()];case 8:h=y.sent(),y.label=9;case 9:return[3,6];case 10:return[4,c.complete()];case 11:return v=y.sent(),[4,no(i,v.wn,void 0)];case 12:return y.sent(),[4,function(w,b){var S=K(w);return S.persistence.runTransaction("Save bundle","readwrite",function(I){return S.Qe.saveBundleMetadata(I,b)})}(i.localStore,l)];case 13:return y.sent(),a._completeWith(v.progress),[3,15];case 14:return Wv("SyncEngine","Loading bundle failed with "+(m=y.sent())),a._failWith(m),[3,15];case 15:return[2]}})})})(r,t,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var iU=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return R(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return this.R=$h(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Qo=function(t){return MF(this.persistence,new LF,t.initialUser,this.R)},e.prototype.qo=function(t){return new nY(iY.bs,this.R)},e.prototype.Bo=function(t){return new $F},e.prototype.terminate=function(){return R(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),oU=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).Ko=n,s.cacheSizeBytes=r,s.forceOwnership=i,s.synchronizeTabs=!1,s}return H(t,e),t.prototype.initialize=function(n){return R(this,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return r.sent(),[4,GQ(this.localStore)];case 2:return r.sent(),[4,this.Ko.initialize(this,n)];case 3:return r.sent(),[4,aS(this.Ko.syncEngine)];case 4:return r.sent(),[4,zl(this.Ko.remoteStore)];case 5:return r.sent(),[2]}})})},t.prototype.Qo=function(n){return MF(this.persistence,new LF,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new LQ(r,n.asyncQueue)},t.prototype.qo=function(n){var r=KT(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?fi.withCacheSize(this.cacheSizeBytes):fi.DEFAULT;return new BQ(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,qF(),zp(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new $F},t}(iU),YY=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Ko=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return H(t,e),t.prototype.initialize=function(n){return R(this,void 0,void 0,function(){var r,i=this;return N(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Ko.syncEngine,this.sharedClientState instanceof nw?(this.sharedClientState.syncEngine={ui:zY.bind(null,r),ai:HY.bind(null,r),hi:GY.bind(null,r),fn:KY.bind(null,r),ci:qY.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(a){return R(i,void 0,void 0,function(){return N(this,function(l){switch(l.label){case 0:return[4,WY(this.Ko.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=qF();if(!nw.yt(r))throw new U(x.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=KT(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new nw(r,n.asyncQueue,i,n.clientId,n.initialUser)},t}(oU),cb=function(){function e(){}return e.prototype.initialize=function(t,n){return R(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return MP(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=VY.bind(null,this.syncEngine),[4,ub(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new TY},e.prototype.createDatastore=function(t){var n,r=$h(t.databaseInfo.databaseId),i=(n=t.databaseInfo,new lY(n));return function(s,a,l){return new hY(s,a,l)}(t.credentials,i,r)},e.prototype.createRemoteStore=function(t){var n,r,i,s,a,l=this;return n=this.localStore,r=this.datastore,i=t.asyncQueue,s=function(c){return MP(l.syncEngine,c,0)},a=xP.yt()?new xP:new sY,new pY(n,r,i,s,a)},e.prototype.createSyncEngine=function(t,n){return function(r,i,s,a,l,c,h){var p=new PY(r,i,s,a,l,c);return h&&(p.Oo=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return n=K(t),q("RemoteStore","RemoteStore shutting down."),n.$r.add(5),[4,ql(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(e,t){t===void 0&&(t=10240);var n=0;return{read:function(){return R(this,void 0,void 0,function(){var r;return N(this,function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]})})},cancel:function(){return R(this,void 0,void 0,function(){return N(this,function(r){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hm=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),XY=function(){function e(t,n){var r=this;this.Go=t,this.R=n,this.metadata=new bn,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(i){i&&i.io()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return R(this,void 0,void 0,function(){return N(this,function(t){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return R(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return R(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,this.Jo()];case 1:return(t=s.sent())===null?[2,null]:(n=this.zo.decode(t),r=Number(n),isNaN(r)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(r)]);case 2:return i=s.sent(),[2,new kY(JSON.parse(i),t.length+r)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},e.prototype.Jo=function(){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),n)])}})})},e.prototype.Xo=function(t){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),n)]}})})},e.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},e.prototype.tc=function(){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(t=r.sent()).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),[2,t.done]}})})},e}(),JY=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return R(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new U(x.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return R(this,void 0,void 0,function(){var l,c,h,p,v,m;return N(this,function(y){switch(y.label){case 0:return l=K(s),c=ih(l.R)+"/documents",h={documents:a.map(function(w){return rh(l.R,w)})},[4,l.Oi("BatchGetDocuments",c,h)];case 1:return p=y.sent(),v=new Map,p.forEach(function(w){var b=function(S,I){return"found"in I?function(T,C){re(!!C.found),C.found.name,C.found.updateTime;var P=mi(T,C.found.name),D=Dt(C.found.updateTime),O=new Yn({mapValue:{fields:C.found.fields}});return Gt.newFoundDocument(P,D,O)}(S,I):"missing"in I?function(T,C){re(!!C.missing),re(!!C.readTime);var P=mi(T,C.missing),D=Dt(C.readTime);return Gt.newNoDocument(P,D)}(S,I):J()}(l.R,w);v.set(b.key.toString(),b)}),m=[],[2,(a.forEach(function(w){var b=v.get(w.toString());re(!!b),m.push(b)}),m)]}})})}(this.datastore,t)];case 1:return[2,((n=i.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Bh(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return R(this,void 0,void 0,function(){var t,n=this;return N(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(i){t.delete(i.key.toString())}),t.forEach(function(i,s){var a=ee.fromPath(s);n.mutations.push(new FT(a,n.precondition(a)))}),[4,function(i,s){return R(this,void 0,void 0,function(){var a,l,c;return N(this,function(h){switch(h.label){case 0:return a=K(i),l=ih(a.R)+"/documents",c={writes:s.map(function(p){return Xv(a.R,p)})},[4,a.Ni("Commit",l,c)];case 1:return h.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw J();n=ve.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new U(x.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?tn.updateTime(n):tn.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(ve.min()))throw new U(x.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return tn.updateTime(n)}return tn.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),ZY=function(){function e(t,n,r,i){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new GT(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return R(t,void 0,void 0,function(){var n,r,i=this;return N(this,function(s){return n=new JY(this.datastore),(r=this.sc(n))&&r.then(function(a){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(a)}).catch(function(l){i.ic(l)})})}).catch(function(a){i.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!Da(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!lF(n)}return!1},e}(),e7=function(){function e(t,n,r){var i=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=On.UNAUTHENTICATED,this.clientId=qM.u(),this.credentialListener=function(){},this.receivedInitialUser=new bn,this.credentials.setChangeListener(function(s){q("FirestoreClient","Received user=",s.uid),i.user=s,i.credentialListener(s),i.receivedInitialUser.resolve()})}return e.prototype.getConfiguration=function(){return R(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},e.prototype.setCredentialChangeListener=function(t){var n=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return n.credentialListener(n.user)})},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new U(x.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new bn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return R(t,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),i=Kl(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sU(e,t){return R(this,void 0,void 0,function(){var n,r,i=this;return N(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(a){r.isEqual(a)||(r=a,e.asyncQueue.enqueueRetryable(function(){return R(i,void 0,void 0,function(){return N(this,function(l){switch(l.label){case 0:return[4,FF(t.localStore,a)];case 1:return l.sent(),[2]}})})}))}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function aU(e,t){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,uS(e)];case 1:return n=i.sent(),q("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener(function(s){return e.asyncQueue.enqueueRetryable(function(){return function(a,l){return R(this,void 0,void 0,function(){var c,h;return N(this,function(p){switch(p.label){case 0:return(c=K(a)).asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials"),h=hs(c),c.$r.add(3),[4,ql(c)];case 1:return p.sent(),h&&c.Br.set("Unknown"),[4,c.remoteSyncer.handleCredentialChange(l)];case 2:return p.sent(),c.$r.delete(3),[4,qh(c)];case 3:return p.sent(),[2]}})})}(t.remoteStore,s)})}),e.onlineComponents=t,[2]}})})}function uS(e){return R(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(q("FirestoreClient","Using default OfflineComponentProvider"),[4,sU(e,new iU)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function dm(e){return R(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(q("FirestoreClient","Using default OnlineComponentProvider"),[4,aU(e,new cb)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function jP(e){return uS(e).then(function(t){return t.persistence})}function lS(e){return uS(e).then(function(t){return t.localStore})}function VP(e){return dm(e).then(function(t){return t.remoteStore})}function cS(e){return dm(e).then(function(t){return t.syncEngine})}function El(e){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return[4,dm(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=OY.bind(null,t.syncEngine),n.onUnlisten=xY.bind(null,t.syncEngine),n)]}})})}function BP(e,t,n){var r=this;n===void 0&&(n={});var i=new bn;return e.asyncQueue.enqueueAndForget(function(){return R(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return s=function(l,c,h,p,v){var m=new hm({next:function(w){c.enqueueAndForget(function(){return ZT(l,y)});var b=w.docs.has(h);!b&&w.fromCache?v.reject(new U(x.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&w.fromCache&&p&&p.source==="server"?v.reject(new U(x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(w)},error:function(w){return v.reject(w)}}),y=new tS(Bl(h.path),m,{includeMetadataChanges:!0,so:!0});return JT(l,y)},[4,El(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function $P(e,t,n){var r=this;n===void 0&&(n={});var i=new bn;return e.asyncQueue.enqueueAndForget(function(){return R(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return s=function(l,c,h,p,v){var m=new hm({next:function(w){c.enqueueAndForget(function(){return ZT(l,y)}),w.fromCache&&p.source==="server"?v.reject(new U(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(w)},error:function(w){return v.reject(w)}}),y=new tS(h,m,{includeMetadataChanges:!0,so:!0});return JT(l,y)},[4,El(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}var t7=function(e,t,n,r,i,s,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a},rg=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),qP=new Map,uU=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},zP=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t){this.changeListener=t,t(On.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),n7=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t){this.changeListener=t,t(this.token.user)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),r7=function(){function e(t){var n=this;this.oc=null,this.currentUser=On.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){n.cc++,n.currentUser=n.uc(),n.receivedInitialUser=!0,n.changeListener&&n.changeListener(n.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(r){n.auth=r,n.oc&&n.auth.addAuthTokenListener(n.oc)},function(){}))}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return t.cc!==n?(q("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(re(typeof i.accessToken=="string"),new uU(i.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},e.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return re(t===null||typeof t=="string"),new On(t)},e}(),i7=function(){function e(t,n,r){this.ac=t,this.hc=n,this.lc=r,this.type="FirstParty",this.user=On.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},n=this.ac.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),e}(),o7=function(){function e(t,n,r){this.ac=t,this.hc=n,this.lc=r}return e.prototype.getToken=function(){return Promise.resolve(new i7(this.ac,this.hc,this.lc))},e.prototype.setChangeListener=function(t){t(On.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(e,t,n){if(!n)throw new U(x.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function hS(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new U(x.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function lU(e,t,n,r){if(t===!0&&r===!0)throw new U(x.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function WP(e){if(!ee.isDocumentKey(e))throw new U(x.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function KP(e){if(ee.isDocumentKey(e))throw new U(x.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function pm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":J()}function Ce(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new U(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=pm(e);throw new U(x.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function HP(e,t){if(t<=0)throw new U(x.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GP=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new U(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new U(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,lU("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},e}(),sh=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GP({}),this._settingsFrozen=!1,t instanceof rg?(this._databaseId=t,this._credentials=new zP):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new U(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rg(r.options.projectId)}(t),this._credentials=new r7(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new U(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new U(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GP(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new zP;switch(n.type){case"gapi":var r=n.client;return re(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new o7(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new U(x.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=qP.get(t))&&(q("ComponentProvider","Removing Datastore"),qP.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),Je=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ko(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Bn=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Ko=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,Bl(i))||this)._path=i,s.type="collection",s}return H(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Je(this.firestore,null,new ee(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(Bn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=he(e),fS("collection","path",t),e instanceof sh)return KP(n=Ne.fromString.apply(Ne,me([t],r))),new Ko(e,null,n);if(!(e instanceof Je||e instanceof Ko))throw new U(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return KP(n=Ne.fromString.apply(Ne,me([e.path],r)).child(Ne.fromString(t))),new Ko(e.firestore,null,n)}function Wp(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=he(e),arguments.length===1&&(t=qM.u()),fS("doc","path",t),e instanceof sh)return WP(n=Ne.fromString.apply(Ne,me([t],r))),new Je(e,null,new ee(n));if(!(e instanceof Je||e instanceof Ko))throw new U(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return WP(n=e._path.child(Ne.fromString.apply(Ne,me([t],r)))),new Je(e.firestore,e instanceof Ko?e.converter:null,new ee(n))}function fU(e,t){return e=he(e),t=he(t),(e instanceof Je||e instanceof Ko)&&(t instanceof Je||t instanceof Ko)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function hU(e,t){return e=he(e),t=he(t),e instanceof Bn&&t instanceof Bn&&e.firestore===t.firestore&&Fh(e._query,t._query)&&e.converter===t.converter}var s7=function(){function e(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new GT(this,"async_queue_retry"),this.Ec=function(){var r=zp();r&&q("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=zp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},e.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=zp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Ec)}},e.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(n){}):this.Ic(t)},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.dc.push(t),n.Ac()})},e.prototype.Ac=function(){return R(this,void 0,void 0,function(){var t,n=this;return N(this,function(r){switch(r.label){case 0:if(this.dc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return r.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!La(t=r.sent()))throw t;return q("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji(function(){return n.Ac()}),r.label=5;case 5:return[2]}})})},e.prototype.Ic=function(t){var n=this,r=this.fc.then(function(){return n.yc=!0,t().catch(function(i){throw n.mc=i,n.yc=!1,vt("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i)),i}).then(function(i){return n.yc=!1,i})});return this.fc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var i=this;this.Tc(),this.gc.indexOf(t)>-1&&(n=0);var s=bY.createAndSchedule(this,t,n,r,function(a){return i.Rc(a)});return this._c.push(s),s},e.prototype.Tc=function(){this.mc&&J()},e.prototype.verifyOperationInProgress=function(){},e.prototype.bc=function(){return R(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return[4,t=this.fc];case 1:n.sent(),n.label=2;case 2:if(t!==this.fc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.vc=function(t){for(var n=0,r=this._c;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Pc=function(t){var n=this;return this.bc().then(function(){n._c.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var r=0,i=n._c;r<i.length;r++){var s=i[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.bc()})},e.prototype.Vc=function(t){this.gc.push(t)},e.prototype.Rc=function(t){var n=this._c.indexOf(t);this._c.splice(n,1)},e}();function bl(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,i=0,s=["next","error","complete"];i<s.length;i++){var a=s[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(e)}var a7=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new bn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(t,n,r){this._progressObserver={next:t,error:n,complete:r}},e.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},e.prototype.then=function(t,n){return this._taskCompletionResolver.promise.then(t,n)},e.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},e.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},e.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},e}(),u7=-1,ct=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).type="firestore",i._queue=new s7,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return H(t,e),t.prototype._terminate=function(){return this._firestoreClient||dU(this),this._firestoreClient.terminate()},t}(sh);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(e){return e._firestoreClient||dU(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function dU(e){var t,n=e._freezeSettings(),r=function(i,s,a,l){return new t7(i,s,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new e7(e._credentials,e._queue,r)}function QP(e,t,n){var r=this,i=new bn;return e.asyncQueue.enqueue(function(){return R(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,sU(e,n)];case 1:return a.sent(),[4,aU(e,t)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===x.FAILED_PRECONDITION||l.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function YP(e){if(e._initialized||e._terminated)throw new U(x.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yi=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new U(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kr(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),Ta=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(En.fromBase64String(t))}catch(n){throw new U(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(En.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Fa=function(e){this._methodName=e},vm=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new U(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new U(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return we(this._lat,t._lat)||we(this._long,t._long)},e}(),l7=/^__.*__$/,c7=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new fs(t,this.data,this.fieldMask,n,this.fieldTransforms):new Vh(t,this.data,n,this.fieldTransforms)},e}(),pU=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new fs(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}var gU=function(){function e(t,n,r,i,s,a){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Sc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),e.prototype.Cc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.Nc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Cc({path:r,xc:!1});return i.Fc(t),i},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Cc({path:r,xc:!1});return i.Sc(),i},e.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},e.prototype.$c=function(t){return ig(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},e.prototype.Fc=function(t){if(t.length===0)throw this.$c("Document fields must not be empty");if(vU(this.Dc)&&l7.test(t))throw this.$c('Document fields cannot begin and end with "__"')},e}(),f7=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||$h(t)}return e.prototype.Bc=function(t,n,r,i){return i===void 0&&(i=!1),new gU({Dc:t,methodName:n,Lc:r,path:kr.emptyPath(),xc:!1,Mc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Ua(e){var t=e._freezeSettings(),n=$h(e._databaseId);return new f7(e._databaseId,!!t.ignoreUndefinedProperties,n)}function gm(e,t,n,r,i,s){s===void 0&&(s={});var a=e.Bc(s.merge||s.mergeFields?2:0,t,n,i);gS("Data must be an object, but it was:",a,r);var l,c,h=_U(r,a);if(s.merge)l=new al(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){for(var p=[],v=0,m=s.mergeFields;v<m.length;v++){var y=fb(t,m[v],n);if(!a.contains(y))throw new U(x.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");EU(p,y)||p.push(y)}l=new al(p),c=a.fieldTransforms.filter(function(w){return l.covers(w.field)})}else l=null,c=a.fieldTransforms;return new c7(new Yn(h),l,c)}var dS=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return H(t,e),t.prototype._toFieldTransform=function(n){if(n.Dc!==2)throw n.Dc===1?n.$c(this._methodName+"() can only appear at the top level of your update data"):n.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Fa);function mU(e,t,n){return new gU({Dc:3,Lc:t.settings.Lc,methodName:e._methodName,xc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var h7=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return H(t,e),t.prototype._toFieldTransform=function(n){return new jh(n.path,new fl)},t.prototype.isEqual=function(n){return n instanceof t},t}(Fa),d7=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).qc=r,i}return H(t,e),t.prototype._toFieldTransform=function(n){var r=mU(this,n,!0),i=this.qc.map(function(a){return ja(a,r)}),s=new ba(i);return new jh(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Fa),p7=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).qc=r,i}return H(t,e),t.prototype._toFieldTransform=function(n){var r=mU(this,n,!0),i=this.qc.map(function(a){return ja(a,r)}),s=new Ia(i);return new jh(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Fa),v7=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Uc=r,i}return H(t,e),t.prototype._toFieldTransform=function(n){var r=new hl(n.R,rF(n.R,this.Uc));return new jh(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(Fa);function pS(e,t,n,r){var i=e.Bc(1,t,n);gS("Data must be an object, but it was:",i,r);var s=[],a=Yn.empty();Lh(r,function(c,h){var p=mS(t,c,n);h=he(h);var v=i.kc(p);if(h instanceof dS)s.push(p);else{var m=ja(h,v);m!=null&&(s.push(p),a.set(p,m))}});var l=new al(s);return new pU(a,l,i.fieldTransforms)}function vS(e,t,n,r,i,s){var a=e.Bc(1,t,n),l=[fb(t,r,n)],c=[i];if(s.length%2!=0)throw new U(x.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<s.length;h+=2)l.push(fb(t,s[h])),c.push(s[h+1]);for(var p=[],v=Yn.empty(),m=l.length-1;m>=0;--m)if(!EU(p,l[m])){var y=l[m],w=c[m];w=he(w);var b=a.kc(y);if(w instanceof dS)p.push(y);else{var S=ja(w,b);S!=null&&(p.push(y),v.set(y,S))}}var I=new al(p);return new pU(v,I,a.fieldTransforms)}function yU(e,t,n,r){return r===void 0&&(r=!1),ja(n,e.Bc(r?4:3,t))}function ja(e,t){if(wU(e=he(e)))return gS("Unsupported field value:",t,e),_U(e,t);if(e instanceof Fa)return function(n,r){if(!vU(r.Dc))throw r.$c(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.$c(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xc&&t.Dc!==4)throw t.$c("Nested arrays are not supported");return function(n,r){for(var i=[],s=0,a=0,l=n;a<l.length;a++){var c=ja(l[a],r.Oc(s));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=he(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return rF(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=Vn.fromDate(n);return{timestampValue:nh(r.R,i)}}if(n instanceof Vn)return i=new Vn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:nh(r.R,i)};if(n instanceof vm)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ta)return{bytesValue:pF(r.R,n._byteString)};if(n instanceof Je){i=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(i))throw r.$c("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:VT(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.$c("Unsupported field value: "+pm(n))}(e,t)}function _U(e,t){var n={};return WM(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Lh(e,function(r,i){var s=ja(i,t.Nc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function wU(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Vn||e instanceof vm||e instanceof Ta||e instanceof Je||e instanceof Fa)}function gS(e,t,n){if(!wU(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=pm(n);throw r==="an object"?t.$c(e+" a custom object"):t.$c(e+" "+r)}}function fb(e,t,n){if((t=he(t))instanceof yi)return t._internalPath;if(typeof t=="string")return mS(e,t);throw ig("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var g7=new RegExp("[~\\*/\\[\\]]");function mS(e,t,n){if(t.search(g7)>=0)throw ig("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(yi.bind.apply(yi,me([void 0],t.split("."))))()._internalPath}catch{throw ig("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function ig(e,t,n,r,i){var s=r&&!r.isEmpty(),a=i!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var c="";return(s||a)&&(c+=" (found",s&&(c+=" in field "+r),a&&(c+=" in document "+i),c+=")"),new U(x.INVALID_ARGUMENT,(l+=". ")+e+c)}function EU(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ah=function(){function e(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Je(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new m7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(og("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),m7=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return H(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(ah);function og(e,t){return typeof t=="string"?mS(e,t):t instanceof yi?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zs=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),Wi=function(e){function t(n,r,i,s,a,l){var c=this;return(c=e.call(this,n,r,i,s,l)||this)._firestore=n,c._firestoreImpl=n,c.metadata=a,c}return H(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new yf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.toProto(),n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(og("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},t}(ah),yf=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return H(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(Wi),ko=function(){function e(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Zs(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(i){t.call(n,new yf(r._firestore,r._userDataWriter,i.key,i,new Zs(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(l){var c=new yf(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Zs(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(l){return i||l.type!==3}).map(function(l){var c=new yf(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Zs(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),h=-1,p=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(p=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:y7(l.type),doc:c,oldIndex:h,newIndex:p}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function y7(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J()}}function bU(e,t){return e instanceof Wi&&t instanceof Wi?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof ko&&t instanceof ko&&e._firestore===t._firestore&&hU(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(e){if(Yv(e)&&e.explicitOrderBy.length===0)throw new U(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var zh=function(){};function mo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var s=i[r];e=s._apply(e)}return e}var _7=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).Qc=n,s.Kc=r,s.jc=i,s.type="where",s}return H(t,e),t.prototype._apply=function(n){var r=Ua(n.firestore),i=function(s,a,l,c,h,p,v){var m;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new U(x.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+p+"' queries on FieldPath.documentId().");if(p==="in"||p==="not-in"){tO(v,p);for(var y=[],w=0,b=v;w<b.length;w++){var S=b[w];y.push(eO(c,s,S))}m={arrayValue:{values:y}}}else m=eO(c,s,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||tO(v,p),m=yU(l,"where",v,p==="in"||p==="not-in");var I=er.create(h,p,m);return function(T,C){if(C.g()){var P=LT(T);if(P!==null&&!P.isEqual(C.field))throw new U(x.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+P.toString()+"' and '"+C.field.toString()+"'");var D=DT(T);D!==null&&SU(T,C.field,D)}var O=function(B,M){for(var ae=0,A=B.filters;ae<A.length;ae++){var Ft=A[ae];if(M.indexOf(Ft.op)>=0)return Ft.op}return null}(T,function(B){switch(B){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(C.op));if(O!==null)throw O===C.op?new U(x.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+C.op.toString()+"' filter."):new U(x.INVALID_ARGUMENT,"Invalid query. You cannot use '"+C.op.toString()+"' filters with '"+O.toString()+"' filters.")}(s,I),I}(n._query,0,r,n.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Bn(n.firestore,n.converter,function(s,a){var l=s.filters.concat([a]);return new to(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,i))},t}(zh),w7=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Qc=n,i.Wc=r,i.type="orderBy",i}return H(t,e),t.prototype._apply=function(n){var r=function(i,s,a){if(i.startAt!==null)throw new U(x.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new U(x.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new zu(s,a);return function(c,h){if(DT(c)===null){var p=LT(c);p!==null&&SU(c,p,h.field)}}(i,l),l}(n._query,this.Qc,this.Wc);return new Bn(n.firestore,n.converter,function(i,s){var a=i.explicitOrderBy.concat([s]);return new to(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},t}(zh),XP=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Gc=r,s.zc=i,s}return H(t,e),t.prototype._apply=function(n){return new Bn(n.firestore,n.converter,JM(n._query,this.Gc,this.zc))},t}(zh),JP=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=i,s}return H(t,e),t.prototype._apply=function(n){var r=TU(n,this.type,this.Hc,this.Jc);return new Bn(n.firestore,n.converter,function(i,s){return new to(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(n._query,r))},t}(zh),ZP=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=i,s}return H(t,e),t.prototype._apply=function(n){var r=TU(n,this.type,this.Hc,this.Jc);return new Bn(n.firestore,n.converter,function(i,s){return new to(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(n._query,r))},t}(zh);function TU(e,t,n,r){if(n[0]=he(n[0]),n[0]instanceof ah)return function(s,a,l,c,h){if(!c)throw new U(x.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var p=[],v=0,m=cl(s);v<m.length;v++){var y=m[v];if(y.field.isKeyField())p.push(Hv(a,c.key));else{var w=c.data.field(y.field);if(PT(w))throw new U(x.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){var b=y.field.canonicalString();throw new U(x.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+b+"' (used as the orderBy) does not exist.")}p.push(w)}}return new th(p,h)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Ua(e.firestore);return function(s,a,l,c,h,p){var v=s.explicitOrderBy;if(h.length>v.length)throw new U(x.INVALID_ARGUMENT,"Too many arguments provided to "+c+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],y=0;y<h.length;y++){var w=h[y];if(v[y].field.isKeyField()){if(typeof w!="string")throw new U(x.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+c+"(), but got a "+typeof w);if(!MT(s)&&w.indexOf("/")!==-1)throw new U(x.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+c+"() must be a plain document ID, but '"+w+"' contains a slash.");var b=s.path.child(Ne.fromString(w));if(!ee.isDocumentKey(b))throw new U(x.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+c+"() must result in a valid document path, but '"+b+"' is not because it contains an odd number of segments.");var S=new ee(b);m.push(Hv(a,S))}else{var I=yU(l,c,w);m.push(I)}}return new th(m,p)}(e._query,e.firestore._databaseId,i,t,n,r)}function eO(e,t,n){if(typeof(n=he(n))=="string"){if(n==="")throw new U(x.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!MT(t)&&n.indexOf("/")!==-1)throw new U(x.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Ne.fromString(n));if(!ee.isDocumentKey(r))throw new U(x.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Hv(e,new ee(r))}if(n instanceof Je)return Hv(e,n._key);throw new U(x.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+pm(n)+".")}function tO(e,t){if(!Array.isArray(e)||e.length===0)throw new U(x.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new U(x.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function SU(e,t,n){if(!n.isEqual(t))throw new U(x.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yS=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),ns(t)){case 0:return null;case 1:return t.booleanValue;case 2:return dt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ul(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw J()}},e.prototype.convertObject=function(t,n){var r=this,i={};return Lh(t.fields||{},function(s,a){i[s]=r.convertValue(a,n)}),i},e.prototype.convertGeoPoint=function(t){return new vm(dt(t.latitude),dt(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(i){return r.convertValue(i,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=HM(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Zf(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=ts(t);return new Vn(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=Ne.fromString(t);re(IF(r));var i=new rg(r.get(1),r.get(3)),s=new ee(r.popFirst(5));return i.isEqual(n)||vt("Document "+s+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var E7=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return H(t,e),t.prototype.convertBytes=function(n){return new Ta(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Je(this.firestore,null,r)},t}(yS),b7=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ua(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var i=No(t,this._firestore),s=mm(i.converter,n,r),a=gm(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,tn.none())),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];this._verifyNotCommitted();var a,l=No(t,this._firestore);return a=typeof(n=he(n))=="string"||n instanceof yi?vS(this._dataReader,"WriteBatch.update",l._key,n,r,i):pS(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,tn.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=No(t,this._firestore);return this._mutations=this._mutations.concat(new Bh(n._key,tn.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new U(x.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(e,t){if((e=he(e)).firestore!==t)throw new U(x.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aa=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return H(t,e),t.prototype.convertBytes=function(n){return new Ta(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Je(this.firestore,null,r)},t}(yS);function nO(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Ce(e,Je);var s=Ce(e.firestore,ct),a=Ua(s);return uh(s,[(typeof(t=he(t))=="string"||t instanceof yi?vS(a,"updateDoc",e._key,t,n,r):pS(a,"updateDoc",e._key,t)).toMutation(e._key,tn.exists(!0))])}function CU(e){for(var t,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];e=he(e);var a={includeMetadataChanges:!1},l=0;typeof i[l]!="object"||bl(i[l])||(a=i[l],l++);var c,h,p,v={includeMetadataChanges:a.includeMetadataChanges};if(bl(i[l])){var m=i[l];i[l]=(t=m.next)===null||t===void 0?void 0:t.bind(m),i[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),i[l+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}if(e instanceof Je)h=Ce(e.firestore,ct),p=Bl(e._key.path),c={next:function(b){i[l]&&i[l](hb(h,e,b))},error:i[l+1],complete:i[l+2]};else{var y=Ce(e,Bn);h=Ce(y.firestore,ct),p=y._query;var w=new aa(h);c={next:function(b){i[l]&&i[l](new ko(h,w,y,b))},error:i[l+1],complete:i[l+2]},IU(e._query)}return function(b,S,I,T){var C=this,P=new hm(T),D=new tS(S,P,I);return b.asyncQueue.enqueueAndForget(function(){return R(C,void 0,void 0,function(){var O;return N(this,function(B){switch(B.label){case 0:return O=JT,[4,El(b)];case 1:return[2,O.apply(void 0,[B.sent(),D])]}})})}),function(){P.Wo(),b.asyncQueue.enqueueAndForget(function(){return R(C,void 0,void 0,function(){var O;return N(this,function(B){switch(B.label){case 0:return O=ZT,[4,El(b)];case 1:return[2,O.apply(void 0,[B.sent(),D])]}})})})}}(xt(h),p,v,c)}function uh(e,t){return function(n,r){var i=this,s=new bn;return n.asyncQueue.enqueueAndForget(function(){return R(i,void 0,void 0,function(){var a;return N(this,function(l){switch(l.label){case 0:return a=DY,[4,cS(n)];case 1:return[2,a.apply(void 0,[l.sent(),r,s])]}})})}),s.promise}(xt(e),t)}function hb(e,t,n){var r=n.docs.get(t._key),i=new aa(e);return new Wi(e,i,t._key,r,new Zs(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I7=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this)._firestore=n,i}return H(t,e),t.prototype.get=function(n){var r=this,i=No(n,this._firestore),s=new aa(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new Wi(r._firestore,s,i._key,a._document,new Zs(!1,!1),i.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Ua(t)}return e.prototype.get=function(t){var n=this,r=No(t,this._firestore),i=new E7(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return J();var a=s[0];if(a.isFoundDocument())return new ah(n._firestore,i,a.key,a,r.converter);if(a.isNoDocument())return new ah(n._firestore,i,r._key,null,r.converter);throw J()})},e.prototype.set=function(t,n,r){var i=No(t,this._firestore),s=mm(i.converter,n,r),a=gm(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,a),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var a,l=No(t,this._firestore);return a=typeof(n=he(n))=="string"||n instanceof yi?vS(this._dataReader,"Transaction.update",l._key,n,r,i):pS(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},e.prototype.delete=function(t){var n=No(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(){if(typeof Uint8Array>"u")throw new U(x.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function iO(){if(typeof atob>"u")throw new U(x.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var kU=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return iO(),new e(Ta.fromBase64String(t))},e.fromUint8Array=function(t){return rO(),new e(Ta.fromUint8Array(t))},e.prototype.toBase64=function(){return iO(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return rO(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),T7=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,i){YP(r=Ce(r,ct));var s=xt(r),a=r._freezeSettings(),l=new cb;return QP(s,l,new oU(l,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){YP(n=Ce(n,ct));var r=xt(n),i=n._freezeSettings(),s=new cb;return QP(r,s,new YY(s,i.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new U(x.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new bn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return R(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return R(this,void 0,void 0,function(){var c;return N(this,function(h){switch(h.label){case 0:return vl.yt()?(c=l+"main",[4,vl.delete(c)]):[2,Promise.resolve()];case 1:return h.sent(),[2]}})})}(KT(n._databaseId,n._persistenceKey))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return s=a.sent(),i.reject(s),[3,3];case 3:return[2]}})})}),i.promise}(t._delegate)},e}(),_S=function(){function e(t,n,r){var i=this;this._delegate=n,this.Yc=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof rg||(this.Xc=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(i,s,a,l){l===void 0&&(l={});var c=(i=Ce(i,sh))._getSettings();if(c.host!=="firestore.googleapis.com"&&c.host!==s&&Wv("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},c),{host:s+":"+a,ssl:!1})),l.mockUserToken){var h=nL(l.mockUserToken),p=l.mockUserToken.sub||l.mockUserToken.user_id;if(!p)throw new U(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");i._credentials=new n7(new uU(h,new On(p)))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return R(n,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return[4,jP(t)];case 1:return r=s.sent(),[4,VP(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!0),function(a){var l=K(a);return l.$r.delete(0),qh(l)}(i))]}})})})}(xt(Ce(this._delegate,ct)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return R(n,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return[4,jP(t)];case 1:return r=s.sent(),[4,VP(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!1),function(a){return R(this,void 0,void 0,function(){var l;return N(this,function(c){switch(c.label){case 0:return(l=K(a)).$r.add(0),[4,ql(l)];case 1:return c.sent(),l.Br.set("Offline"),[2]}})})}(i))]}})})})}(xt(Ce(this._delegate,ct)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&lU("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new bn;return t.asyncQueue.enqueueAndForget(function(){return R(n,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:return i=UY,[4,cS(t)];case 1:return[2,i.apply(void 0,[s.sent(),r])]}})})}),r.promise}(xt(Ce(this._delegate,ct)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(i,s){var a=this,l=new hm(s);return i.asyncQueue.enqueueAndForget(function(){return R(a,void 0,void 0,function(){var c;return N(this,function(h){switch(h.label){case 0:return c=function(p,v){K(p).Gr.add(v),v.next()},[4,El(i)];case 1:return[2,c.apply(void 0,[h.sent(),l])]}})})}),function(){l.Wo(),i.asyncQueue.enqueueAndForget(function(){return R(a,void 0,void 0,function(){var c;return N(this,function(h){switch(h.label){case 0:return c=function(p,v){K(p).Gr.delete(v)},[4,El(i)];case 1:return[2,c.apply(void 0,[h.sent(),l])]}})})})}}(xt(n=Ce(n,ct)),bl(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Xc)throw new U(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new sg(this,cU(this._delegate,t))}catch(n){throw pn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new ua(this,Wp(this._delegate,t))}catch(n){throw pn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Wh(this,function(n,r){if(n=Ce(n,sh),fS("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new U(x.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Bn(n,null,function(i){return new to(Ne.emptyPath(),i)}(r))}(this._delegate,t))}catch(n){throw pn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,i){return function(s,a){var l=this,c=new bn;return s.asyncQueue.enqueueAndForget(function(){return R(l,void 0,void 0,function(){var h;return N(this,function(p){switch(p.label){case 0:return[4,function(v){return dm(v).then(function(m){return m.datastore})}(s)];case 1:return h=p.sent(),new ZY(s.asyncQueue,h,a,c).run(),[2]}})})}),c.promise}(xt(r),function(s){return i(new I7(r,s))})}(this._delegate,function(r){return t(new NU(n,r))})},e.prototype.batch=function(){var t=this;return xt(this._delegate),new AU(new b7(this._delegate,function(n){return uh(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new U(x.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new U(x.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),ym=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return H(t,e),t.prototype.convertBytes=function(n){return new kU(new Ta(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return ua.Zc(r,this.firestore,null)},t}(yS);function S7(e){var t;t=e,Yr.setLogLevel(t)}var NU=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new ym(t)}return e.prototype.get=function(t){var n=this,r=ea(t);return this._delegate.get(r).then(function(i){return new lh(n._firestore,new Wi(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},e.prototype.set=function(t,n,r){var i=ea(t);return r?(hS("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=ea(t);return arguments.length===2?this._delegate.update(l,n):(i=this._delegate).update.apply(i,me([l,n,r],s)),this},e.prototype.delete=function(t){var n=ea(t);return this._delegate.delete(n),this},e}(),AU=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var i=ea(t);return r?(hS("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=ea(t);return arguments.length===2?this._delegate.update(l,n):(i=this._delegate).update.apply(i,me([l,n,r],s)),this},e.prototype.delete=function(t){var n=ea(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),_m=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new yf(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new ch(this._firestore,r),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.tu=function(t,n){var r=e.eu,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var s=i.get(n);return s||(s=new e(t,new ym(t),n),i.set(n,s)),s},e}();_m.eu=new WeakMap;var ua=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new ym(t)}return e.nu=function(t,n,r){if(t.length%2!=0)throw new U(x.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Je(n._delegate,r,new ee(t)))},e.Zc=function(t,n,r){return new e(n,new Je(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new sg(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new sg(this.firestore,cU(this._delegate,t))}catch(n){throw pn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=he(t))instanceof Je&&fU(this._delegate,t)},e.prototype.set=function(t,n){n=hS("DocumentReference.set",n);try{return function(r,i,s){r=Ce(r,Je);var a=Ce(r.firestore,ct),l=mm(r.converter,i,s);return uh(a,[gm(Ua(a),"setDoc",r._key,l,r.converter!==null,s).toMutation(r._key,tn.none())])}(this._delegate,t,n)}catch(r){throw pn(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?nO(this._delegate,t):nO.apply(void 0,me([this._delegate,t,n],r))}catch(s){throw pn(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return uh(Ce((t=this._delegate).firestore,ct),[new Bh(t._key,tn.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=RU(n),s=PU(n,function(a){return new lh(t.firestore,new Wi(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return CU(this._delegate,i,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Ce(r,Je);var i=Ce(r.firestore,ct),s=xt(i),a=new aa(i);return function(l,c){var h=this,p=new bn;return l.asyncQueue.enqueueAndForget(function(){return R(h,void 0,void 0,function(){var v;return N(this,function(m){switch(m.label){case 0:return v=function(y,w,b){return R(this,void 0,void 0,function(){var S,I;return N(this,function(T){switch(T.label){case 0:return T.trys.push([0,2,,3]),[4,function(C,P){var D=K(C);return D.persistence.runTransaction("read document","readonly",function(O){return D.Mn.mn(O,P)})}(y,w)];case 1:return(I=T.sent()).isFoundDocument()?b.resolve(I):I.isNoDocument()?b.resolve(null):b.reject(new U(x.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return S=T.sent(),I=Kl(S,"Failed to get document '"+w+" from cache"),b.reject(I),[3,3];case 3:return[2]}})})},[4,lS(l)];case 1:return[2,v.apply(void 0,[m.sent(),c,p])]}})})}),p.promise}(s,r._key).then(function(l){return new Wi(i,a,r._key,l,new Zs(l!==null&&l.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Ce(r,Je);var i=Ce(r.firestore,ct);return BP(xt(i),r._key,{source:"server"}).then(function(s){return hb(i,r,s)})}(this._delegate):function(r){r=Ce(r,Je);var i=Ce(r.firestore,ct);return BP(xt(i),r._key).then(function(s){return hb(i,r,s)})}(this._delegate)).then(function(r){return new lh(n.firestore,new Wi(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(_m.tu(this.firestore,t)):this._delegate.withConverter(null))},e}();function pn(e,t,n){return e.message=e.message.replace(t,n),e}function RU(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!bl(r))return r}return{}}function PU(e,t){var n,r,i;return{next:function(s){i.next&&i.next(t(s))},error:(n=(i=bl(e[0])?e[0]:bl(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var lh=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new ua(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return bU(this._delegate,t._delegate)},e}(),ch=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return H(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(lh),Wh=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new ym(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,mo(this._delegate,function(i,s,a){var l=s,c=og("where",i);return new _7(c,l,a)}(t,n,r)))}catch(i){throw pn(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,mo(this._delegate,function(r,i){i===void 0&&(i="asc");var s=i,a=og("orderBy",r);return new w7(a,s)}(t,n)))}catch(r){throw pn(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,mo(this._delegate,function(n){return HP("limit",n),new XP("limit",n,"F")}(t)))}catch(n){throw pn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,mo(this._delegate,function(n){return HP("limitToLast",n),new XP("limitToLast",n,"L")}(t)))}catch(n){throw pn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,mo(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new JP("startAt",r,!0)}.apply(void 0,t)))}catch(r){throw pn(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,mo(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new JP("startAfter",r,!1)}.apply(void 0,t)))}catch(r){throw pn(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,mo(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new ZP("endBefore",r,!0)}.apply(void 0,t)))}catch(r){throw pn(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,mo(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new ZP("endAt",r,!1)}.apply(void 0,t)))}catch(r){throw pn(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return hU(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Ce(r,Bn);var i=Ce(r.firestore,ct),s=xt(i),a=new aa(i);return function(l,c){var h=this,p=new bn;return l.asyncQueue.enqueueAndForget(function(){return R(h,void 0,void 0,function(){var v;return N(this,function(m){switch(m.label){case 0:return v=function(y,w,b){return R(this,void 0,void 0,function(){var S,I,T,C,P;return N(this,function(D){switch(D.label){case 0:return D.trys.push([0,2,,3]),[4,eg(y,w,!0)];case 1:return P=D.sent(),S=new eU(w,P.Bn),I=S._o(P.documents),T=S.applyChanges(I,!1),b.resolve(T.snapshot),[3,3];case 2:return C=D.sent(),P=Kl(C,"Failed to execute query '"+w+" against cache"),b.reject(P),[3,3];case 3:return[2]}})})},[4,lS(l)];case 1:return[2,v.apply(void 0,[m.sent(),c,p])]}})})}),p.promise}(s,r._query).then(function(l){return new ko(i,a,r,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Ce(r,Bn);var i=Ce(r.firestore,ct),s=xt(i),a=new aa(i);return $P(s,r._query,{source:"server"}).then(function(l){return new ko(i,a,r,l)})}(this._delegate):function(r){r=Ce(r,Bn);var i=Ce(r.firestore,ct),s=xt(i),a=new aa(i);return IU(r._query),$P(s,r._query).then(function(l){return new ko(i,a,r,l)})}(this._delegate)).then(function(r){return new db(n.firestore,new ko(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=RU(n),s=PU(n,function(a){return new db(t.firestore,new ko(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return CU(this._delegate,i,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(_m.tu(this.firestore,t)):this._delegate.withConverter(null))},e}(),C7=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new ch(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),db=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new Wh(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new ch(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new C7(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(i){t.call(n,new ch(r._firestore,i))})},e.prototype.isEqual=function(t){return bU(this._delegate,t._delegate)},e}(),sg=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i._delegate=r,i}return H(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new ua(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new ua(this.firestore,n===void 0?Wp(this._delegate):Wp(this._delegate,n))}catch(r){throw pn(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(i,s){var a=Ce(i.firestore,ct),l=Wp(i),c=mm(i.converter,s);return uh(a,[gm(Ua(i.firestore),"addDoc",l._key,c,i.converter!==null,{}).toMutation(l._key,tn.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(i){return new ua(r.firestore,i)})},t.prototype.isEqual=function(n){return fU(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(_m.tu(this.firestore,n)):this._delegate.withConverter(null))},t}(Wh);function ea(e){return Ce(e,Je)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var k7=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(yi.bind.apply(yi,me([void 0],t)))}return e.documentId=function(){return new e(kr.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=he(t))instanceof yi&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),N7=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new h7("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new dS("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new d7("arrayUnion",i)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new p7("arrayRemove",i)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new v7("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A7(e){return function(t,n){var r=xt(t=Ce(t,ct)),i=new a7;return function(s,a,l,c){var h=this,p=function(v,m){return function(y,w){return new XY(y,w)}(function(y,w){if(y instanceof Uint8Array)return UP(y,w);if(y instanceof ArrayBuffer)return UP(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof v=="string"?new TextEncoder().encode(v):v),m)}(l,$h(a));s.asyncQueue.enqueueAndForget(function(){return R(h,void 0,void 0,function(){var v;return N(this,function(m){switch(m.label){case 0:return v=QY,[4,cS(s)];case 1:return v.apply(void 0,[m.sent(),p,c]),[2]}})})})}(r,t._databaseId,n,i),i}(this._delegate,e)}function R7(e){var t,n,r=this;return(t=this._delegate,n=e,function(i,s){var a=this;return i.asyncQueue.enqueue(function(){return R(a,void 0,void 0,function(){var l;return N(this,function(c){switch(c.label){case 0:return l=function(h,p){var v=K(h);return v.persistence.runTransaction("Get named query","readonly",function(m){return v.Qe.getNamedQuery(m,p)})},[4,lS(i)];case 1:return[2,l.apply(void 0,[c.sent(),s])]}})})})}(xt(t=Ce(t,ct)),n).then(function(i){return i?new Bn(t,null,i.query):null})).then(function(i){return i?new Wh(r,i):null})}var P7={Firestore:_S,GeoPoint:vm,Timestamp:Vn,Blob:kU,Transaction:NU,WriteBatch:AU,DocumentReference:ua,DocumentSnapshot:lh,Query:Wh,QueryDocumentSnapshot:ch,QuerySnapshot:db,CollectionReference:sg,FieldPath:k7,FieldValue:N7,setLogLevel:S7,CACHE_SIZE_UNLIMITED:u7};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O7(e){(function(t,n){t.INTERNAL.registerComponent(new $n("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},P7)))})(e,function(t,n){return new _S(t,new ct(t,n),new T7)}),e.registerVersion("@firebase/firestore","2.3.0")}O7(Z);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x7(e){e.prototype.loadBundle=A7,e.prototype.namedQuery=R7}x7(_S);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oO={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Wu=function(e){H(t,e);function t(n,r,i){var s=e.call(this,r)||this;return Object.setPrototypeOf(s,t.prototype),s.code=n,s.details=i,s}return t}(Error);function D7(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function L7(e,t,n){var r=D7(e),i=r,s=void 0;try{var a=t&&t.error;if(a){var l=a.status;if(typeof l=="string"){if(!oO[l])return new Wu("internal","internal");r=oO[l],i=l}var c=a.message;typeof c=="string"&&(i=c),s=a.details,s!==void 0&&(s=n.decode(s))}}catch{}return r==="ok"?null:new Wu(r,i,s)}var M7=function(){function e(t,n){var r=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(function(i){return r.auth=i},function(){}),this.messaging||n.get().then(function(i){return r.messaging=i},function(){})}return e.prototype.getAuthToken=function(){return R(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return t=n.sent(),t?[2,t.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getInstanceIdToken=function(){return R(this,void 0,void 0,function(){return N(this,function(t){if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];try{return[2,this.messaging.getToken()]}catch{return[2,void 0]}return[2]})})},e.prototype.getContext=function(){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return t=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:t,instanceIdToken:n}]}})})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var F7="type.googleapis.com/google.protobuf.Int64Value",U7="type.googleapis.com/google.protobuf.UInt64Value";function sO(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var j7=function(){function e(){}return e.prototype.encode=function(t){var n=this;if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(Array.isArray(t))return t.map(function(r){return n.encode(r)});if(typeof t=="function"||typeof t=="object")return sO(t,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+t)},e.prototype.decode=function(t){var n=this;if(t==null)return t;if(t["@type"])switch(t["@type"]){case F7:case U7:{var r=Number(t.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+t);return r}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(i){return n.decode(i)}):typeof t=="function"||typeof t=="object"?sO(t,function(i){return n.decode(i)}):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V7(e){var t,n=new Promise(function(r,i){t=setTimeout(function(){i(new Wu("deadline-exceeded","deadline-exceeded"))},e)});return{timer:t,promise:n}}var aO=function(){function e(t,n,r,i,s,a){var l=this;s===void 0&&(s="us-central1"),this.app_=t,this.appCheckProvider=i,this.fetchImpl=a,this.serializer=new j7,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(l.deleteService())}},this.contextProvider=new M7(n,r),this.cancelAllRequests=new Promise(function(h){l.deleteService=function(){return h()}});try{var c=new URL(s);this.customDomain=c.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=s}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(t){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+t}return this.customDomain!==null?this.customDomain+"/"+t:"https://"+this.region+"-"+n+".cloudfunctions.net/"+t},e.prototype.useEmulator=function(t,n){this.emulatorOrigin="http://"+t+":"+n},e.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},e.prototype.httpsCallable=function(t,n){var r=this;return function(i){return r.call(t,i,n||{})}},e.prototype.postJSON=function(t,n,r){return R(this,void 0,void 0,function(){var i,s,a;return N(this,function(l){switch(l.label){case 0:return r["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:i=l.sent(),i!==null&&(r["X-Firebase-AppCheck"]=i),l.label=2;case 2:return l.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(n),headers:r})];case 3:return s=l.sent(),[3,5];case 4:return l.sent(),[2,{status:0,json:null}];case 5:a=null,l.label=6;case 6:return l.trys.push([6,8,,9]),[4,s.json()];case 7:return a=l.sent(),[3,9];case 8:return l.sent(),[3,9];case 9:return[2,{status:s.status,json:a}]}})})},e.prototype.getAppCheckToken=function(){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return t=this.appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype.call=function(t,n,r){return R(this,void 0,void 0,function(){var i,s,a,l,c,h,p,v,m,y,w,b;return N(this,function(S){switch(S.label){case 0:return i=this._url(t),n=this.serializer.encode(n),s={data:n},a={},[4,this.contextProvider.getContext()];case 1:return l=S.sent(),l.authToken&&(a.Authorization="Bearer "+l.authToken),l.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=l.instanceIdToken),c=r.timeout||7e4,h=V7(c),p=h.timer,v=h.promise,[4,Promise.race([uO(p,this.postJSON(i,s,a)),v,uO(p,this.cancelAllRequests)])];case 2:if(m=S.sent(),!m)throw new Wu("cancelled","Firebase Functions instance was deleted.");if(y=L7(m.status,m.json,this.serializer),y)throw y;if(!m.json)throw new Wu("internal","Response is not valid JSON object.");if(w=m.json.data,typeof w>"u"&&(w=m.json.result),typeof w>"u")throw new Wu("internal","Response is missing data field.");return b=this.serializer.decode(w),[2,{data:b}]}})})},e}();function uO(e,t){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B7="functions";function $7(e,t){var n={Functions:aO};function r(i,s){var a=s.instanceIdentifier,l=i.getProvider("app").getImmediate(),c=i.getProvider("auth-internal"),h=i.getProvider("app-check-internal"),p=i.getProvider("messaging");return new aO(l,c,p,h,a,t)}e.INTERNAL.registerComponent(new $n(B7,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var q7="@firebase/functions",z7="0.6.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$7(Z,fetch.bind(self));Z.registerVersion(q7,z7);function W7(e){return Array.prototype.slice.call(e)}function OU(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function wm(e,t,n){var r,i=new Promise(function(s,a){r=e[t].apply(e,n),OU(r).then(s,a)});return i.request=r,i}function K7(e,t,n){var r=wm(e,t,n);return r.then(function(i){if(i)return new fh(i,r.request)})}function Hl(e,t,n){n.forEach(function(r){Object.defineProperty(e.prototype,r,{get:function(){return this[t][r]},set:function(i){this[t][r]=i}})})}function wS(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return wm(this[t],i,arguments)})})}function Em(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return this[t][i].apply(this[t],arguments)})})}function xU(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return K7(this[t],i,arguments)})})}function Va(e){this._index=e}Hl(Va,"_index",["name","keyPath","multiEntry","unique"]);wS(Va,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);xU(Va,"_index",IDBIndex,["openCursor","openKeyCursor"]);function fh(e,t){this._cursor=e,this._request=t}Hl(fh,"_cursor",["direction","key","primaryKey","value"]);wS(fh,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(fh.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,n),OU(t._request).then(function(r){if(r)return new fh(r,t._request)})})})});function Ci(e){this._store=e}Ci.prototype.createIndex=function(){return new Va(this._store.createIndex.apply(this._store,arguments))};Ci.prototype.index=function(){return new Va(this._store.index.apply(this._store,arguments))};Hl(Ci,"_store",["name","keyPath","indexNames","autoIncrement"]);wS(Ci,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);xU(Ci,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);Em(Ci,"_store",IDBObjectStore,["deleteIndex"]);function Kh(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}Kh.prototype.objectStore=function(){return new Ci(this._tx.objectStore.apply(this._tx,arguments))};Hl(Kh,"_tx",["objectStoreNames","mode"]);Em(Kh,"_tx",IDBTransaction,["abort"]);function bm(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new Kh(n)}bm.prototype.createObjectStore=function(){return new Ci(this._db.createObjectStore.apply(this._db,arguments))};Hl(bm,"_db",["name","version","objectStoreNames"]);Em(bm,"_db",IDBDatabase,["deleteObjectStore","close"]);function Im(e){this._db=e}Im.prototype.transaction=function(){return new Kh(this._db.transaction.apply(this._db,arguments))};Hl(Im,"_db",["name","version","objectStoreNames"]);Em(Im,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(e){[Ci,Va].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var n=W7(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})});[Va,Ci].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(t,n){var r=this,i=[];return new Promise(function(s){r.iterateCursor(t,function(a){if(!a){s(i);return}if(i.push(a.value),n!==void 0&&i.length==n){s(i);return}a.continue()})})})});function ES(e,t,n){var r=wm(indexedDB,"open",[e,t]),i=r.request;return i&&(i.onupgradeneeded=function(s){n&&n(new bm(i.result,s.oldVersion,i.transaction))}),r.then(function(s){return new Im(s)})}function rw(e){return wm(indexedDB,"deleteDatabase",[e])}var H7="@firebase/installations",DU="0.4.26";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LU=1e4,MU="w:"+DU,FU="FIS_v2",G7="https://firebaseinstallations.googleapis.com/v1",Q7=60*60*1e3,Y7="installations",X7="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yo,J7=(yo={},yo["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',yo["not-registered"]="Firebase Installation is not registered.",yo["installation-not-found"]="Firebase Installation not found.",yo["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',yo["app-offline"]="Could not process request. Application offline.",yo["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",yo),Ji=new as(Y7,X7,J7);function UU(e){return e instanceof Ol&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(e){var t=e.projectId;return G7+"/projects/"+t+"/installations"}function jU(e){return{token:e.token,requestStatus:2,expiresIn:Z7(e.expiresIn),creationTime:Date.now()}}function IS(e,t){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,Ji.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function VU(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function BU(e,t){var n=t.refreshToken,r=VU(e);return r.append("Authorization",eX(n)),r}function TS(e){return R(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),t.status>=500&&t.status<600?[2,e()]:[2,t]}})})}function Z7(e){return Number(e.replace("s","000"))}function eX(e){return FU+" "+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tX(e,t){var n=t.fid;return R(this,void 0,void 0,function(){var r,i,s,a,l,c,h;return N(this,function(p){switch(p.label){case 0:return r=bS(e),i=VU(e),s={fid:n,authVersion:FU,appId:e.appId,sdkVersion:MU},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,TS(function(){return fetch(r,a)})];case 1:return l=p.sent(),l.ok?[4,l.json()]:[3,3];case 2:return c=p.sent(),h={fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:jU(c.authToken)},[2,h];case 3:return[4,IS("Create Installation",l)];case 4:throw p.sent()}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nX(e){var t=btoa(String.fromCharCode.apply(String,me([],$t(e))));return t.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rX=/^[cdef][\w-]{21}$/,pb="";function iX(){try{var e=new Uint8Array(17),t=self.crypto||self.msCrypto;t.getRandomValues(e),e[0]=112+e[0]%16;var n=oX(e);return rX.test(n)?n:pb}catch{return pb}}function oX(e){var t=nX(e);return t.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(e){return e.appName+"!"+e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Il=new Map;function qU(e,t){var n=Gl(e);zU(n,t),uX(n,t)}function sX(e,t){WU();var n=Gl(e),r=Il.get(n);r||(r=new Set,Il.set(n,r)),r.add(t)}function aX(e,t){var n=Gl(e),r=Il.get(n);r&&(r.delete(t),r.size===0&&Il.delete(n),KU())}function zU(e,t){var n,r,i=Il.get(e);if(i)try{for(var s=Mt(i),a=s.next();!a.done;a=s.next()){var l=a.value;l(t)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}function uX(e,t){var n=WU();n&&n.postMessage({key:e,fid:t}),KU()}var ta=null;function WU(){return!ta&&"BroadcastChannel"in self&&(ta=new BroadcastChannel("[Firebase] FID Change"),ta.onmessage=function(e){zU(e.data.key,e.data.fid)}),ta}function KU(){Il.size===0&&ta&&(ta.close(),ta=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lX="firebase-installations-database",cX=1,Sa="firebase-installations-store",iw=null;function SS(){return iw||(iw=ES(lX,cX,function(e){switch(e.oldVersion){case 0:e.createObjectStore(Sa)}})),iw}function ag(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(l){switch(l.label){case 0:return n=Gl(e),[4,SS()];case 1:return r=l.sent(),i=r.transaction(Sa,"readwrite"),s=i.objectStore(Sa),[4,s.get(n)];case 2:return a=l.sent(),[4,s.put(t,n)];case 3:return l.sent(),[4,i.complete];case 4:return l.sent(),(!a||a.fid!==t.fid)&&qU(e,t.fid),[2,t]}})})}function CS(e){return R(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return t=Gl(e),[4,SS()];case 1:return n=i.sent(),r=n.transaction(Sa,"readwrite"),[4,r.objectStore(Sa).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function Hh(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l;return N(this,function(c){switch(c.label){case 0:return n=Gl(e),[4,SS()];case 1:return r=c.sent(),i=r.transaction(Sa,"readwrite"),s=i.objectStore(Sa),[4,s.get(n)];case 2:return a=c.sent(),l=t(a),l!==void 0?[3,4]:[4,s.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,s.put(l,n)];case 5:c.sent(),c.label=6;case 6:return[4,i.complete];case 7:return c.sent(),l&&(!a||a.fid!==l.fid)&&qU(e,l.fid),[2,l]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(e){return R(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return[4,Hh(e,function(s){var a=fX(s),l=hX(e,a);return t=l.registrationPromise,l.installationEntry})];case 1:return n=i.sent(),n.fid!==pb?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}})})}function fX(e){var t=e||{fid:iX(),registrationStatus:0};return HU(t)}function hX(e,t){if(t.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(Ji.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=dX(e,r);return{installationEntry:r,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:pX(e)}:{installationEntry:t}}function dX(e,t){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,tX(e,t)];case 1:return n=i.sent(),[2,ag(e,n)];case 2:return r=i.sent(),UU(r)&&r.customData.serverCode===409?[4,CS(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,ag(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function pX(e){return R(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,lO(e)];case 1:t=s.sent(),s.label=2;case 2:return t.registrationStatus!==1?[3,5]:[4,$U(100)];case 3:return s.sent(),[4,lO(e)];case 4:return t=s.sent(),[3,2];case 5:return t.registrationStatus!==0?[3,7]:[4,kS(e)];case 6:return n=s.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,t]}})})}function lO(e){return Hh(e,function(t){if(!t)throw Ji.create("installation-not-found");return HU(t)})}function HU(e){return vX(e)?{fid:e.fid,registrationStatus:0}:e}function vX(e){return e.registrationStatus===1&&e.registrationTime+LU<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gX(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return R(this,void 0,void 0,function(){var i,s,a,l,c,h,p,v;return N(this,function(m){switch(m.label){case 0:return i=mX(n,t),s=BU(n,t),a=r.getImmediate({optional:!0}),a&&s.append("x-firebase-client",a.getPlatformInfoString()),l={installation:{sdkVersion:MU}},c={method:"POST",headers:s,body:JSON.stringify(l)},[4,TS(function(){return fetch(i,c)})];case 1:return h=m.sent(),h.ok?[4,h.json()]:[3,3];case 2:return p=m.sent(),v=jU(p),[2,v];case 3:return[4,IS("Generate Auth Token",h)];case 4:throw m.sent()}})})}function mX(e,t){var n=t.fid;return bS(e)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(e,t){return t===void 0&&(t=!1),R(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return[4,Hh(e.appConfig,function(l){if(!GU(l))throw Ji.create("not-registered");var c=l.authToken;if(!t&&wX(c))return l;if(c.requestStatus===1)return n=yX(e,t),l;if(!navigator.onLine)throw Ji.create("app-offline");var h=bX(l);return n=_X(e,h),h})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return s=a.sent(),[3,4];case 3:s=r.authToken,a.label=4;case 4:return i=s,[2,i]}})})}function yX(e,t){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,cO(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,$U(100)];case 3:return i.sent(),[4,cO(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,NS(e,t)]:[2,r]}})})}function cO(e){return Hh(e,function(t){if(!GU(t))throw Ji.create("not-registered");var n=t.authToken;return IX(n)?Me(Me({},t),{authToken:{requestStatus:0}}):t})}function _X(e,t){return R(this,void 0,void 0,function(){var n,i,r,i;return N(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,gX(e,t)];case 1:return n=s.sent(),i=Me(Me({},t),{authToken:n}),[4,ag(e.appConfig,i)];case 2:return s.sent(),[2,n];case 3:return r=s.sent(),UU(r)&&(r.customData.serverCode===401||r.customData.serverCode===404)?[4,CS(e.appConfig)]:[3,5];case 4:return s.sent(),[3,7];case 5:return i=Me(Me({},t),{authToken:{requestStatus:0}}),[4,ag(e.appConfig,i)];case 6:s.sent(),s.label=7;case 7:throw r;case 8:return[2]}})})}function GU(e){return e!==void 0&&e.registrationStatus===2}function wX(e){return e.requestStatus===2&&!EX(e)}function EX(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Q7}function bX(e){var t={requestStatus:1,requestTime:Date.now()};return Me(Me({},e),{authToken:t})}function IX(e){return e.requestStatus===1&&e.requestTime+LU<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TX(e){return R(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return[4,kS(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,r=t.registrationPromise,r?r.catch(console.error):NS(e).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SX(e,t){return t===void 0&&(t=!1),R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,CX(e.appConfig)];case 1:return r.sent(),[4,NS(e,t)];case 2:return n=r.sent(),[2,n.token]}})})}function CX(e){return R(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return[4,kS(e)];case 1:return t=n.sent().registrationPromise,t?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kX(e,t){return R(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=NX(e,t),r=BU(e,t),i={method:"DELETE",headers:r},[4,TS(function(){return fetch(n,i)})];case 1:return s=a.sent(),s.ok?[3,3]:[4,IS("Delete Installation",s)];case 2:throw a.sent();case 3:return[2]}})})}function NX(e,t){var n=t.fid;return bS(e)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AX(e){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return t=e.appConfig,[4,Hh(t,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw Ji.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw Ji.create("app-offline");case 3:return[4,kX(t,n)];case 4:return r.sent(),[4,CS(t)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RX(e,t){var n=e.appConfig;return sX(n,t),function(){aX(n,t)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PX(e){var t,n;if(!e||!e.options)throw ow("App Configuration");if(!e.name)throw ow("App Name");var r=["projectId","apiKey","appId"];try{for(var i=Mt(r),s=i.next();!s.done;s=i.next()){var a=s.value;if(!e.options[a])throw ow(a)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function ow(e){return Ji.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OX(e){var t="installations";e.INTERNAL.registerComponent(new $n(t,function(n){var r=n.getProvider("app").getImmediate(),i=PX(r),s=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:s},l={app:r,getId:function(){return TX(a)},getToken:function(c){return SX(a,c)},delete:function(){return AX(a)},onIdChange:function(c){return RX(a,c)}};return l},"PUBLIC")),e.registerVersion(H7,DU)}OX(Z);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,xX=(wt={},wt["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',wt["only-available-in-window"]="This method is available in a Window context.",wt["only-available-in-sw"]="This method is available in a service worker context.",wt["permission-default"]="The notification permission was not granted and dismissed instead.",wt["permission-blocked"]="The notification permission was not granted and blocked instead.",wt["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",wt["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",wt["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",wt["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",wt["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",wt["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",wt["token-update-no-token"]="FCM returned no token when updating the user to push.",wt["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",wt["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",wt["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",wt["invalid-vapid-key"]="The public VAPID key must be a string.",wt["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",wt),Pe=new as("messaging","Messaging",xX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DX="/firebase-messaging-sw.js",LX="/firebase-cloud-messaging-push-scope",ug="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",MX="https://fcmregistrations.googleapis.com/v1",QU="FCM_MSG",FX="FirebaseMessaging: ",UX="google.c.a.e",YU="google.c.a.c_id",jX="google.c.a.ts",VX="google.c.a.c_l",BX=1e3,$X=3e3;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Ca;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Ca||(Ca={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(e){var t=new Uint8Array(e),n=btoa(String.fromCharCode.apply(String,me([],$t(t))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function qX(e){for(var t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sw="fcm_token_details_db",zX=5,fO="fcm_token_object_Store";function WX(e){return R(this,void 0,void 0,function(){var t,n,r,i,s=this;return N(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=a.sent(),n=t.map(function(l){return l.name}),!n.includes(sw))return[2,null];a.label=2;case 2:return r=null,[4,ES(sw,zX,function(l){return R(s,void 0,void 0,function(){var c,h,p,p,p,v;return N(this,function(m){switch(m.label){case 0:return l.oldVersion<2?[2]:l.objectStoreNames.contains(fO)?(c=l.transaction.objectStore(fO),[4,c.index("fcmSenderId").get(e)]):[2];case 1:return h=m.sent(),[4,c.clear()];case 2:if(m.sent(),!h)return[2];if(l.oldVersion===2){if(p=h,!p.auth||!p.p256dh||!p.endpoint)return[2];r={token:p.fcmToken,createTime:(v=p.createTime)!==null&&v!==void 0?v:Date.now(),subscriptionOptions:{auth:p.auth,p256dh:p.p256dh,endpoint:p.endpoint,swScope:p.swScope,vapidKey:typeof p.vapidKey=="string"?p.vapidKey:Mi(p.vapidKey)}}}else l.oldVersion===3?(p=h,r={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:Mi(p.auth),p256dh:Mi(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:Mi(p.vapidKey)}}):l.oldVersion===4&&(p=h,r={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:Mi(p.auth),p256dh:Mi(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:Mi(p.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,rw(sw)];case 4:return a.sent(),[4,rw("fcm_vapid_details_db")];case 5:return a.sent(),[4,rw("undefined")];case 6:return a.sent(),[2,KX(r)?r:null]}})})}function KX(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HX="firebase-messaging-database",GX=1,ka="firebase-messaging-store",aw=null;function AS(){return aw||(aw=ES(HX,GX,function(e){switch(e.oldVersion){case 0:e.createObjectStore(ka)}})),aw}function lg(e){return R(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){switch(s.label){case 0:return t=PS(e),[4,AS()];case 1:return n=s.sent(),[4,n.transaction(ka).objectStore(ka).get(t)];case 2:return r=s.sent(),r?[2,r]:[3,3];case 3:return[4,WX(e.appConfig.senderId)];case 4:return i=s.sent(),i?[4,RS(e,i)]:[3,6];case 5:return s.sent(),[2,i];case 6:return[2]}})})}function RS(e,t){return R(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return n=PS(e),[4,AS()];case 1:return r=s.sent(),i=r.transaction(ka,"readwrite"),[4,i.objectStore(ka).put(t,n)];case 2:return s.sent(),[4,i.complete];case 3:return s.sent(),[2,t]}})})}function QX(e){return R(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return t=PS(e),[4,AS()];case 1:return n=i.sent(),r=n.transaction(ka,"readwrite"),[4,r.objectStore(ka).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function PS(e){var t=e.appConfig;return t.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YX(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:return[4,xS(e)];case 1:n=h.sent(),r=JU(t),i={method:"POST",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(OS(e.appConfig),i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw l=h.sent(),Pe.create("token-subscribe-failed",{errorInfo:l});case 6:if(s.error)throw c=s.error.message,Pe.create("token-subscribe-failed",{errorInfo:c});if(!s.token)throw Pe.create("token-subscribe-no-token");return[2,s.token]}})})}function XX(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:return[4,xS(e)];case 1:n=h.sent(),r=JU(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(OS(e.appConfig)+"/"+t.token,i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw l=h.sent(),Pe.create("token-update-failed",{errorInfo:l});case 6:if(s.error)throw c=s.error.message,Pe.create("token-update-failed",{errorInfo:c});if(!s.token)throw Pe.create("token-update-no-token");return[2,s.token]}})})}function XU(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l;return N(this,function(c){switch(c.label){case 0:return[4,xS(e)];case 1:n=c.sent(),r={method:"DELETE",headers:n},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(OS(e.appConfig)+"/"+t,r)];case 3:return i=c.sent(),[4,i.json()];case 4:if(s=c.sent(),s.error)throw a=s.error.message,Pe.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw l=c.sent(),Pe.create("token-unsubscribe-failed",{errorInfo:l});case 6:return[2]}})})}function OS(e){var t=e.projectId;return MX+"/projects/"+t+"/registrations"}function xS(e){var t=e.appConfig,n=e.installations;return R(this,void 0,void 0,function(){var r;return N(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function JU(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,s={web:{endpoint:r,auth:n,p256dh:t}};return i!==ug&&(s.web.applicationPubKey=i),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JX=7*24*60*60*1e3;function vb(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(l){switch(l.label){case 0:if(Notification.permission!=="granted")throw Pe.create("permission-blocked");return[4,e9(t,n)];case 1:return r=l.sent(),[4,lg(e)];case 2:return i=l.sent(),s={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:Mi(r.getKey("auth")),p256dh:Mi(r.getKey("p256dh"))},i?[3,3]:[2,hO(e,s)];case 3:if(t9(i.subscriptionOptions,s))return[3,8];l.label=4;case 4:return l.trys.push([4,6,,7]),[4,XU(e,i.token)];case 5:return l.sent(),[3,7];case 6:return a=l.sent(),console.warn(a),[3,7];case 7:return[2,hO(e,s)];case 8:return Date.now()>=i.createTime+JX?[2,ZX({token:i.token,createTime:Date.now(),subscriptionOptions:s},e,t)]:[2,i.token];case 9:return[2]}})})}function _f(e,t){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,lg(e)];case 1:return n=i.sent(),n?[4,XU(e,n.token)]:[3,4];case 2:return i.sent(),[4,QX(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function ZX(e,t,n){return R(this,void 0,void 0,function(){var r,i,s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,XX(t,e)];case 1:return r=a.sent(),i=Me(Me({},e),{token:r,createTime:Date.now()}),[4,RS(t,i)];case 2:return a.sent(),[2,r];case 3:return s=a.sent(),[4,_f(t,n)];case 4:throw a.sent(),s;case 5:return[2]}})})}function hO(e,t){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,YX(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,RS(e,r)];case 2:return i.sent(),[2,r.token]}})})}function e9(e,t){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:qX(t)})]}})})}function t9(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n9(e){var t={from:e.from,collapseKey:e.collapse_key};return r9(t,e),i9(t,e),o9(t,e),t}function r9(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}function i9(e,t){t.data&&(e.data=t.data)}function o9(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(e){return typeof e=="object"&&!!e&&YU in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s9=function(){function e(t){var n=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||typeof t!="function")throw Pe.create("invalid-bg-handler");this.bgMessageHandler=t},e.prototype.onBackgroundMessage=function(t){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){n.bgMessageHandler=null}},e.prototype.getToken=function(){var t,n;return R(this,void 0,void 0,function(){var r;return N(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,lg(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(n=(t=r==null?void 0:r.subscriptionOptions)===null||t===void 0?void 0:t.vapidKey)!==null&&n!==void 0?n:ug,i.label=2;case 2:return[2,vb(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},e.prototype.deleteToken=function(){return _f(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw Pe.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw Pe.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw Pe.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(){throw Pe.create("only-available-in-window")},e.prototype.onMessage=function(){throw Pe.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw Pe.create("only-available-in-window")},e.prototype.onPush=function(t){return R(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=u9(t),n?[4,e4()]:(console.debug(FX+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=a.sent(),c9(r)?[2,f9(r,n)]:(i=!1,n.notification?[4,h9(a9(n))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(s=n9(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(s):this.bgMessageHandler.next(s)),[4,dO(BX)]);case 4:return a.sent(),[2]}})})},e.prototype.onSubChange=function(t){var n,r;return R(this,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:return i=t.newSubscription,i?[3,2]:[4,_f(this.firebaseDependencies,self.registration)];case 1:return a.sent(),[2];case 2:return[4,lg(this.firebaseDependencies)];case 3:return s=a.sent(),[4,_f(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,vb(this.firebaseDependencies,self.registration,(r=(n=s==null?void 0:s.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:ug)];case 5:return a.sent(),[2]}})})},e.prototype.onNotificationClick=function(t){var n,r;return R(this,void 0,void 0,function(){var i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:if(i=(r=(n=t.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[QU],i){if(t.action)return[2]}else return[2];return t.stopImmediatePropagation(),t.notification.close(),s=d9(i),s?(a=new URL(s,self.location.href),l=new URL(self.location.origin),a.host!==l.host?[2]:[4,l9(a)]):[2];case 1:return c=h.sent(),c?[3,4]:[4,self.clients.openWindow(s)];case 2:return c=h.sent(),[4,dO($X)];case 3:return h.sent(),[3,6];case 4:return[4,c.focus()];case 5:c=h.sent(),h.label=6;case 6:return c?(i.messageType=Ca.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,c.postMessage(i)]):[2]}})})},e}();function a9(e){var t,n=Me({},e.notification);return n.data=(t={},t[QU]=e,t),n}function u9(e){var t=e.data;if(!t)return null;try{return t.json()}catch{return null}}function l9(e){return R(this,void 0,void 0,function(){var t,n,r,i,s,a,l;return N(this,function(c){switch(c.label){case 0:return[4,e4()];case 1:t=c.sent();try{for(n=Mt(t),r=n.next();!r.done;r=n.next())if(i=r.value,s=new URL(i.url,self.location.href),e.host===s.host)return[2,i]}catch(h){a={error:h}}finally{try{r&&!r.done&&(l=n.return)&&l.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function c9(e){return e.some(function(t){return t.visibilityState==="visible"&&!t.url.startsWith("chrome-extension://")})}function f9(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=Ca.PUSH_RECEIVED;try{for(var i=Mt(e),s=i.next();!s.done;s=i.next()){var a=s.value;a.postMessage(t)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function e4(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function h9(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((t=e.title)!==null&&t!==void 0?t:"",e)}function d9(e){var t,n,r,i=(n=(t=e.fcmOptions)===null||t===void 0?void 0:t.link)!==null&&n!==void 0?n:(r=e.notification)===null||r===void 0?void 0:r.click_action;return i||(ZU(e.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p9=function(){function e(t){var n=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(t){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return n=t.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===Ca.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(g9(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,ZU(r)&&r[UX]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(t){return R(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw Pe.create("permission-blocked");return[4,this.updateVapidKey(t==null?void 0:t.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(t==null?void 0:t.serviceWorkerRegistration)];case 4:return n.sent(),[2,vb(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},e.prototype.updateVapidKey=function(t){return R(this,void 0,void 0,function(){return N(this,function(n){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=ug),[2]})})},e.prototype.updateSwReg=function(t){return R(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return!t&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw Pe.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},e.prototype.registerDefaultSw=function(){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register(DX,{scope:LX})];case 1:return t.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),Pe.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},e.prototype.deleteToken=function(){return R(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,_f(this.firebaseDependencies,this.swRegistration)]}})})},e.prototype.requestPermission=function(){return R(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(t=n.sent(),t==="granted")return[2];throw t==="denied"?Pe.create("permission-blocked"):Pe.create("permission-default")}})})},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw Pe.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw Pe.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw Pe.create("invalid-sw-registration");if(this.swRegistration)throw Pe.create("use-sw-after-get-token");this.swRegistration=t},e.prototype.onMessage=function(t){var n=this;return this.onMessageCallback=t,function(){n.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw Pe.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw Pe.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(t,n){return R(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return r=v9(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=s.sent(),i.logEvent(r,{message_id:n[YU],message_name:n[VX],message_time:n[jX],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},e}();function v9(e){switch(e){case Ca.NOTIFICATION_CLICKED:return"notification_open";case Ca.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function g9(e){return delete e.messageType,delete e.isFirebaseMessaging,e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m9(e){var t,n;if(!e||!e.options)throw uw("App Configuration Object");if(!e.name)throw uw("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=e.options;try{for(var s=Mt(r),a=s.next();!a.done;a=s.next()){var l=a.value;if(!i[l])throw uw(l)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return{appName:e.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function uw(e){return Pe.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y9="messaging";function _9(e){var t=e.getProvider("app").getImmediate(),n=m9(t),r=e.getProvider("installations").getImmediate(),i=e.getProvider("analytics-internal"),s={app:t,appConfig:n,installations:r,analyticsProvider:i};if(!t4())throw Pe.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new s9(s):new p9(s)}var w9={isSupported:t4};Z.INTERNAL.registerComponent(new $n(y9,_9,"PUBLIC").setServiceProps(w9));function t4(){return self&&"ServiceWorkerGlobalScope"in self?b9():E9()}function E9(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function b9(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n4="firebasestorage.googleapis.com",r4="storageBucket",I9=2*60*1e3,T9=10*60*1e3,mt=function(e){H(t,e);function t(n,r){var i=e.call(this,lw(n),"Firebase Storage: "+r+" ("+lw(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return t.prototype._codeEquals=function(n){return lw(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(Ol);function lw(e){return"storage/"+e}function DS(){var e="An unknown error occurred, please check the error payload for server response.";return new mt("unknown",e)}function S9(e){return new mt("object-not-found","Object '"+e+"' does not exist.")}function C9(e){return new mt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function k9(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mt("unauthenticated",e)}function N9(){return new mt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function A9(e){return new mt("unauthorized","User does not have permission to access '"+e+"'.")}function R9(){return new mt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function i4(){return new mt("canceled","User canceled the upload/download.")}function P9(e){return new mt("invalid-url","Invalid URL '"+e+"'.")}function O9(e){return new mt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function x9(){return new mt("no-default-bucket","No default bucket found. Did you set the '"+r4+"' property when initializing the app?")}function o4(){return new mt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function D9(){return new mt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function L9(){return new mt("no-download-url","The given file does not have any download URLs.")}function la(e){return new mt("invalid-argument",e)}function s4(){return new mt("app-deleted","The Firebase app was deleted.")}function a4(e){return new mt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function wf(e,t){return new mt("invalid-format","String does not match format '"+e+"': "+t)}function Ip(e){throw new mt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},cw=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function u4(e,t){switch(e){case yr.RAW:return new cw(l4(t));case yr.BASE64:case yr.BASE64URL:return new cw(c4(e,t));case yr.DATA_URL:return new cw(F9(t),U9(t))}throw DS()}function l4(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!i)t.push(239,191,189);else{var s=r,a=e.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function M9(e){var t;try{t=decodeURIComponent(e)}catch{throw wf(yr.DATA_URL,"Malformed data URL.")}return l4(t)}function c4(e,t){switch(e){case yr.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw wf(e,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case yr.BASE64URL:{var s=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(s||a){var i=s?"+":"/";throw wf(e,"Invalid character '"+i+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=atob(t)}catch{throw wf(e,"Invalid character found")}for(var c=new Uint8Array(l.length),h=0;h<l.length;h++)c[h]=l.charCodeAt(h);return c}var f4=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw wf(yr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=j9(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function F9(e){var t=new f4(e);return t.base64?c4(yr.BASE64,t.rest):M9(t.rest)}function U9(e){var t=new f4(e);return t.contentType}function j9(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V9={STATE_CHANGED:"state_changed"},vn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function fw(e){switch(e){case"running":case"pausing":case"canceling":return vn.RUNNING;case"paused":return vn.PAUSED;case"success":return vn.SUCCESS;case"canceled":return vn.CANCELED;case"error":return vn.ERROR;default:return vn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ca;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(ca||(ca={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B9=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=ca.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=ca.ABORT,n(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=ca.NETWORK_ERROR,n(t)}),t.xhr_.addEventListener("load",function(){n(t)})})}return e.prototype.send=function(t,n,r,i){if(this.sent_)throw Ip("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(var s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Ip("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Ip("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Ip("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $9=function(){function e(){}return e.prototype.createXhrIo=function(){return new B9},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _r=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw O9(t)},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function s(ae){ae.path.charAt(ae.path.length-1)==="/"&&(ae.path_=ae.path_.slice(0,-1))}var a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function h(ae){ae.path_=decodeURIComponent(ae.path)}for(var p="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp("^https?://"+v+"/"+p+"/b/"+i+"/o"+m,"i"),w={bucket:1,path:3},b=n===n4?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",I=new RegExp("^https?://"+b+"/"+i+"/"+S,"i"),T={bucket:1,path:2},C=[{regex:l,indices:c,postModify:s},{regex:y,indices:w,postModify:h},{regex:I,indices:T,postModify:h}],P=0;P<C.length;P++){var D=C[P],O=D.regex.exec(t);if(O){var B=O[D.indices.bucket],M=O[D.indices.path];M||(M=""),r=new e(B,M),D.postModify(r);break}}if(r==null)throw P9(t);return r},e}(),q9=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(e,t,n){var r=1,i=null,s=!1,a=0;function l(){return a===2}var c=!1;function h(){for(var w=[],b=0;b<arguments.length;b++)w[b]=arguments[b];c||(c=!0,t.apply(null,w))}function p(w){i=setTimeout(function(){i=null,e(v,l())},w)}function v(w){for(var b=[],S=1;S<arguments.length;S++)b[S-1]=arguments[S];if(!c){if(w){h.call.apply(h,me([null,w],b));return}var I=l()||s;if(I){h.call.apply(h,me([null,w],b));return}r<64&&(r*=2);var T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,p(T)}}var m=!1;function y(w){m||(m=!0,!c&&(i!==null?(w||(a=2),clearTimeout(i),p(0)):w||(a=1)))}return p(0),setTimeout(function(){s=!0,y(!0)},n),y}function W9(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K9(e){return e!==void 0}function H9(e){return typeof e=="function"}function G9(e){return typeof e=="object"&&!Array.isArray(e)}function Tm(e){return typeof e=="string"||e instanceof String}function pO(e){return LS()&&e instanceof Blob}function LS(){return typeof Blob<"u"}function gb(e,t,n,r){if(r<t)throw la("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw la("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],i=t;return r==null&&(i="https://"+t),i+"/v0"+e}function h4(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q9=function(){function e(t,n,r,i,s,a,l,c,h,p,v){var m=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=c,this.progressCallback_=p,this.timeout_=h,this.pool_=v,this.promise_=new Promise(function(y,w){m.resolve_=y,m.reject_=w,m.start_()})}return e.prototype.start_=function(){var t=this;function n(i,s){if(s){i(!1,new Tp(!1,null,!0));return}var a=t.pool_.createXhrIo();t.pendingXhr_=a;function l(c){var h=c.loaded,p=c.lengthComputable?c.total:-1;t.progressCallback_!==null&&t.progressCallback_(h,p)}t.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(c){t.progressCallback_!==null&&c.removeUploadProgressListener(l),t.pendingXhr_=null,c=c;var h=c.getErrorCode()===ca.NO_ERROR,p=c.getStatus();if(!h||t.isRetryStatusCode_(p)){var v=c.getErrorCode()===ca.ABORT;i(!1,new Tp(!1,null,v));return}var m=t.successCodes_.indexOf(p)!==-1;i(!0,new Tp(m,c))})}function r(i,s){var a=t.resolve_,l=t.reject_,c=s.xhr;if(s.wasSuccessCode)try{var h=t.callback_(c,c.getResponseText());K9(h)?a(h):a()}catch(v){l(v)}else if(c!==null){var p=DS();p.serverResponse=c.getResponseText(),t.errorCallback_?l(t.errorCallback_(c,p)):l(p)}else if(s.canceled){var p=t.appDelete_?s4():i4();l(p)}else{var p=R9();l(p)}}this.canceled_?r(!1,new Tp(!1,null,!0)):this.backoffId_=z9(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&W9(this.backoffId_),this.pendingXhr_!==null&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],i=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||i||s},e}(),Tp=function(){function e(t,n,r){this.wasSuccessCode=t,this.xhr=n,this.canceled=!!r}return e}();function Y9(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function X9(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function J9(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Z9(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function eJ(e,t,n,r,i,s){var a=h4(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return J9(c,t),Y9(c,n),X9(c,s),Z9(c,r),new Q9(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tJ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function nJ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=tJ();if(n!==void 0){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}else{if(LS())return new Blob(e);throw new mt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function rJ(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MS=function(){function e(t,n){var r=0,i="";pO(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(pO(this.data_)){var r=this.data_,i=rJ(r,t,n);return i===null?null:new e(i)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(LS()){var r=t.map(function(c){return c instanceof e?c.data_:c});return new e(nJ.apply(null,r))}else{var i=t.map(function(c){return Tm(c)?u4(yr.RAW,c).data:c.data_}),s=0;i.forEach(function(c){s+=c.byteLength});var a=new Uint8Array(s),l=0;return i.forEach(function(c){for(var h=0;h<c.length;h++)a[l++]=c[h]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(e){var t;try{t=JSON.parse(e)}catch{return null}return G9(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iJ(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function oJ(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function d4(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sJ(e,t){return t}var fn=function(){function e(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||sJ}return e}(),Sp=null;function aJ(e){return!Tm(e)||e.length<2?e:d4(e)}function Sm(){if(Sp)return Sp;var e=[];e.push(new fn("bucket")),e.push(new fn("generation")),e.push(new fn("metageneration")),e.push(new fn("name","fullPath",!0));function t(s,a){return aJ(a)}var n=new fn("name");n.xform=t,e.push(n);function r(s,a){return a!==void 0?Number(a):a}var i=new fn("size");return i.xform=r,e.push(i),e.push(new fn("timeCreated")),e.push(new fn("updated")),e.push(new fn("md5Hash",null,!0)),e.push(new fn("cacheControl",null,!0)),e.push(new fn("contentDisposition",null,!0)),e.push(new fn("contentEncoding",null,!0)),e.push(new fn("contentLanguage",null,!0)),e.push(new fn("contentType",null,!0)),e.push(new fn("metadata","customMetadata",!0)),Sp=e,Sp}function uJ(e,t){function n(){var r=e.bucket,i=e.fullPath,s=new _r(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function lJ(e,t,n){var r={};r.type="file";for(var i=n.length,s=0;s<i;s++){var a=n[s];r[a.local]=a.xform(r,t[a.server])}return uJ(r,e),r}function p4(e,t,n){var r=FS(t);if(r===null)return null;var i=r;return lJ(e,i,n)}function cJ(e,t,n){var r=FS(t);if(r===null||!Tm(r.downloadTokens))return null;var i=r.downloadTokens;if(i.length===0)return null;var s=encodeURIComponent,a=i.split(","),l=a.map(function(c){var h=e.bucket,p=e.fullPath,v="/b/"+s(h)+"/o/"+s(p),m=ds(v,n),y=h4({alt:"media",token:c});return m+y});return l[0]}function US(e,t){for(var n={},r=t.length,i=0;i<r;i++){var s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vO="prefixes",gO="items";function fJ(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[vO])for(var i=0,s=n[vO];i<s.length;i++){var a=s[i],l=a.replace(/\/$/,""),c=e._makeStorageReference(new _r(t,l));r.prefixes.push(c)}if(n[gO])for(var h=0,p=n[gO];h<p.length;h++){var v=p[h],c=e._makeStorageReference(new _r(t,v.name));r.items.push(c)}return r}function hJ(e,t,n){var r=FS(n);if(r===null)return null;var i=r;return fJ(e,t,i)}var ro=function(){function e(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(e){if(!e)throw DS()}function Cm(e,t){function n(r,i){var s=p4(e,i,t);return _i(s!==null),s}return n}function dJ(e,t){function n(r,i){var s=hJ(e,t,i);return _i(s!==null),s}return n}function pJ(e,t){function n(r,i){var s=p4(e,i,t);return _i(s!==null),cJ(s,i,e.host)}return n}function Ql(e){function t(n,r){var i;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?i=N9():i=k9():n.getStatus()===402?i=C9(e.bucket):n.getStatus()===403?i=A9(e.path):i=r,i.serverResponse=r.serverResponse,i}return t}function km(e){var t=Ql(e);function n(r,i){var s=t(r,i);return r.getStatus()===404&&(s=S9(e.path)),s.serverResponse=i.serverResponse,s}return n}function v4(e,t,n){var r=t.fullServerUrl(),i=ds(r,e.host),s="GET",a=e.maxOperationRetryTime,l=new ro(i,s,Cm(e,n),a);return l.errorHandler=km(t),l}function vJ(e,t,n,r,i){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var a=t.bucketOnlyServerUrl(),l=ds(a,e.host),c="GET",h=e.maxOperationRetryTime,p=new ro(l,c,dJ(e,t.bucket),h);return p.urlParams=s,p.errorHandler=Ql(t),p}function gJ(e,t,n){var r=t.fullServerUrl(),i=ds(r,e.host),s="GET",a=e.maxOperationRetryTime,l=new ro(i,s,pJ(e,n),a);return l.errorHandler=km(t),l}function mJ(e,t,n,r){var i=t.fullServerUrl(),s=ds(i,e.host),a="PATCH",l=US(n,r),c={"Content-Type":"application/json; charset=utf-8"},h=e.maxOperationRetryTime,p=new ro(s,a,Cm(e,r),h);return p.headers=c,p.body=l,p.errorHandler=km(t),p}function yJ(e,t){var n=t.fullServerUrl(),r=ds(n,e.host),i="DELETE",s=e.maxOperationRetryTime;function a(c,h){}var l=new ro(r,i,a,s);return l.successCodes=[200,204],l.errorHandler=km(t),l}function _J(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function g4(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=_J(null,t)),r}function wJ(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var C="",P=0;P<2;P++)C=C+Math.random().toString().slice(2);return C}var c=l();a["Content-Type"]="multipart/related; boundary="+c;var h=g4(t,r,i),p=US(h,n),v="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+c+`\r
Content-Type: `+h.contentType+`\r
\r
`,m=`\r
--`+c+"--",y=MS.getBlob(v,r,m);if(y===null)throw o4();var w={name:h.fullPath},b=ds(s,e.host),S="POST",I=e.maxUploadRetryTime,T=new ro(b,S,Cm(e,n),I);return T.urlParams=w,T.headers=a,T.body=y.uploadData(),T.errorHandler=Ql(t),T}var cg=function(){function e(t,n,r,i){this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}return e}();function jS(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{_i(!1)}var r=t||["active"];return _i(!!n&&r.indexOf(n)!==-1),n}function EJ(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a=g4(t,r,i),l={name:a.fullPath},c=ds(s,e.host),h="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},v=US(a,n),m=e.maxUploadRetryTime;function y(b){jS(b);var S;try{S=b.getResponseHeader("X-Goog-Upload-URL")}catch{_i(!1)}return _i(Tm(S)),S}var w=new ro(c,h,y,m);return w.urlParams=l,w.headers=p,w.body=v,w.errorHandler=Ql(t),w}function bJ(e,t,n,r){var i={"X-Goog-Upload-Command":"query"};function s(h){var p=jS(h,["active","final"]),v=null;try{v=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{_i(!1)}v||_i(!1);var m=Number(v);return _i(!isNaN(m)),new cg(m,r.size(),p==="final")}var a="POST",l=e.maxUploadRetryTime,c=new ro(n,a,s,l);return c.headers=i,c.errorHandler=Ql(t),c}var mO=256*1024;function IJ(e,t,n,r,i,s,a,l){var c=new cg(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw D9();var h=c.total-c.current,p=h;i>0&&(p=Math.min(p,i));var v=c.current,m=v+p,y=p===h?"upload, finalize":"upload",w={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":c.current},b=r.slice(v,m);if(b===null)throw o4();function S(P,D){var O=jS(P,["active","final"]),B=c.current+p,M=r.size(),ae;return O==="final"?ae=Cm(t,s)(P,D):ae=null,new cg(B,M,O==="final",ae)}var I="POST",T=t.maxUploadRetryTime,C=new ro(n,I,S,T);return C.headers=w,C.body=b.uploadData(),C.progressCallback=l||null,C.errorHandler=Ql(e),C}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TJ=function(){function e(t,n,r){var i=H9(t)||n!=null||r!=null;if(i)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m4=function(){function e(t,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=Sm(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){i._request=void 0,i._chunkMultiplier=1,s._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=s,i._transition("error"))},this._metadataErrorHandler=function(s){i._request=void 0,s._codeEquals("canceled")?i.completeTransitions_():(i._error=s,i._transition("error"))},this._promise=new Promise(function(s,a){i._resolve=s,i._reject=a,i._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var i=r[0],s=r[1];switch(n._state){case"running":t(i,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,r){var i=EJ(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._uploadUrl=a,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r,i){var s=bJ(t._ref.storage,t._ref._location,n,t._blob),a=t._ref.storage._makeRequest(s,r,i);t._request=a,a.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=mO*this._chunkMultiplier,r=new cg(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(s,a){var l;try{l=IJ(t._ref._location,t._ref.storage,i,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(h){t._error=h,t._transition("error");return}var c=t._ref.storage._makeRequest(l,s,a);t._request=c,c.getPromise().then(function(h){t._increaseMultiplier(),t._request=void 0,t._updateProgress(h.current),h.finalized?(t._metadata=h.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=mO*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,r){var i=v4(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,r){var i=wJ(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=i4(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=fw(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,i){var s=this,a=new TJ(n,r,i);return this._addObserver(a),function(){s._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(fw(this._state)){case vn.SUCCESS:yu(this._resolve.bind(null,this.snapshot))();break;case vn.CANCELED:case vn.ERROR:var n=this._reject;yu(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=fw(this._state);switch(n){case vn.RUNNING:case vn.PAUSED:t.next&&yu(t.next.bind(t,this.snapshot))();break;case vn.SUCCESS:t.complete&&yu(t.complete.bind(t))();break;case vn.CANCELED:case vn.ERROR:t.error&&yu(t.error.bind(t,this._error))();break;default:t.error&&yu(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nm=function(){function e(t,n){this._service=t,n instanceof _r?this._location=n:this._location=_r.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new _r(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return d4(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=iJ(this._location.path);if(t===null)return null;var n=new _r(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw a4(t)},e}();function SJ(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new m4(e,new MS(t),n)}function CJ(e){var t={prefixes:[],items:[]};return y4(e,t).then(function(){return t})}function y4(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(l){switch(l.label){case 0:return r={pageToken:n},[4,_4(e,r)];case 1:return i=l.sent(),(s=t.prefixes).push.apply(s,i.prefixes),(a=t.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,y4(e,t,i.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function _4(e,t){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return t!=null&&typeof t.maxResults=="number"&&gb("options.maxResults",1,1e3,t.maxResults),n=t||{},r=vJ(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function kJ(e){return R(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=v4(e.storage,e._location,Sm()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function NJ(e,t){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=mJ(e.storage,e._location,t,Sm()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function AJ(e){return R(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=gJ(e.storage,e._location,Sm()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw L9();return r})]}})})}function RJ(e){return R(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=yJ(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function w4(e,t){var n=oJ(e._location.path,t),r=new _r(e._location.bucket,n);return new Nm(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(e){return/^[A-Za-z]+:\/\//.test(e)}function PJ(e,t){return new Nm(e,t)}function E4(e,t){if(e instanceof Am){var n=e;if(n._bucket==null)throw x9();var r=new Nm(n,n._bucket);return t!=null?E4(r,t):r}else if(t!==void 0){if(t.includes(".."))throw la('`path` param cannot contain ".."');return w4(e,t)}else return e}function OJ(e,t){if(t&&mb(t)){if(e instanceof Am)return PJ(e,t);throw la("To use ref(service, url), the first argument must be a Storage instance.")}else return E4(e,t)}function yO(e,t){var n=t==null?void 0:t[r4];return n==null?null:_r.makeFromBucketSpec(n,e)}function xJ(e,t,n){e.host="http://"+t+":"+n}var Am=function(){function e(t,n,r,i,s,a){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=i,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=n4,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=I9,this._maxUploadRetryTime=T9,this._requests=new Set,s!=null?this._bucket=_r.makeFromBucketSpec(s,this._host):this._bucket=yO(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=_r.makeFromBucketSpec(this._url,t):this._bucket=yO(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){gb("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){gb("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new Nm(this,t)},e.prototype._makeRequest=function(t,n,r){var i=this;if(this._deleted)return new q9(s4());var s=eJ(t,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return i._requests.delete(s)},function(){return i._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return R(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),r=n[0],i=n[1],[2,this._makeRequest(t,r,i)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DJ(e,t,n){return e=he(e),SJ(e,t,n)}function LJ(e){return e=he(e),kJ(e)}function MJ(e,t){return e=he(e),NJ(e,t)}function FJ(e,t){return e=he(e),_4(e,t)}function UJ(e){return e=he(e),CJ(e)}function jJ(e){return e=he(e),AJ(e)}function VJ(e){return e=he(e),RJ(e)}function _O(e,t){return e=he(e),OJ(e,t)}function BJ(e,t){return w4(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cp=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wO=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Cp(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(i){if(t)return t(new Cp(i,r,r._ref))},n)},e.prototype.on=function(t,n,r,i){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(l){return n(new Cp(l,s,s._ref))}:a={next:n.next?function(l){return n.next(new Cp(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,r||void 0,i||void 0)},e}(),EO=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new hh(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new hh(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hh=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=BJ(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new wO(DJ(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=yr.RAW),this._throwIfRoot("putString");var i=u4(n,t),s=Me({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new wO(new m4(this._delegate,new MS(i.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return UJ(this._delegate).then(function(n){return new EO(n,t.storage)})},e.prototype.list=function(t){var n=this;return FJ(this._delegate,t||void 0).then(function(r){return new EO(r,n.storage)})},e.prototype.getMetadata=function(){return LJ(this._delegate)},e.prototype.updateMetadata=function(t){return MJ(this._delegate,t)},e.prototype.getDownloadURL=function(){return jJ(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),VJ(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw a4(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $J=function(){function e(t,n){var r=this;this.app=t,this._delegate=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(mb(t))throw la("ref() expected a child path but got a URL, use refFromURL instead.");return new hh(_O(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!mb(t))throw la("refFromURL() expected a full URL but got a child path, use ref() instead.");try{_r.makeFromUrl(t,this._delegate.host)}catch{throw la("refFromUrl() expected a valid full URL but got an invalid one.")}return new hh(_O(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n){xJ(this._delegate,t,n)},e}(),qJ="@firebase/storage",zJ="0.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WJ="storage";function KJ(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),a=new $J(r,new Am(r,i,s,new $9,n,Z.SDK_VERSION));return a}function HJ(e){var t={TaskState:vn,TaskEvent:V9,StringFormat:yr,Storage:Am,Reference:hh};e.INTERNAL.registerComponent(new $n(WJ,KJ,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(qJ,zJ)}HJ(Z);var GJ="@firebase/performance",b4="0.4.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I4=b4,QJ="FB-PERF-TRACE-START",YJ="FB-PERF-TRACE-STOP",yb="FB-PERF-TRACE-MEASURE",T4="_wt_",S4="_fp",C4="_fcp",k4="_fid",N4="@firebase/performance/config",A4="@firebase/performance/configexpire",XJ="performance",R4="Performance";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,JJ=(jt={},jt["trace started"]="Trace {$traceName} was started before.",jt["trace stopped"]="Trace {$traceName} is not running.",jt["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",jt["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",jt["no window"]="Window is not available.",jt["no app id"]="App id is not available.",jt["no project id"]="Project id is not available.",jt["no api key"]="Api key is not available.",jt["invalid cc log"]="Attempted to queue invalid cc event",jt["FB not default"]="Performance can only start when Firebase app instance is the default one.",jt["RC response not ok"]="RC response is not ok",jt["invalid attribute name"]="Attribute name {$attributeName} is invalid.",jt["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",jt["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",jt["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",jt),Jt=new as(XJ,R4,JJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zi=new xl(R4);Zi.logLevel=ge.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hw,P4,on=function(){function e(t){if(this.window=t,!t)throw Jt.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(t){!this.performance||!this.performance.mark||this.performance.mark(t)},e.prototype.measure=function(t,n,r){!this.performance||!this.performance.measure||this.performance.measure(t,n,r)},e.prototype.getEntriesByType=function(t){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(t)},e.prototype.getEntriesByName=function(t){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(t)},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(Zi.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):wI()?!0:(Zi.info("IndexedDB is not supported by current browswer"),!1)},e.prototype.setupObserver=function(t,n){if(this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var s=0,a=i.getEntries();s<a.length;s++){var l=a[s];n(l)}});r.observe({entryTypes:[t]})}},e.getInstance=function(){return hw===void 0&&(hw=new e(P4)),hw},e}();function ZJ(e){P4=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(e,t){var n=e.length-t.length;if(n<0||n>1)throw Jt.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dw,Tt=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=bO("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=bO("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw Jt.create("no app id");return t},e.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw Jt.create("no project id");return t},e.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw Jt.create("no api key");return t},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return dw===void 0&&(dw=new e),dw},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O4;function eZ(){var e=Tt.getInstance().installationsService.getId();return e.then(function(t){O4=t}),e}function VS(){return O4}function tZ(){var e=Tt.getInstance().installationsService.getToken();return e.then(function(t){}),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ku;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"})(Ku||(Ku={}));var nZ=["firebase_","google_","ga_"],rZ=new RegExp("^[a-zA-Z]\\w*$"),iZ=40,oZ=100;function sZ(){var e=on.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function x4(){var e=on.getInstance().document,t=e.visibilityState;switch(t){case"visible":return Ku.VISIBLE;case"hidden":return Ku.HIDDEN;default:return Ku.UNKNOWN}}function aZ(){var e=on.getInstance().navigator,t=e.connection,n=t&&t.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function uZ(e){if(e.length===0||e.length>iZ)return!1;var t=nZ.some(function(n){return e.startsWith(n)});return!t&&!!e.match(rZ)}function lZ(e){return e.length!==0&&e.length<=oZ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cZ="0.0.1",fZ={loggingEnabled:!0},hZ="FIREBASE_INSTALLATIONS_AUTH";function dZ(e){var t=pZ();return t?(IO(t),Promise.resolve()):mZ(e).then(IO).then(function(n){return vZ(n)},function(){})}function pZ(){var e=on.getInstance().localStorage;if(e){var t=e.getItem(A4);if(!(!t||!yZ(t))){var n=e.getItem(N4);if(n)try{var r=JSON.parse(n);return r}catch{return}}}}function vZ(e){var t=on.getInstance().localStorage;!e||!t||(t.setItem(N4,JSON.stringify(e)),t.setItem(A4,String(Date.now()+Tt.getInstance().configTimeToLive*60*60*1e3)))}var gZ="Could not fetch config, will use default configs";function mZ(e){return tZ().then(function(t){var n=Tt.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+Tt.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:hZ+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:Tt.getInstance().getAppId(),app_version:I4,sdk_version:cZ})});return fetch(i).then(function(s){if(s.ok)return s.json();throw Jt.create("RC response not ok")})}).catch(function(){Zi.info(gZ)})}function IO(e){if(!e)return e;var t=Tt.getInstance(),n=e.entries||{};return n.fpr_enabled!==void 0?t.loggingEnabled=String(n.fpr_enabled)==="true":t.loggingEnabled=fZ.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=TO(t.tracesSamplingRate),t.logNetworkAfterSampling=TO(t.networkRequestsSamplingRate),e}function yZ(e){return Number(e)>Date.now()}function TO(e){return Math.random()<=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BS=1,pw;function D4(){return BS=2,pw=pw||wZ(),pw}function _Z(){return BS===3}function wZ(){return EZ().then(function(){return eZ()}).then(function(e){return dZ(e)}).then(function(){return SO()},function(){return SO()})}function EZ(){var e=on.getInstance().document;return new Promise(function(t){if(e&&e.readyState!=="complete"){var n=function(){e.readyState==="complete"&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()})}function SO(){BS=3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $S=10*1e3,bZ=5.5*1e3,L4=3,IZ=1e3,fg=L4,Ho=[],CO=!1;function TZ(){CO||(Rm(bZ),CO=!0)}function Rm(e){setTimeout(function(){if(fg!==0){if(!Ho.length)return Rm($S);SZ()}},e)}function SZ(){var e=Ho.splice(0,IZ),t=e.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Tt.getInstance().logSource,log_event:t};CZ(n,e).catch(function(){Ho=me(me([],e),Ho),fg--,Zi.info("Tries left: "+fg+"."),Rm($S)})}function CZ(e,t){return kZ(e).then(function(n){return n.ok||Zi.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=$S;isNaN(r)||(i=Math.max(r,i));var s=n.logResponseDetails;Array.isArray(s)&&s.length>0&&s[0].responseAction==="RETRY_REQUEST_LATER"&&(Ho=me(me([],t),Ho),Zi.info("Retry transport request later.")),fg=L4,Rm(i)})}function kZ(e){var t=Tt.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}function NZ(e){if(!e.eventTime||!e.message)throw Jt.create("invalid cc log");Ho=me(me([],Ho),[e])}function AZ(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(void 0,t);NZ({message:r,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vw;function M4(e,t){vw||(vw=AZ(PZ)),vw(e,t)}function kp(e){var t=Tt.getInstance();!t.instrumentationEnabled&&e.isAuto||!t.dataCollectionEnabled&&!e.isAuto||on.getInstance().requiredApisAvailable()&&(e.isAuto&&x4()!==Ku.VISIBLE||(_Z()?gw(e):D4().then(function(){return gw(e)},function(){return gw(e)})))}function gw(e){if(VS()){var t=Tt.getInstance();!t.loggingEnabled||!t.logTraceAfterSampling||setTimeout(function(){return M4(e,1)},0)}}function RZ(e){var t=Tt.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n===r||n===i||!t.loggingEnabled||!t.logNetworkAfterSampling||setTimeout(function(){return M4(e,0)},0)}}function PZ(e,t){return t===0?OZ(e):xZ(e)}function OZ(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:F4(),network_request_metric:t};return JSON.stringify(n)}function xZ(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};Object.keys(e.counters).length!==0&&(t.counters=e.counters);var n=e.getAttributes();Object.keys(n).length!==0&&(t.custom_attributes=n);var r={application_info:F4(),trace_metric:t};return JSON.stringify(r)}function F4(){return{google_app_id:Tt.getInstance().getAppId(),app_instance_id:VS(),web_app_info:{sdk_version:I4,page_url:on.getInstance().getUrl(),service_worker_status:sZ(),visibility_state:x4(),effective_connection_type:aZ()},application_process_state:0}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DZ=100,LZ="_",MZ=[S4,C4,k4];function FZ(e,t){return e.length===0||e.length>DZ?!1:t&&t.startsWith(T4)&&MZ.indexOf(e)>-1||!e.startsWith(LZ)}function UZ(e){var t=Math.floor(e);return t<e&&Zi.info("Metric value should be an Integer, setting the value as : "+t+"."),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ef=function(){function e(t,n,r){n===void 0&&(n=!1),this.name=t,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=on.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=QJ+"-"+this.randomId+"-"+this.name,this.traceStopMark=YJ+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||yb+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(this.state!==1)throw Jt.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(this.state!==2)throw Jt.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),kp(this)},e.prototype.record=function(t,n,r){if(t<=0)throw Jt.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw Jt.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(t*1e3),r&&r.attributes&&(this.customAttributes=Me({},r.attributes)),r&&r.metrics)for(var i=0,s=Object.keys(r.metrics);i<s.length;i++){var a=s[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}kp(this)},e.prototype.incrementMetric=function(t,n){n===void 0&&(n=1),this.counters[t]===void 0?this.putMetric(t,n):this.putMetric(t,this.counters[t]+n)},e.prototype.putMetric=function(t,n){if(FZ(t,this.name))this.counters[t]=UZ(n);else throw Jt.create("invalid custom metric name",{customMetricName:t})},e.prototype.getMetric=function(t){return this.counters[t]||0},e.prototype.putAttribute=function(t,n){var r=uZ(t),i=lZ(n);if(r&&i){this.customAttributes[t]=n;return}if(!r)throw Jt.create("invalid attribute name",{attributeName:t});if(!i)throw Jt.create("invalid attribute value",{attributeValue:n})},e.prototype.getAttribute=function(t){return this.customAttributes[t]},e.prototype.removeAttribute=function(t){this.customAttributes[t]!==void 0&&delete this.customAttributes[t]},e.prototype.getAttributes=function(){return Me({},this.customAttributes)},e.prototype.setStartTime=function(t){this.startTimeUs=t},e.prototype.setDuration=function(t){this.durationUs=t},e.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),n=t&&t[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},e.createOobTrace=function(t,n,r){var i=on.getInstance().getUrl();if(i){var s=new e(T4+i,!0),a=Math.floor(on.getInstance().getTimeOrigin()*1e3);s.setStartTime(a),t&&t[0]&&(s.setDuration(Math.floor(t[0].duration*1e3)),s.putMetric("domInteractive",Math.floor(t[0].domInteractive*1e3)),s.putMetric("domContentLoadedEventEnd",Math.floor(t[0].domContentLoadedEventEnd*1e3)),s.putMetric("loadEventEnd",Math.floor(t[0].loadEventEnd*1e3)));var l="first-paint",c="first-contentful-paint";if(n){var h=n.find(function(v){return v.name===l});h&&h.startTime&&s.putMetric(S4,Math.floor(h.startTime*1e3));var p=n.find(function(v){return v.name===c});p&&p.startTime&&s.putMetric(C4,Math.floor(p.startTime*1e3)),r&&s.putMetric(k4,Math.floor(r*1e3))}kp(s)}},e.createUserTimingTrace=function(t){var n=new e(t,!1,t);kp(n)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(e){var t=e;if(!(!t||t.responseStart===void 0)){var n=on.getInstance().getTimeOrigin(),r=Math.floor((t.startTime+n)*1e3),i=t.responseStart?Math.floor((t.responseStart-t.startTime)*1e3):void 0,s=Math.floor((t.responseEnd-t.startTime)*1e3),a=t.name&&t.name.split("?")[0],l={url:a,responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:s};RZ(l)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jZ=5e3;function NO(){VS()&&(setTimeout(function(){return BZ()},0),setTimeout(function(){return VZ()},0),setTimeout(function(){return $Z()},0))}function VZ(){for(var e=on.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){var i=r[n];kO(i)}e.setupObserver("resource",kO)}function BZ(){var e=on.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout(function(){Ef.createOobTrace(t,n),r=void 0},jZ);e.onFirstInputDelay(function(i){r&&(clearTimeout(r),Ef.createOobTrace(t,n,i))})}else Ef.createOobTrace(t,n)}function $Z(){for(var e=on.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){var i=r[n];AO(i)}e.setupObserver("measure",AO)}function AO(e){var t=e.name;t.substring(0,yb.length)!==yb&&Ef.createUserTimingTrace(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qZ=function(){function e(t){this.app=t,on.getInstance().requiredApisAvailable()&&EI().then(function(n){n&&(TZ(),D4().then(NO,NO))}).catch(function(n){Zi.info("Environment doesn't support IndexedDB: "+n)})}return e.prototype.trace=function(t){return new Ef(t)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return Tt.getInstance().instrumentationEnabled},set:function(t){Tt.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return Tt.getInstance().dataCollectionEnabled},set:function(t){Tt.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zZ="[DEFAULT]";function WZ(e){var t=function(n,r){if(n.name!==zZ)throw Jt.create("FB not default");if(typeof window>"u")throw Jt.create("no window");return ZJ(window),Tt.getInstance().firebaseAppInstance=n,Tt.getInstance().installationsService=r,new qZ(n)};e.INTERNAL.registerComponent(new $n("performance",function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return t(r,i)},"PUBLIC")),e.registerVersion(GJ,b4)}WZ(Z);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KZ="firebase_id",HZ="origin",GZ=60*1e3,QZ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",U4="https://www.googletagmanager.com/gtag/js",sn;(function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"})(sn||(sn={}));var _b;(function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"})(_b||(_b={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YZ(e,t,n,r,i){return R(this,void 0,void 0,function(){var s,a;return N(this,function(l){switch(l.label){case 0:return i&&i.global?(e(sn.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:s=l.sent(),a=Me(Me({},r),{send_to:s}),e(sn.EVENT,n,a),l.label=3;case 3:return[2]}})})}function XZ(e,t,n,r){return R(this,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:return r&&r.global?(e(sn.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(sn.CONFIG,i,{update:!0,screen_name:n}),s.label=3;case 3:return[2]}})})}function JZ(e,t,n,r){return R(this,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:return r&&r.global?(e(sn.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(sn.CONFIG,i,{update:!0,user_id:n}),s.label=3;case 3:return[2]}})})}function ZZ(e,t,n,r){return R(this,void 0,void 0,function(){var i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:if(!(r&&r.global))return[3,1];for(i={},s=0,a=Object.keys(n);s<a.length;s++)l=a[s],i["user_properties."+l]=n[l];return e(sn.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:c=h.sent(),e(sn.CONFIG,c,{update:!0,user_properties:n}),h.label=3;case 3:return[2]}})})}function eee(e,t){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt=new xl("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tee(e,t){var n=document.createElement("script");n.src=U4+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}function nee(e){var t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}function ree(e,t,n,r,i,s){return R(this,void 0,void 0,function(){var a,l,c,h;return N(this,function(p){switch(p.label){case 0:a=r[i],p.label=1;case 1:return p.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return p.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return l=p.sent(),c=l.find(function(v){return v.measurementId===i}),c?[4,t[c.appId]]:[3,6];case 5:p.sent(),p.label=6;case 6:return[3,8];case 7:return h=p.sent(),Bt.error(h),[3,8];case 8:return e(sn.CONFIG,i,s),[2]}})})}function iee(e,t,n,r,i){return R(this,void 0,void 0,function(){var s,a,l,c,h,p,v,m,y;return N(this,function(w){switch(w.label){case 0:return w.trys.push([0,4,,5]),s=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(l=w.sent(),c=function(b){var S=l.find(function(T){return T.measurementId===b}),I=S&&t[S.appId];if(I)s.push(I);else return s=[],"break"},h=0,p=a;h<p.length&&(v=p[h],m=c(v),m!=="break");h++);w.label=2;case 2:return s.length===0&&(s=Object.values(t)),[4,Promise.all(s)];case 3:return w.sent(),e(sn.EVENT,r,i||{}),[3,5];case 4:return y=w.sent(),Bt.error(y),[3,5];case 5:return[2]}})})}function oee(e,t,n,r){function i(s,a,l){return R(this,void 0,void 0,function(){var c;return N(this,function(h){switch(h.label){case 0:return h.trys.push([0,6,,7]),s!==sn.EVENT?[3,2]:[4,iee(e,t,n,a,l)];case 1:return h.sent(),[3,5];case 2:return s!==sn.CONFIG?[3,4]:[4,ree(e,t,n,r,a,l)];case 3:return h.sent(),[3,5];case 4:e(sn.SET,a),h.label=5;case 5:return[3,7];case 6:return c=h.sent(),Bt.error(c),[3,7];case 7:return[2]}})})}return i}function see(e,t,n,r,i){var s=function(){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=oee(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}function aee(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(U4))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Br,uee=(Br={},Br["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Br["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Br["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Br["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Br["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Br["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Br["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Br["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Br["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Br),Ir=new as("analytics","Analytics",uee);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lee=30,cee=1e3,fee=function(){function e(t,n){t===void 0&&(t={}),n===void 0&&(n=cee),this.throttleMetadata=t,this.intervalMillis=n}return e.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},e.prototype.setThrottleMetadata=function(t,n){this.throttleMetadata[t]=n},e.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},e}(),j4=new fee;function hee(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function dee(e){var t;return R(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:hee(r)},s=QZ.replace("{app-id}",n),[4,fetch(s,i)];case 1:if(a=h.sent(),!(a.status!==200&&a.status!==304))return[3,6];l="",h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.json()];case 3:return c=h.sent(),!((t=c.error)===null||t===void 0)&&t.message&&(l=c.error.message),[3,5];case 4:return h.sent(),[3,5];case 5:throw Ir.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l});case 6:return[2,a.json()]}})})}function pee(e,t,n){return t===void 0&&(t=j4),R(this,void 0,void 0,function(){var r,i,s,a,l,c,h=this;return N(this,function(p){if(r=e.options,i=r.appId,s=r.apiKey,a=r.measurementId,!i)throw Ir.create("no-app-id");if(!s){if(a)return[2,{measurementId:a,appId:i}];throw Ir.create("no-api-key")}return l=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new mee,setTimeout(function(){return R(h,void 0,void 0,function(){return N(this,function(v){return c.abort(),[2]})})},n!==void 0?n:GZ),[2,V4({appId:i,apiKey:s,measurementId:a},l,c,t)]})})}function V4(e,t,n,r){var i=t.throttleEndTimeMillis,s=t.backoffCount;return r===void 0&&(r=j4),R(this,void 0,void 0,function(){var a,l,c,h,p,v,m;return N(this,function(y){switch(y.label){case 0:a=e.appId,l=e.measurementId,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,vee(n,i)];case 2:return y.sent(),[3,4];case 3:if(c=y.sent(),l)return Bt.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]")),[2,{appId:a,measurementId:l}];throw c;case 4:return y.trys.push([4,6,,7]),[4,dee(e)];case 5:return h=y.sent(),r.deleteThrottleMetadata(a),[2,h];case 6:if(p=y.sent(),!gee(p)){if(r.deleteThrottleMetadata(a),l)return Bt.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+p.message+"]")),[2,{appId:a,measurementId:l}];throw p}return v=Number(p.customData.httpStatus)===503?_E(s,r.intervalMillis,lee):_E(s,r.intervalMillis),m={throttleEndTimeMillis:Date.now()+v,backoffCount:s+1},r.setThrottleMetadata(a,m),Bt.debug("Calling attemptFetch again in "+v+" millis"),[2,V4(e,m,n,r)];case 7:return[2]}})})}function vee(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(Ir.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function gee(e){if(!(e instanceof Ol)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var mee=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yee(){return R(this,void 0,void 0,function(){var e;return N(this,function(t){switch(t.label){case 0:return wI()?[3,1]:(Bt.warn(Ir.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,EI()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),Bt.warn(Ir.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}})})}function _ee(e,t,n,r,i,s){return R(this,void 0,void 0,function(){var a,l,c,h,p,v,m;return N(this,function(y){switch(y.label){case 0:return a=pee(e),a.then(function(w){n[w.measurementId]=w.appId,e.options.measurementId&&w.measurementId!==e.options.measurementId&&Bt.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+w.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(w){return Bt.error(w)}),t.push(a),l=yee().then(function(w){if(w)return r.getId()}),[4,Promise.all([a,l])];case 1:return c=y.sent(),h=c[0],p=c[1],aee()||tee(s,h.measurementId),i("js",new Date),v=(m={},m[HZ]="firebase",m.update=!0,m),p!=null&&(v[KZ]=p),i(sn.CONFIG,h.measurementId,v),[2,h.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Di={},RO=[],PO={},Kp="dataLayer",B4="gtag",OO,Hc,wb=!1;function wee(e){if(wb)throw Ir.create("already-initialized");e.dataLayerName&&(Kp=e.dataLayerName),e.gtagName&&(B4=e.gtagName)}function Eee(){var e=[];if(_I()&&e.push("This is a browser extension environment."),oL()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=Ir.create("invalid-analytics-context",{errorInfo:t});Bt.warn(n.message)}}function bee(e,t){Eee();var n=e.options.appId;if(!n)throw Ir.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Bt.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw Ir.create("no-api-key");if(Di[n]!=null)throw Ir.create("already-exists",{id:n});if(!wb){nee(Kp);var r=see(Di,RO,PO,Kp,B4),i=r.wrappedGtag,s=r.gtagCore;Hc=i,OO=s,wb=!0}Di[n]=_ee(e,RO,PO,t,OO,Kp);var a={app:e,logEvent:function(l,c,h){YZ(Hc,Di[n],l,c,h).catch(function(p){return Bt.error(p)})},setCurrentScreen:function(l,c){XZ(Hc,Di[n],l,c).catch(function(h){return Bt.error(h)})},setUserId:function(l,c){JZ(Hc,Di[n],l,c).catch(function(h){return Bt.error(h)})},setUserProperties:function(l,c){ZZ(Hc,Di[n],l,c).catch(function(h){return Bt.error(h)})},setAnalyticsCollectionEnabled:function(l){eee(Di[n],l).catch(function(c){return Bt.error(c)})},INTERNAL:{delete:function(){return delete Di[n],Promise.resolve()}}};return a}var Iee="@firebase/analytics",Tee="0.6.10",xO="analytics";function See(e){e.INTERNAL.registerComponent(new $n(xO,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return bee(r,i)},"PUBLIC").setServiceProps({settings:wee,EventName:_b,isSupported:Cee})),e.INTERNAL.registerComponent(new $n("analytics-internal",t,"PRIVATE")),e.registerVersion(Iee,Tee);function t(n){try{var r=n.getProvider(xO).getImmediate();return{logEvent:r.logEvent}}catch(i){throw Ir.create("interop-component-reg-failed",{reason:i})}}}See(Z);function Cee(){return R(this,void 0,void 0,function(){var e;return N(this,function(t){switch(t.label){case 0:if(_I())return[2,!1];if(!oL())return[2,!1];if(!wI())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,EI()];case 2:return e=t.sent(),[2,e];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kee=function(){function e(t,n,r,i){this.client=t,this.storage=n,this.storageCache=r,this.logger=i}return e.prototype.isCachedDataFresh=function(t,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,i=r<=t;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+t+".")+(" Is cache hit: "+i+".")),i},e.prototype.fetch=function(t){return R(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(l){switch(l.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=l.sent(),r=n[0],i=n[1],i&&this.isCachedDataFresh(t.cacheMaxAgeMillis,r)?[2,i]:(t.eTag=i&&i.eTag,[4,this.client.fetch(t)]);case 2:return s=l.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],s.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(s)),[4,Promise.all(a)];case 3:return l.sent(),[2,s]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn,Nee=(hn={},hn["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",hn["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",hn["registration-api-key"]="Undefined API key. Check Firebase app initialization.",hn["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",hn["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",hn["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",hn["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",hn["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",hn["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",hn["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',hn["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',hn["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",hn["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",hn),wr=new as("remoteconfig","Remote Config",Nee);function Aee(e,t){return e instanceof Ol&&e.code.indexOf(t)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ree(e){return e===void 0&&(e=navigator),e.languages&&e.languages[0]||e.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pee=function(){function e(t,n,r,i,s,a){this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=a}return e.prototype.fetch=function(t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h,p,v,m,y,w,b,S,I,T,C,P;return N(this,function(D){switch(D.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=D.sent(),r=n[0],i=n[1],s=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=s+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,l={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},c={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:Ree()},h={method:"POST",headers:l,body:JSON.stringify(c)},p=fetch(a,h),v=new Promise(function(O,B){t.signal.addEventListener(function(){var M=new Error("The operation was aborted.");M.name="AbortError",B(M)})}),D.label=2;case 2:return D.trys.push([2,5,,6]),[4,Promise.race([p,v])];case 3:return D.sent(),[4,p];case 4:return m=D.sent(),[3,6];case 5:throw y=D.sent(),w="fetch-client-network",y.name==="AbortError"&&(w="fetch-timeout"),wr.create(w,{originalErrorMessage:y.message});case 6:if(b=m.status,S=m.headers.get("ETag")||void 0,m.status!==200)return[3,11];C=void 0,D.label=7;case 7:return D.trys.push([7,9,,10]),[4,m.json()];case 8:return C=D.sent(),[3,10];case 9:throw P=D.sent(),wr.create("fetch-client-parse",{originalErrorMessage:P.message});case 10:I=C.entries,T=C.state,D.label=11;case 11:if(T==="INSTANCE_STATE_UNSPECIFIED"?b=500:T==="NO_CHANGE"?b=304:(T==="NO_TEMPLATE"||T==="EMPTY_CONFIG")&&(I={}),b!==304&&b!==200)throw wr.create("fetch-status",{httpStatus:b});return[2,{status:b,eTag:S,config:I}]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oee=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xee=!1,Dee="",DO=0,Lee=["1","true","t","yes","y","on"],mw=function(){function e(t,n){n===void 0&&(n=Dee),this._source=t,this._value=n}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return this._source==="static"?xee:Lee.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if(this._source==="static")return DO;var t=Number(this._value);return isNaN(t)&&(t=DO),t},e.prototype.getSource=function(){return this._source},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mee=60*1e3,Fee=12*60*60*1e3,Uee=function(){function e(t,n,r,i,s){this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:Mee,minimumFetchIntervalMillis:Fee},this.defaultConfig={}}return e.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=ge.DEBUG;break;case"silent":this._logger.logLevel=ge.SILENT;break;default:this._logger.logLevel=ge.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return R(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=i.sent(),n=t[0],r=t[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return i.sent(),[2,!0]}})})},e.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},e.prototype.fetch=function(){return R(this,void 0,void 0,function(){var t,n,r,i=this;return N(this,function(s){switch(s.label){case 0:t=new Oee,setTimeout(function(){return R(i,void 0,void 0,function(){return N(this,function(a){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return s.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return s.sent(),[3,6];case 4:return n=s.sent(),r=Aee(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw s.sent(),n;case 6:return[2]}})})},e.prototype.fetchAndActivate=function(){return R(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},e.prototype.getAll=function(){var t=this;return jee(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=t.getValue(r),n},{})},e.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},e.prototype.getNumber=function(t){return this.getValue(t).asNumber()},e.prototype.getString=function(t){return this.getValue(t).asString()},e.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[t]!==void 0?new mw("remote",n[t]):this.defaultConfig&&this.defaultConfig[t]!==void 0?new mw("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new mw("static"))},e}();function jee(e,t){return e===void 0&&(e={}),t===void 0&&(t={}),Object.keys(Me(Me({},e),t))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(e,t){var n=e.target.error||void 0;return wr.create(t,{originalErrorMessage:n&&n.message})}var zs="app_namespace_store",Vee="firebase_remote_config",Bee=1;function $ee(){return new Promise(function(e,t){var n=indexedDB.open(Vee,Bee);n.onerror=function(r){t(Hp(r,"storage-open"))},n.onsuccess=function(r){e(r.target.result)},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(zs,{keyPath:"compositeKey"})}}})}var qee=function(){function e(t,n,r,i){i===void 0&&(i=$ee()),this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(t){return this.set("active_config",t)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(t){return R(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var l=n.transaction([zs],"readonly"),c=l.objectStore(zs),h=r.createCompositeKey(t);try{var p=c.get(h);p.onerror=function(v){a(Hp(v,"storage-get"))},p.onsuccess=function(v){var m=v.target.result;s(m?m.value:void 0)}}catch(v){a(wr.create("storage-get",{originalErrorMessage:v&&v.message}))}})]}})})},e.prototype.set=function(t,n){return R(this,void 0,void 0,function(){var r,i=this;return N(this,function(s){switch(s.label){case 0:return[4,this.openDbPromise];case 1:return r=s.sent(),[2,new Promise(function(a,l){var c=r.transaction([zs],"readwrite"),h=c.objectStore(zs),p=i.createCompositeKey(t);try{var v=h.put({compositeKey:p,value:n});v.onerror=function(m){l(Hp(m,"storage-set"))},v.onsuccess=function(){a()}}catch(m){l(wr.create("storage-set",{originalErrorMessage:m&&m.message}))}})]}})})},e.prototype.delete=function(t){return R(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var l=n.transaction([zs],"readwrite"),c=l.objectStore(zs),h=r.createCompositeKey(t);try{var p=c.delete(h);p.onerror=function(v){a(Hp(v,"storage-delete"))},p.onsuccess=function(){s()}}catch(v){a(wr.create("storage-delete",{originalErrorMessage:v&&v.message}))}})]}})})},e.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zee=function(){function e(t){this.storage=t}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return R(this,void 0,void 0,function(){var t,n,r,i,s,a;return N(this,function(l){switch(l.label){case 0:return t=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,t];case 1:return i=l.sent(),i&&(this.lastFetchStatus=i),[4,n];case 2:return s=l.sent(),s&&(this.lastSuccessfulFetchTimestampMillis=s),[4,r];case 3:return a=l.sent(),a&&(this.activeConfig=a),[2]}})})},e.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},e.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wee(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(wr.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Kee(e){if(!(e instanceof Ol)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var Hee=function(){function e(t,n){this.client=t,this.storage=n}return e.prototype.fetch=function(t){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,n)]}})})},e.prototype.attemptFetch=function(t,n){var r=n.throttleEndTimeMillis,i=n.backoffCount;return R(this,void 0,void 0,function(){var s,a,l;return N(this,function(c){switch(c.label){case 0:return[4,Wee(t.signal,r)];case 1:c.sent(),c.label=2;case 2:return c.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return s=c.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return c.sent(),[2,s];case 5:if(a=c.sent(),!Kee(a))throw a;return l={throttleEndTimeMillis:Date.now()+_E(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(l)];case 6:return c.sent(),[2,this.attemptFetch(t,l)];case 7:return[2]}})})},e}(),LO="@firebase/remote-config",Gee="0.1.37";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qee(e){e.INTERNAL.registerComponent(new $n("remoteConfig",t,"PUBLIC").setMultipleInstances(!0)),e.registerVersion(LO,Gee);function t(n,r){var i=r.instanceIdentifier,s=n.getProvider("app").getImmediate(),a=n.getProvider("installations").getImmediate();if(typeof window>"u")throw wr.create("registration-window");var l=s.options,c=l.projectId,h=l.apiKey,p=l.appId;if(!c)throw wr.create("registration-project-id");if(!h)throw wr.create("registration-api-key");if(!p)throw wr.create("registration-app-id");i=i||"firebase";var v=new qee(p,s.name,i),m=new zee(v),y=new xl(LO);y.logLevel=ge.ERROR;var w=new Pee(a,e.SDK_VERSION,i,c,h,p),b=new Hee(w,v),S=new kee(b,v,m,y),I=new Uee(s,S,m,v,y);return I.ensureInitialized(),I}}Qee(Z);var Yee="firebase",Xee="8.5.0";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Z.registerVersion(Yee,Xee,"app");var Jee="firebase",Zee="8.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);Z.registerVersion(Jee,Zee);const ete={apiKey:"AIzaSyD3Ca8i2qdjcFV8p8d5_FMDpexxpRNYkqo",authDomain:"register-5545c.firebaseapp.com",projectId:"register-5545c",storageBucket:"register-5545c.appspot.com",messagingSenderId:"969843190508",appId:"1:969843190508:web:89bd26a376ee83e93d53c9",measurementId:"G-WYLBYP6F71"};Z.initializeApp(ete);const Pm=Z.auth(),Gh=z.createContext();function tte({children:e}){const t=(i,s)=>{switch(s.type){case"LOGIN":return{...i,user:s.payload};case"LOGOUT":return{...i,user:null};case"READY":return{...i,user:s.payload,isReady:!0};default:return i}},[n,r]=z.useReducer(t,{user:null,isReady:!1});return z.useEffect(()=>{const i=Pm.onAuthStateChanged(s=>{r({type:"READY",payload:s}),i()})},[]),ue(Gh.Provider,{value:{...n,dispatch:r},children:e})}function nte(){const{user:e,dispatch:t}=z.useContext(Gh);return console.log("salom"),Xn("div",{className:"px-12 py-4 bg-green-400 mx-auto flex justify-between text-xl items-center",children:[ue("div",{children:ue(L_,{to:"/",className:"font-bold text-2xl ",children:"MyMoney"})}),Xn("div",{className:"flex gap-6",children:[!e&&Xn(g$,{children:[ue(L_,{to:"/signup",className:"border-b-2 px-4 py-1  hover:border-red-700 hover:text-red-700 text-white ease-linear transition-all duration-100",children:"Signup"}),ue(L_,{to:"/login",className:"border-b-2 px-4 py-1  hover:border-red-700 hover:text-red-700 text-white ease-linear transition-all duration-100",children:"Login"})]}),e&&Xn("h1",{children:[" ","Hello ",e.displayName," ",ue("button",{className:"border rounded px-2 py-1 ml-5",onClick:async()=>{await Pm.signOut(),t({type:"LOGOUT"})},children:"Log out"})," "]})]})]})}function rte(){return ue("div",{children:ue("h1",{children:"Home"})})}function ite(){const{dispatch:e}=z.useContext(Gh),[t,n]=z.useState(null),[r,i]=z.useState(null);return{error:t,isPending:r,login:async(a,l)=>{try{i(!0);const c=await Pm.signInWithEmailAndPassword(a,l);e({type:"LOGIN",payload:c.user}),i(!1)}catch(c){i(!1),n(c.message)}}}}function ote(){const[e,t]=z.useState(""),[n,r]=z.useState(""),{error:i,isPending:s,login:a}=ite();return ue("div",{className:"pt-24",children:Xn("form",{onSubmit:c=>{c.preventDefault(),a(e,n)},action:"",className:"flex flex-col gap-8 w-96 mx-auto text-xl bg",children:[Xn("label",{htmlFor:"input1",children:["email: ",ue("br",{}),ue("input",{onChange:c=>{t(c.target.value)},placeholder:"email kiritin...",className:"border border-black w-full rounded px-2 py-1 mt-1",id:"input1",type:"email"})]}),Xn("label",{htmlFor:"input2",children:["password: ",ue("br",{}),ue("input",{onChange:c=>{r(c.target.value)},placeholder:"password kiriting...",className:"border  border-black w-full rounded px-2 py-1 mt-1",id:"input2",type:"text"})]}),!s&&ue("button",{className:"hover:bg-green-600 hover:text-white transition-all delay-150 ease-linear border-green-600 p-1 w-32 rounded border-2 text-green-600 font-bold",children:"login"}),s&&ue("button",{className:"hover:bg-green-600 hover:text-white transition-all delay-150 ease-linear border-green-600 p-1 w-32 rounded border-2 text-green-600 font-bold",children:"uploading..."}),i&&ue("p",{children:i})]})})}function ste(){const{dispatch:e}=z.useContext(Gh),[t,n]=z.useState(null),[r,i]=z.useState(null);return{error:t,isPending:r,signUp:async(a,l,c)=>{try{i(!0);const h=await Pm.createUserWithEmailAndPassword(a,l);await h.user.updateProfile({displayName:c}),e({type:"LOGIN",payload:h.user}),i(!1)}catch(h){i(!1),n(h.message)}}}}function ate(){const{error:e,isPending:t,signUp:n}=ste(),[r,i]=z.useState(""),[s,a]=z.useState(""),[l,c]=z.useState("");return ue("div",{className:"pt-24",children:Xn("form",{onSubmit:p=>{p.preventDefault(),n(r,s,l)},action:"",className:"flex flex-col gap-8 w-96 mx-auto my-auto text-xl",children:[Xn("label",{htmlFor:"input1",children:["email: ",ue("br",{}),ue("input",{onChange:p=>{i(p.target.value)},placeholder:"email kiritin...",className:"border border-black w-full rounded px-2 py-1 mt-1",id:"input1",type:"email"})]}),Xn("label",{htmlFor:"input2",children:["password: ",ue("br",{}),ue("input",{onChange:p=>{a(p.target.value)},placeholder:"password kiriting...",className:"border  border-black w-full rounded px-2 py-1 mt-1",id:"input2",type:"text"})]}),Xn("label",{htmlFor:"input3",children:["displayName: ",ue("br",{}),ue("input",{onChange:p=>{c(p.target.value)},placeholder:"Ismingizni kiriting kiriting...",className:"border  border-black w-full rounded px-2 py-1 mt-1",id:"input3",type:"text"})]}),!t&&ue("button",{className:"hover:bg-green-600 hover:text-white transition-all delay-150 ease-linear border-green-600 p-1 w-32 rounded border-2 text-green-600 font-bold",children:"Signup"}),t&&ue("button",{className:"hover:bg-green-600 hover:text-white transition-all delay-150 ease-linear border-green-600 p-1 w-32 rounded border-2 text-green-600 font-bold",children:"uploading..."}),e&&ue("p",{children:e})]})})}function ute(){const{user:e,isReady:t}=z.useContext(Gh);return console.log(e),ue("div",{className:"App",children:t&&Xn(y6,{children:[ue(nte,{}),Xn(d6,{children:[e&&ue($s,{path:"/",element:ue(rte,{})}),!e&&ue($s,{path:"/",element:ue(D_,{to:"/login"})}),e&&ue($s,{path:"/login",element:ue(D_,{to:"/"})}),!e&&ue($s,{path:"/login",element:ue(ote,{})}),e&&ue($s,{path:"/signup",element:ue(D_,{to:"/"})}),!e&&ue($s,{path:"/signup",element:ue(ate,{})})]})]})})}_w.createRoot(document.getElementById("root")).render(ue(qO.StrictMode,{children:ue(tte,{children:ue(ute,{})})}));
